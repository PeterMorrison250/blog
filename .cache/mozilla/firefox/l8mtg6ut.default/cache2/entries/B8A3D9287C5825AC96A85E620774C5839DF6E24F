webpackJsonp([3],{0:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=s(28),i=n(r),o=s(753);new i["default"]({PlatformRouter:o.PlatformRouter})},14:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=i["default"].createActions([]);o.persist=i["default"].createAction({asyncResult:!0}),o.setWorkspace=i["default"].createAction({asyncResult:!0}),o.setStatus=i["default"].createAction(),o.setReadyState=i["default"].createAction(),o.setIdleState=i["default"].createAction(),o.updateFiles=i["default"].createAction({asyncResult:!0}),o.createDirectories=i["default"].createAction({asyncResult:!0}),o.getFile=i["default"].createAction({asyncResult:!0}),o.getFiles=i["default"].createAction({asyncResult:!0}),o.deleteFile=i["default"].createAction({asyncResult:!0}),o.rename=i["default"].createAction({asyncResult:!0}),o.lock=i["default"].createAction({asyncResult:!0}),o.unlock=i["default"].createAction({asyncResult:!0}),o.peerLock=i["default"].createAction({asyncResult:!0}),o.peerUnlock=i["default"].createAction({asyncResult:!0}),o.getFileTree=i["default"].createAction({asyncResult:!0}),o.initialize=i["default"].createAction({asyncResult:!0}),t["default"]=o},15:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.STATUSES=void 0;var i=s(4),o=n(i),a=s(10),l=n(a),u=s(14),c=n(u),d=s(286),h=n(d),f=s(762),p=n(f),m=s(763),g=n(m),v=s(21),y=n(v),_=s(41),b=n(_),k=s(30),w=n(k),x=s(8),S=n(x),C={CONNECTING:{message:"Connecting to Codecademy",type:"neutral"},AVAILABLE:{message:"Connected to Codecademy",type:"success"},UNAVAILABLE:{message:"Unable to connect to Codecademy",type:"error"},DISCONNECTED:{message:"Lost connection to Codecademy",type:"error"},IDLE:{message:"Session timed out",type:"idle"}};t["default"]=o["default"].createStore({mixins:[l["default"].store],init:function(){this.listenToMany({initialize:c["default"].initialize,persist:c["default"].persist,setWorkspace:c["default"].setWorkspace,setStatus:c["default"].setStatus,setReadyState:c["default"].setReadyState,setIdleState:c["default"].setIdleState,updateFiles:c["default"].updateFiles,createDirectories:c["default"].createDirectories,deleteFile:c["default"].deleteFile,rename:c["default"].rename,getFileTree:c["default"].getFileTree,getFile:c["default"].getFile,getFiles:c["default"].getFiles})},getInitialState:function(){return{workspaceDirty:!1,workspaceReady:!1,workspaceIdle:!1,workspaceClientHasLostConnection:!1,workspaceBackend:null,workspaceSlug:null,workspaceOwner:null,workspaceObject:null,workspaceStatusType:null,workspaceStatusMessage:null}},broadcast:function(e,t){this["interface"].broadcast(e,t)},setWorkspace:function(e){var t=this;if(this.state.workspaceObject&&e.slug===this.state.workspaceSlug)return this.setState({workspaceReady:!0}),this.trigger(this.state),void c["default"].setWorkspace.completed(this["interface"].workspace);this.setState({workspaceReady:!1,workspaceObject:null,workspaceClientHasLostConnection:!1});var s=void 0;return e.backend?(this["interface"]=new p["default"](e),s="godex"):(this["interface"]=new g["default"](e.slug),s="library"),c["default"].setStatus(C.CONNECTING),this.setState({workspaceSlug:e.slug,workspaceOwner:e.user_id,workspaceBackend:s}),this.initialize().then(function(){c["default"].setWorkspace.completed(t["interface"].workspace),y["default"].increment("WorkspaceStore.setWorkspace."+s,"completed")},function(e){w["default"].error(e),h["default"].apologize(),c["default"].setWorkspace.failed(e),c["default"].setStatus("Unable to connect to Codecademy","error"),y["default"].increment("WorkspaceStore.setWorkspace."+s,"failed")})},setStatus:function(e,t){"object"===("undefined"==typeof e?"undefined":r(e))?this._setStatus(e):this._setStatus({message:e,type:t})},_setStatus:function(e){if(void 0===e.message||void 0===e.type)throw new Error('Bad WorkspaceStore status request; should be an object with a "message" and a "type"');this.setState({workspaceStatusMessage:e.message,workspaceStatusType:e.type})},setReadyState:function(e){this.setState({workspaceReady:e})},setIdleState:function(e){this.setState({workspaceIdle:e})},getSlug:function(){return this.state.workspaceObject?this.state.workspaceObject.slug:void 0},initialize:function(){var e=this;return this["interface"].initialize()["catch"](function(e){w["default"].error({message:"initialize promise rejected; "+e.toString()},"javascript_errors")}).then(function(){e.setState({workspaceObject:e["interface"].workspace,workspaceReady:!0,workspaceIdle:!1}),c["default"].initialize.completed()},function(){c["default"].initialize.failed()})},persist:function(){var e=this;return this.state.workspaceDirty?((0,b["default"])("info","Persisting workspace '"+this.state.workspaceObject.slug+"'"),new Promise(function(t,s){e._attemptToPersist(t,s)})):void c["default"].persist.completed()},_attemptToPersist:function(e,t){var s=this,n=new Date,r="francine.workspace."+this["interface"].workspace.backend+".persist";this["interface"].persist().then(function(){s._persistAttempts=0,e(),(0,b["default"])("info","Successfully persisted workspace '"+s.state.workspaceObject.slug+"'"),y["default"].increment(r,"success"),s.setState({workspaceDirty:!1})},function(i){s._persistAttempts++,y["default"].increment(r,"error"),y["default"].timing(r,(new Date).valueOf()-n.valueOf()),(0,b["default"])("error","Error while persisting workspace "+s.state.workspaceObject.slug+": "+i),s._persistAttempts<3?((0,b["default"])("info","Giving up trying to persist workspace"),y["default"].increment(r,"give-up"),s._attemptToPersist(e,t)):t("Failed to persist 3 times in a row")})},getFileTree:function(){var e=this;return this["interface"].getFileTree().then(function(){e.setState({workspaceObject:e["interface"].workspace})})},getFiles:function(e){var t=this;return this["interface"].getFiles(e).then(function(){t.trigger(t.state)})},getFile:function(e,t){var s=this;return this["interface"].getFile(e,t).then(function(){s.trigger(s.state)})},deleteFile:function(e){var t=this;return this["interface"].deleteFile(e).then(function(){t.setState({workspaceDirty:!0,workspaceObject:t["interface"].workspace})})},updateFiles:function(e){var t=this;return this["interface"].updateFiles(e).then(function(){t.setState({workspaceDirty:!0,workspaceObject:t["interface"].workspace})})},createDirectories:function(e){var t=this;return this["interface"].createDirectories(e).then(function(){t.setState({workspaceDirty:!0,workspaceObject:t["interface"].workspace})})},rename:function(e,t,s){var n=this;return this["interface"].rename(e,t,s).then(function(){n["interface"].getFileTree().then(function(){n.setState({workspaceDirty:!0,workspaceObject:n["interface"].workspace})})})},isOwner:function(){return this.state.workspaceOwner===S["default"].id()}}),t.STATUSES=C},21:function(e,t,s){var n;n=function(e,t,s){"use strict";var n="/stats/v1/batch",r=function(e){e=e||{},this.FLUSH_INTERVAL=1e3*(e.flushInterval||10),this.QUEUE_LIMIT=e.queueLimit||10,this.flushUrl=e.flushUrl,this._statsdQueue=[],this._beforeUnloadQueue={},this._flushTimeout=null,e.stopped||this._startIntervalFlush(),this._registerBeforeUnload()};(function(){this._preparedData=function(){return{data:this._statsdQueue}},this._flush=function(){var e=new XMLHttpRequest;e.open("POST",this.flushUrl,!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify(this._preparedData())),this._statsdQueue=[]},this._flushIfNecessary=function(){this._statsdQueue.length>0&&this._flush()},this._flushBeforeOnload=function(){for(var e in this._beforeUnloadQueue)this._beforeUnloadQueue[e]();this._flushIfNecessary()},this._record=function(e,t,s,n){var r={name:e,payload:{measurement:t,action:s}};null!=n&&(r.payload.value=n),this._statsdQueue.push(r),setTimeout(this._flushIfOverflow.bind(this),0)},this._flushIfOverflow=function(){if(this._statsdQueue.length>=this.QUEUE_LIMIT){var e=!1;null!==this._flushTimeout&&(this._stopIntervalFlush(),e=!0),this._flush(),e&&this._startIntervalFlush()}},this._stopIntervalFlush=function(){clearTimeout(this._flushTimeout),this._flushTimeout=null},this._startIntervalFlush=function(){this._flushIfNecessary(),this._flushTimeout=setTimeout(this._startIntervalFlush.bind(this),this.FLUSH_INTERVAL)},this._registerBeforeUnload=function(){window.addEventListener("beforeunload",this._flushBeforeOnload.bind(this),!1)},this.increment=function(e,t){this._record(e,t,"increment",null)},this.decrement=function(e,t){this._record(e,t,"decrement",null)},this.gauge=function(e,t,s){this._record(e,t,"gauge",s)},this.timing=function(e,t,s){this._record(e,t,"timing",s)},this.set=function(e,t,s){this._record(e,t,"set",s)},this.registerUnloadAction=function(e,t){this._beforeUnloadQueue[e]=t}}).call(r.prototype),s.exports=new r({flushUrl:n})}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},34:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(10),a=n(o),l=s(131),u=n(l),c=s(188),d=n(c),h=s(187),f=n(h),p=s(14),m=n(p),g=s(79),v=s(8),y=n(v),_=s(21),b=n(_),k=s(539),w=n(k),x=s(30),S=(n(x),3),C=15e3;t["default"]=i["default"].createStore({mixins:[a["default"].store],init:function(){this.listenToMany(u["default"]),this.state.manager=new w["default"].Manager(window.location.protocol+"//"+window.location.host+"/api/management/v1",{id:y["default"].id(),authentication_token:y["default"].authenticationToken(),username:y["default"].get("username")})},getInitialState:function(){return{manager:null,client:null,status:null,ready:!1}},storeDidUpdate:function(e){e.status!==this.state.status&&"string"==typeof this.state.status&&b["default"].increment("GodexClientStore.set-status",this.state.status)},onGetClient:function(e){var t=this;this.contentWorkspace=e,this.slug=e.slug,this.type=e.type,this._connectionAttempts=0,this._hasAskedForFreshInstance=!1,this._getFreshGodexConn().then(function(e){u["default"].getClient.completed(t.state.client)},function(e){u["default"].getClient.failed(e)})},onPersist:function(){var e=this;return new Promise(function(t,s){e.state.client.persistWorkspace(e.slug,function(e,n){e?s(e):t(n)})})},onGetFileTree:function(){var e=this;return new Promise(function(t,s){e.state.client.getListing(e.slug,function(e,n){e?(u["default"].getFileTree.failed(e),s(e)):(u["default"].getFileTree.completed(n),t())})})},onExecute:function(e){var t=this;return new Promise(function(s,n){t.state.client.execute(t.slug,e,function(e,t){e?(u["default"].execute.failed(e),n(e)):(u["default"].execute.completed(t),s())})})},onRestoreWorkspace:function(e){var t=this;return new Promise(function(s,n){t.state.client.restoreWorkspace(t.slug,e,function(e,t,r){t?(u["default"].restoreWorkspace.failed(t),n(t)):(u["default"].restoreWorkspace.completed(e,r),s())})})},onCheckpointWorkspace:function(e){var t=this;return new Promise(function(s,n){t.state.client.checkpointWorkspace(t.slug,e,function(e){e?(u["default"].checkpointWorkspace.failed(e),n(e)):(u["default"].checkpointWorkspace.completed(),s())})})},_getFreshGodexConn:function(){return this.setState({ready:!1}),delete this.state.client,this._attemptToConnect()},_attemptToConnect:function(){var e=this;return this.setState({status:"connecting"}),new Promise(function(t,s){e.state.manager.getGodexClient(e.contentWorkspace,function(n,r){e._acceptGodexClient(r).then(function(n){b["default"].increment("GodexClientStore.getClient","ok"),e._ensureWorkspace().then(function(){t(n)},s)},function(e){b["default"].increment("GodexClientStore.getClient","error")})},function(e,t){s(e)})})},_acceptGodexClient:function(e){var t=this;return new Promise(function(s,n){var r=!1;t.state.client=e;var i=setTimeout(function(){n("Connect timeout"),b["default"].increment("GodexClientStore.client-events","connection-time-out"),e.close(4e3,"Connection Timeout")},C);e.removeAllListeners("ready"),e.on("ready",function(){r=!0,clearTimeout(i),b["default"].increment("GodexClientStore.client-events","ready"),s(e)}),e.removeAllListeners("unauthorized"),e.on("unauthorized",function(){clearTimeout(i),b["default"].increment("GodexClientStore.client-events","unauthorized"),u["default"].getClient.failed()}.bind(t)),e.on("idle",function(){t.setState({status:"idle",ready:!1})}),e.removeAllListeners("disconnected"),e.on("disconnected",function(){r?(t.setState({status:"disconnected"}),b["default"].increment("GodexClientStore.client-events","lost-connection")):(n("Could not connect"),b["default"].increment("GodexClientStore.client-events","could-not-connect")),clearTimeout(i),t.setState({ready:!1}),t._respondToDisconnection()}),e.connect()})},_respondToDisconnection:function(){var e=this;this._connectionAttempts++,this._connectionAttempts>S?this._giveUpOnInstance():setTimeout(function(){e._attemptToConnect()},1e3)},_giveUpOnInstance:function(e){var t=this;delete this.state.client,this._hasAskedForFreshInstance?(this.setState({status:"unavailable"}),b["default"].increment("GodexClientStore.failures","failed-to-connect-to-two-different-instances"),u["default"].getClient.failed()):this.state.manager.askForFreshGodexInstance({success:function(){t._connectionAttempts=0,t._hasAskedForFreshInstance=!0,t._attemptToConnect()},error:function(e){t.setState({status:"unavailable"}),b["default"].increment("GodexClientStore.failures","failed-to-get-fresh-instance"),u["default"].getClient.failed()}})},_ensureWorkspace:function(){var e=this;return new Promise(function(t,s){var n=new Date;return"undefined"==typeof e.slug?s("Exercise does not define its workspace"):void e.state.client.createWorkspace(e.contentWorkspace,function(r,i){if(r)return b["default"].increment("GodexClientStore.createWorkspace","error"),s(r);if(i.LockStatus&&i.LockStatus.Locked&&m["default"].peerLock(i.LockStatus.User),i.Peers&&(d["default"].update(i.Peers),y["default"].isAdvisor())){var o=i.Peers.filter(function(e){return e.Username!==y["default"].get("username")}),a="";o.forEach(function(e){a+=e.Username+" "}),i.Peers.length>1&&((0,g.trackEvent)("joined-learner-collaboration",{learners:a}),f["default"].adminChange("nolock",!0))}return b["default"].timing("GodexClientStore.createWorkspace",e.slug,(new Date).valueOf()-n.valueOf()),e.setState({ready:!0,status:"available"}),t(i)})})}})},40:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=i["default"].createActions([]);o.closeFile=i["default"].createAction(),o.openFile=i["default"].createAction(),o.setCurrentOpenFile=i["default"].createAction(),o.updateCurrentFile=i["default"].createAction(),o.saveFiles=i["default"].createAction({asyncResult:!0}),o.reloadFile=i["default"].createAction({asyncResult:!0}),t["default"]=o},41:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){i["default"][e]?i["default"][e]({event:t},"learner_activity"):console.warn("Tried to log activity using ${type} type, which doesn't exist")};var r=s(30),i=n(r)},55:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=i["default"].createActions([]);o.clearHistory=i["default"].createAction(),o.refresh=i["default"].createAction({asyncResult:!0}),o.navigateBack=i["default"].createAction({asyncResult:!0}),o.load=i["default"].createAction({asyncResult:!0}),o.push=i["default"].createAction(),t["default"]=o},89:function(e,t,s){var n;n=function(e,t,s){s.exports={extname:function(e){return e?(e.split(".").slice(-1)[0]||"").toLowerCase():void 0},contentEncoding:function(e){var t=e.toLowerCase()||"";switch(t){case"jpg":case"jpeg":case"png":case"gif":return"base64";default:return"text"}}}}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},106:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,d["default"])(e)};var r=s(1),i=n(r),o=s(1122),a=n(o),l=s(133),u=n(l),c=s(537),d=n(c);d["default"].setOptions({highlight:function(e,t){var s=i["default"].createElement(u["default"],{language:t},e);return a["default"].renderToString(s)}})},107:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=s(4),o=n(i),a=s(10),l=n(a),u=s(55),c=n(u),d=s(15),h=n(d),f=s(34),p=n(f),m=s(72),g=n(m),v=s(30),y=n(v),_={internalUrl:"",displayUrl:""};t["default"]=o["default"].createStore({mixins:[l["default"].store],init:function(){this.listenToMany(c["default"])},getInitialState:function(){return{nonce:0,history:[],historyIndex:-1,loading:!1,onLoadCallback:r.noop,location:_}},currentLocation:function(){return this.state.history[this.state.historyIndex]},onClearHistory:function(){this.setState({history:[],historyIndex:-1,location:_})},onRefresh:function(){this.currentLocation()&&this.setState({nonce:this.state.nonce+1,loading:!0,onLoadCallback:this.onLoadComplete(c["default"].refresh)})},onNavigateBack:function(){this.setState({historyIndex:this.state.historyIndex-1,location:this.currentLocation(),nonce:this.state.nonce+1,loading:!0,onLoadCallback:this.onLoadComplete(c["default"].navigateBack)})},onLoad:function(e){if(void 0!==e){if(!/localhost/.test(e)&&!/http/.test(e)){"/"!==e[0]&&(e="/"+e);var t=void 0,s=void 0;this.state.location?(t=this.state.location.displayUrl.host(),s=this.state.location.displayUrl.port()):(t="localhost",s="8000"),e=s?t+":"+s+e:t+e}/^http.*/.test(e)||(e="http://"+e);var n=this.currentLocation(),r=this.displayUrlToLocation(e);n&&r.displayUrl.toString()===n.displayUrl.toString()||this.push(r),this.setState({location:r,nonce:this.state.nonce+1,loading:!0,onLoadCallback:this.onLoadComplete(c["default"].load)})}},onPush:function(e){var t=this.internalUrlToLocation(e);t.internalUrl.toString()!==this.state.location.internalUrl.toString()&&(this.push(t),this.setState({location:this.currentLocation()}))},push:function(e){this.state.history=this.state.history.slice(0,this.state.historyIndex+1),this.state.history.push(e),this.state.historyIndex=this.state.history.length-1},onLoadComplete:function(e){var t=this;return function(){e.completed(),t.setState({loading:!1})}},displayUrlToLocation:function(e){return{displayUrl:new g["default"](e),internalUrl:this._displayToInternalUrl(e)}},internalUrlToLocation:function(e){return{internalUrl:new g["default"](e),displayUrl:this._internalToDisplayUrl(e)}},_displayToInternalUrl:function(e){if(void 0===e)return"";var t=new g["default"](e);if("localhost"!==t.host()&&""!==t.host())return e;this._originalPort=t.port(),"8080"===t.port()&&t.port("8000");var s=void 0;switch(h["default"].state.workspaceBackend){case"godex":return"development"===CCDATA.env?(t.host("external-dev.codecademy.com"),t.protocol("http"),t):(t.port(""),(s=p["default"].state.manager)?(t.host(s.mgmt.instance.http_url),t.protocol("https"),t):(y["default"].error("Unable to translate browser URL because godex manager is not available"),""));case"library":return""===t.host()&&(t.host("localhost"),t.port("8000")),t;default:throw new Error("Unknown workspaceBackend"+h["default"].state.workspaceBackend)}},_internalToDisplayUrl:function(e){var t=new g["default"](e);return"development"===CCDATA.env?t.host("localhost"):/ccterminalcloud/.test(e)&&t.host("localhost"),t}})},130:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=i["default"].createActions([]);o.publishFilenames=i["default"].createAction(),o.loadFiles=i["default"].createAction({asyncResult:!0}),t["default"]=o},131:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});for(var r=s(4),i=n(r),o=i["default"].createActions([]),a=["getClient","persist","getFileTree","getFiles","getFile","deleteFile","updateFiles","createDirectories","rename","execute","restoreWorkspace","checkpointWorkspace"],l=0;l<a.length;l++){var u=a[l];o[u]=i["default"].createAction({asyncResult:!0})}t["default"]=o},132:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["resized","resizing","cueSeen"])},136:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.BINARY_FILE_EXTENSIONS=t.BASE64_ENCODING=t.PLAINTEXT_ENCODING=void 0;var o=s(21),a=n(o),l=s(30),u=n(l),c=t.PLAINTEXT_ENCODING=1,d=t.BASE64_ENCODING=2,h=t.BINARY_FILE_EXTENSIONS=["jpeg","jpg","gif","png"],f=/[\u00A0-\u2666]/g,p=function(){function e(t){r(this,e),this.name=t.name,this.path=t.path,void 0!==t.encodedContent?this._encodedContent=t.encodedContent:void 0!==t.content&&(this.content=t.content)}return i(e,[{key:"clone",value:function(){return new e({name:this.name,path:this.path,encodedContent:this._encodedContent})}},{key:"asJSON",value:function(){return{name:this.name,path:this.path,encodedContent:this.contentBase64}}},{key:"toJSON",value:function(){return JSON.stringify(this.asJSON())}},{key:"encoding",get:function(){return h.indexOf(this.extension)>-1?d:c}},{key:"type",get:function(){switch(this.extension){case"jpeg":case"jpg":case"png":case"gif":case"svg":return"image";default:return"code"}}},{key:"extension",get:function(){return this.name.split(".").slice(-1)[0].toLowerCase()}},{key:"content",get:function(){try{var e=atob(this._encodedContent);return a["default"].increment("platform.lib.file.base64.decode","success"),e}catch(t){return a["default"].increment("platform.lib.file.base64.decode","error"),u["default"].error("Unable to base64-decode data for file "+this.path),""}},set:function(e){var t=e.replace(f,"");try{this._encodedContent=btoa(t),a["default"].increment("platform.lib.file.base64.encode","success")}catch(s){a["default"].increment("platform.lib.file.base64.encode","error"),u["default"].error("Unable to base64-encode data for file "+this.path)}}},{key:"contentBase64",get:function(){return this._encodedContent}}],[{key:"emptyWithPath",value:function(t){var s=t.split("/").slice(-1)[0];return new e({path:t,name:s,content:""})}}]),e}();t["default"]=p},137:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=i["default"].createActions([]);o.resetQuiz=i["default"].createAction(),o.dismissWarning=i["default"].createAction(),o.registerAnswer=i["default"].createAction(),o.nextQuestion=i["default"].createAction(),o.prevQuestion=i["default"].createAction(),t["default"]=o},138:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(14),a=n(o),l=s(15),u=n(l),c=s(315),d=n(c),h=s(130),f=n(h),p=s(41),m=n(p),g=s(21),v=n(g),y=s(3),_=n(y);t["default"]=i["default"].createStore({init:function(){var e=this;this.files=[],this.pendingFiles=[],this.workspaceSlug=null,f["default"].publishFilenames.listen(this.setDefaultFiles),this.listenTo(f["default"].loadFiles,function(){e.getDefaultFiles(u["default"].state)}),this.listenTo(u["default"],this.getDefaultFiles)},setDefaultFiles:function(e){var t=_["default"].pluck(e,"filename");this.files=t},getDefaultFiles:function(e){var t=this,s=e.workspaceObject&&e.workspaceSlug!==this.workspaceSlug,n=!this.fetchedFiles||this.fetchedFiles.join(",")!==this.files.join(","),r=d["default"].tokenize()!==this.lastExerciseFetchedFor;e.workspaceObject&&(r||s||n)&&e.workspaceReady&&(this.workspaceSlug=e.workspaceSlug,this.fetchedFiles=this.files,this.lastExerciseFetchedFor=d["default"].tokenize(),a["default"].getFiles(this.files).then(function(s){var n=s.map(function(e){return e.path}),r=!0,i=!1,o=void 0;try{for(var a,l=t.files[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;-1===n.indexOf(u)?(v["default"].increment("platform.lib.workspace.get-default-file","not-found"),(0,m["default"])("error","Failed to get file '"+u+"' from workspace '"+e.workspaceSlug+"'")):v["default"].increment("platform.lib.workspace.get-default-file","found")}}catch(c){i=!0,o=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}t.trigger(s)}))}})},158:function(e,t){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,s,r,a,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(s=this._events[e],o(s))return!1;if(n(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),s.apply(this,a)}else if(i(s))for(a=Array.prototype.slice.call(arguments,1),u=s.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,a);return!0},s.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?s.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){function s(){this.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return s.listener=t,this.on(e,s),this},s.prototype.removeListener=function(e,t){var s,r,o,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=this._events[e],o=s.length,r=-1,s===t||n(s.listener)&&s.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(s)){for(a=o;a-- >0;)if(s[a]===t||s[a].listener&&s[a].listener===t){r=a;break}if(0>r)return this;1===s.length?(s.length=0,delete this._events[e]):s.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s=this._events[e],n(s))this.removeListener(e,s);else if(s)for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},s.listenerCount=function(e,t){return e.listenerCount(t)}},176:function(e,t,s){(function(e,n){function r(e,s){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(s)?n.showHidden=s:s&&t._extend(n,s),k(n.showHidden)&&(n.showHidden=!1),k(n.depth)&&(n.depth=2),k(n.colors)&&(n.colors=!1),k(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),l(n,e,n.depth)}function i(e,t){var s=r.styles[t];return s?"["+r.colors[s][0]+"m"+e+"["+r.colors[s][1]+"m":e}function o(e,t){return e}function a(e){var t={};return e.forEach(function(e,s){t[e]=!0}),t}function l(e,s,n){if(e.customInspect&&s&&T(s.inspect)&&s.inspect!==t.inspect&&(!s.constructor||s.constructor.prototype!==s)){var r=s.inspect(n,e);return _(r)||(r=l(e,r,n)),r}var i=u(e,s);if(i)return i;var o=Object.keys(s),m=a(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(s)),C(s)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(s);if(0===o.length){if(T(s)){var g=s.name?": "+s.name:"";return e.stylize("[Function"+g+"]","special")}if(w(s))return e.stylize(RegExp.prototype.toString.call(s),"regexp");if(S(s))return e.stylize(Date.prototype.toString.call(s),"date");if(C(s))return c(s)}var v="",y=!1,b=["{","}"];if(p(s)&&(y=!0,b=["[","]"]),T(s)){var k=s.name?": "+s.name:"";v=" [Function"+k+"]"}if(w(s)&&(v=" "+RegExp.prototype.toString.call(s)),S(s)&&(v=" "+Date.prototype.toUTCString.call(s)),C(s)&&(v=" "+c(s)),0===o.length&&(!y||0==s.length))return b[0]+v+b[1];if(0>n)return w(s)?e.stylize(RegExp.prototype.toString.call(s),"regexp"):e.stylize("[Object]","special");e.seen.push(s);var x;return x=y?d(e,s,n,m,o):o.map(function(t){return h(e,s,n,m,t,y)}),e.seen.pop(),f(x,v,b)}function u(e,t){if(k(t))return e.stylize("undefined","undefined");if(_(t)){var s="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(s,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,s,n,r){for(var i=[],o=0,a=t.length;a>o;++o)O(t,String(o))?i.push(h(e,t,s,n,String(o),!0)):i.push("");return r.forEach(function(r){r.match(/^\d+$/)||i.push(h(e,t,s,n,r,!0))}),i}function h(e,t,s,n,r,i){var o,a,u;if(u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),O(n,r)||(o="["+r+"]"),a||(e.seen.indexOf(u.value)<0?(a=g(s)?l(e,u.value,null):l(e,u.value,s-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),k(o)){if(i&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function f(e,t,s){var n=0,r=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?s[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+s[1]:s[0]+t+" "+e.join(", ")+" "+s[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function _(e){return"string"==typeof e;
}function b(e){return"symbol"==typeof e}function k(e){return void 0===e}function w(e){return x(e)&&"[object RegExp]"===P(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===P(e)}function C(e){return x(e)&&("[object Error]"===P(e)||e instanceof Error)}function T(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function P(e){return Object.prototype.toString.call(e)}function M(e){return 10>e?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],s=0;s<arguments.length;s++)t.push(r(arguments[s]));return t.join(" ")}for(var s=1,n=arguments,i=n.length,o=String(e).replace(A,function(e){if("%%"===e)return"%";if(s>=i)return e;switch(e){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch(t){return"[Circular]"}default:return e}}),a=n[s];i>s;a=n[++s])o+=g(a)||!x(a)?" "+a:" "+r(a);return o},t.deprecate=function(s,r){function i(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return s.apply(this,arguments)}if(k(e.process))return function(){return t.deprecate(s,r).apply(this,arguments)};if(n.noDeprecation===!0)return s;var o=!1;return i};var F,I={};t.debuglog=function(e){if(k(F)&&(F=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(F)){var s=n.pid;I[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,s,n)}}else I[e]=function(){};return I[e]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=_,t.isSymbol=b,t.isUndefined=k,t.isRegExp=w,t.isObject=x,t.isDate=S,t.isError=C,t.isFunction=T,t.isPrimitive=E,t.isBuffer=s(1219);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=s(1064),t._extend=function(e,t){if(!t||!x(t))return e;for(var s=Object.keys(t),n=s.length;n--;)e[s[n]]=t[s[n]];return e}}).call(t,function(){return this}(),s(165))},187:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["adminChange"])},188:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["update"])},189:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["update","updateSelf"])},190:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=i["default"].createActions([]);o.setPreviewFilepath=i["default"].createAction(),o.previewFile=i["default"].createAction(),o.clearPreviewFile=i["default"].createAction(),t["default"]=o},191:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["checkAssessment","resetProject"])},197:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=s(3),o=n(i),a=s(1),l=n(a),u=s(2),c=n(u),d=l["default"].createClass({displayName:"Tab",propTypes:{tabId:l["default"].PropTypes.oneOfType([l["default"].PropTypes.string,l["default"].PropTypes.number]),size:l["default"].PropTypes.number,title:l["default"].PropTypes.string,clickHandler:l["default"].PropTypes.func.isRequired,closeHandler:l["default"].PropTypes.func,canClose:l["default"].PropTypes.bool,isActive:l["default"].PropTypes.bool,isDisabled:l["default"].PropTypes.bool,overflow:l["default"].PropTypes.bool,align:l["default"].PropTypes.string,locked:l["default"].PropTypes.bool},getDefaultProps:function(){return{isActive:!1,overflow:!0}},getInitialState:function(){return{canClose:this.props.canClose||!1}},onClick:function(e){this.props.clickHandler(this.props.tabId,e)},onClose:function(e){e.stopPropagation(),this.props.isDisabled||this.props.closeHandler(this.props.tabId,e)},render:function(){var e=o["default"].omit(this.props,"title"),t={maxWidth:"200px"};this.props.size&&(t.width=this.props.size+"%");var s={"fcn-tabs__tab":!0,"fcn-tabs__tab--can-close":this.state.canClose,"fcn-tabs__tab--align-right":"right"===this.props.align,"fcn-tabs__tab--align-left":"left"===this.props.align,"fcn-button":!0,"fcn-button--tab":!0,"fcn-button--tab--active":this.props.isActive,"fcn-button--tab--inactive":!this.props.isActive,"fcn-button--tab--disabled":this.props.isDisabled},n="fcn-control fcn-icon fcn-icon-close "+s,i=this.state.canClose?l["default"].createElement("span",{className:n,onClick:this.onClose,ref:"closeButton"}):!1;this.props.className&&(s[this.props.className]=!0),s=(0,c["default"])(s);var a=this.props.overflow?l["default"].createElement("span",{className:"fcn-tab__gradient"}):!1;return l["default"].createElement("span",r({},e,{className:s,onClick:this.onClick,style:t}),this.props.children,i,this.props.title,a)}});t["default"]=d},198:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(589),a=n(o),l=s(2),u=n(l),c=s(32),d=n(c),h=i["default"].createClass({displayName:"FriendlyError",mixins:[d["default"]],propTypes:{error:i["default"].PropTypes.string.isRequired},render:function(){return i["default"].createElement("span",null,this.props.error)}}),f=i["default"].createClass({displayName:"ToolError",mixins:[d["default"]],propTypes:{error:i["default"].PropTypes.string.isRequired},render:function(){return i["default"].createElement("div",null,"Oops! The test returned an error. Maybe you have a syntax error, or a typo.",i["default"].createElement(a["default"],{ref:"showTrace",expandText:"See full error.",closeText:"Hide error."},i["default"].createElement("span",{style:{fontStyle:"italic"}},this.props.error)))}});t["default"]=i["default"].createClass({displayName:"component_error_display",mixins:[d["default"]],propTypes:{visible:i["default"].PropTypes.bool,timestamp:i["default"].PropTypes.number,friendly:i["default"].PropTypes.string,tool:i["default"].PropTypes.string},getInitialState:function(){return{visible:!1,timestamp:(new Date).valueOf()}},close:function(){this.setState({visible:!1})},componentWillReceiveProps:function(e){e.timestamp>this.state.timestamp&&this.setState({visible:e.visible,timestamp:e.timestamp})},renderError:function(e,t){var s="friendly"===t?i["default"].createElement(h,{error:e}):i["default"].createElement(f,{error:e});return i["default"].createElement("div",{className:"fcn-component__error fcn-component__"+t+"-error"},i["default"].createElement("div",{className:"fcn-component__error__message"},s),i["default"].createElement("span",{className:"fcn-icon fcn-icon-close fcn-component__error-display__close",onClick:this.close}))},render:function(){var e=(0,u["default"])({"fcn-component__error-display":!0,"fcn-component__error-display--hidden":!this.state.visible}),t=null;return this.props.tool?t=this.renderError(this.props.tool,"tool"):this.props.friendly&&(t=this.renderError(this.props.friendly,"friendly")),i["default"].createElement("div",{className:e},t)}})},199:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t=new p({slug:e.Files[0].Name,root:{files:[],directories:[]}}),s=[e];s.length>0;){var n=s.shift();if(n.Files){var r=!0,i=!1,o=void 0;try{for(var a,l=n.Files[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;u.IsDir?(t.createDirectory(u.Path),s.push(u)):t.updateFile(new d["default"]({path:u.Path,name:u.Name,content:""}))}}catch(c){i=!0,o=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}}}return t}function o(e){void 0!==e.FileName&&(e.fileName=e.FileName),void 0!==e.Content&&(e.content=e.Content);var t=e.fileName.split("/").slice(-1)[0],s=e.fileName;return/(jpe?g|png|gif)$/.test(e.fileName)?new d["default"]({path:s,name:t,encodedContent:e.content}):new d["default"]({path:s,name:t,content:e.content})}function a(e){return{fileName:e.path,content:e.content,isDir:!1}}function l(e){return{fileName:e.path,content:"",isDir:!0}}var u=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GodexFileTreeToWorkspace=i,t.GodexFileToWorkspaceFile=o,t.WorkspaceFileToGodexFile=a,t.WorkspaceDirectoryToGodexDirectory=l;var c=s(136),d=n(c),h=s(311),f=n(h),p=function(){function e(t){r(this,e),this._workspace=t,this.slug=t.slug,this.root=t.root,this.type=t.type,this._index={},this.root=this._indexDirectory(this.root,[])}return u(e,[{key:"getFile",value:function(e){var t=e;"/"===t[0]&&(t=t.substring(1));var s=this._index[t];if(void 0!==s)return s.clone()}},{key:"getFiles",value:function(e){var t=this;return e.map(function(e){return t.getFile(e)})}},{key:"getDirectory",value:function(e){return this._index[e].clone()}},{key:"get",value:function(e){return this._index[e].clone()}},{key:"exists",value:function(e){return void 0!==this._index[e]}},{key:"getDirectories",value:function(e){var t=this;return e.map(function(e){return t.getDirectory(e)})}},{key:"createDirectory",value:function(e){var t=[],s=!0,n=!1,r=void 0;try{for(var i,o=e.split("/")[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var a=i.value;t.push(a);var l=t.join("/");if(void 0===this._index[l]){var u=new f["default"]({name:a,path:l,files:[],directories:[]});this._getParentOf(u.path).directories.push(u),this._index[l]=u}}}catch(c){n=!0,r=c}finally{try{!s&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"createDirectories",value:function(e){var t=!0,s=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;this.createDirectory(o)}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}}},{key:"updateFile",value:function(e){if(!e instanceof d["default"])throw new Error("Expecting file to be instance of File class");var t=this._index[e.path];if(t)t.content=e.content;else{var s=this._getParentOf(e.path);s.files.push(e),this._index[e.path]=e}}},{key:"updateFiles",value:function(e){var t=!0,s=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;this.updateFile(o)}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}}},{key:"deleteFile",value:function(e){var t=this._getParentOf(e),s=e.split("/").slice(-1)[0];t.files=t.files.filter(function(e){return e.name!==s}),t.directories=t.directories.filter(function(e){return e.name!==s}),delete this._index[e]}},{key:"rename",value:function(e,t){var s=this._index[e];s.path=t,s.name=t.split("/").slice(-1)[0],delete this._index[e],this._index[t]=s}},{key:"getFileTree",value:function(){return this._workspace.root}},{key:"asJSON",value:function(){return{slug:this.slug,root:this.root.asJSON()}}},{key:"_getParentOf",value:function(e){var t=e.split("/").slice(0,-1).join("/"),s=this._index[t];return s?s:(this.createDirectory(t),s=this._index[t])}},{key:"_indexDirectory",value:function(e,t){var s=new f["default"](e);s.files=s.files.map(function(e){return new d["default"](e)});var n=!0,r=!1,i=void 0;try{for(var o,a=s.files[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=""+t.slice(0).concat([l.name]).join("/");this._index[u]=l}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}for(var h=0;h<s.directories.length;h++){var p=s.directories[h],u=t.slice(0).concat([p.name]);s.directories[h]=this._indexDirectory(p,u)}return this._index[""+t.join("/")]=s,s}}]),e}();t["default"]=p},200:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(40),i=n(r),o=s(14),a=n(o),l=s(55),u=n(l),c=s(136),d=n(c),h=/^file\:\/\/.*/,f="file://";t["default"]={getInitialState:function(){return{__listenerAdded:!1}},listenForLinkClicks:function(e){!this.state.__listenerAdded&&$(e).length>0&&($(e).click(function(e){var t=e.target,s=t.getAttribute("target"),n=t.getAttribute("href");if(s){if(h.test(n)){e.preventDefault();var r=n.substring(f.length);a["default"].getFile(r),i["default"].openFile(d["default"].emptyWithPath(r))}}else e.preventDefault(),u["default"].load(n);e.stopPropagation()}),this.state.__listenerAdded=!0,this.setState({__listenerAdded:!0}))}}},201:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0});var i=s(3),o=n(i),a=s(4),l=n(a),u=s(267),c=n(u),d=s(284),h=s(137),f=n(h),p=s(18),m=n(p),g=s(485),v=n(g),y={};t["default"]=l["default"].createStore({listenables:f["default"],resetQuiz:function(){this.setInitialData(y),this.update()},setInitialData:function(e){var t=e.taken;o["default"].isEmpty(y)&&(y=e);var s=e.quiz.slug,n=this._shuffleQuestions(e.quiz.questions),r={correct:0,total:n.length,pct:0},i=o["default"].fill(new Array(n.length),-1),a=n[0].question.snippet||{};this.state={quizId:e.quizId,scoreUrl:e.scoreUrl,isStoreInitialized:!0,showRetakeWarning:t,questionIndex:0,currentLesson:s,isCorrect:!1,isComplete:!1,selectedAnswer:-1,selectedAnswers:i,questions:n,score:r,snippet:a.code,snippetLang:a.language,numQuestions:n.length,quizTitle:e.quiz.title,hasResized:!1}},getInitialState:function(){return this.state?this.state:{isStoreInitialized:!1}},dismissWarning:function(){this.state.showRetakeWarning=!1,this.update()},registerAnswer:function(e){var t=(0,v["default"])(this.state.selectedAnswers,r({},this.state.questionIndex,{$set:e})),s=e===this.state.questions[this.state.questionIndex].correct_index;this.state.selectedAnswers=t,this.state.isCorrect=s,this.state.score=this._currentScore(this.state.questions,this.state.selectedAnswers),this._trackSubmit(this.state.currentLesson),this.update()},nextQuestion:function(){-1!==this.state.selectedAnswers[this.state.questionIndex]&&(this.state.questionIndex<this.state.questions.length-1?this._loadQuestion(this.state.questionIndex+1):(this.state.isComplete=!0,this._trackComplete(this.state.currentLesson),this._saveScore(this.state.scoreUrl,this.state.currentLesson,this.state.score)),this.state.hasResized=!1,this.update())},prevQuestion:function(){this.state.questions[this.state.questionIndex-1]&&this._loadQuestion(this.state.questionIndex-1),this.state.hasResized=!1,this.update()},_saveScore:function(e,t,s){c["default"].post(e).use(d.csrf).send({slug:t,score:o["default"].omit(s,"pct")}).end()},_trackSubmit:function(e){m["default"].track("action","submit",{quiz:e,type:"quiz"})},_trackComplete:function(e){m["default"].track("quiz","completed",{quiz:e,type:"quiz"})},_loadQuestion:function(e){var t=this.state.questions,s=this.state.selectedAnswers[e],n=!1;s>-1&&s===this.state.questions[e].correct_index&&(n=!0),this.state.isCorrect=n,this.state.questionIndex=e;var r=t[e].question.snippet||{};this.state.snippet=r.code,this.state.snippetLang=r.language,this.update()},update:function(){this.trigger(this.state)},_currentScore:function(e,t){for(var s={correct:0,total:e.length,pct:0},n=0;n<e.length&&-1!==t[n];n++)t[n]===e[n].correct_index&&s.correct++;return s.pct=Math.floor(100*(s.correct/s.total).toFixed(2)),s},_shuffleQuestions:function(e){var t=o["default"].shuffle(e);return t.forEach(function(e){var t=o["default"].fill(new Array(e.answers.length),!1);t[e.correct_index-1]=!0;var s=o["default"].shuffle(o["default"].zip(e.answers,t)),n=-1;for(var r in s)if(s[r][1]){n=parseInt(r,10)+1;break}e.answers=o["default"].unzip(s)[0],e.correct_index=n}),t}})},202:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(3),a=n(o),l=s(10),u=n(l),c=s(14),d=n(c),h=s(40),f=n(h),p=s(138),m=n(p);t["default"]=i["default"].createStore({mixins:[u["default"].store],init:function(){this.listenTo(d["default"].deleteFile,this.closeFileByName),this.listenTo(f["default"].openFile,this.openFile),this.listenTo(f["default"].updateCurrentFile,this.updateCurrentFile),this.listenTo(f["default"].closeFile,this.closeFile),this.listenTo(f["default"].setCurrentOpenFile,this.setActive),this.listenTo(f["default"].saveFiles,this.saveFiles),this.listenTo(m["default"],this.setCurrentFiles),d["default"].getFile.completed.listen(this.reloadFile.bind(this))},getInitialState:function(){return{files:[],active:0}},openFile:function(e){var t=void 0,s=a["default"].clone(this.state.files);t=this.isOpen(e.path)?a["default"].pluck(s,"path").indexOf(e.path):s.push(e)-1,this.setState({active:t,files:s})},closeFile:function(e){var t=a["default"].clone(this.state.files),s=this.state.active;t.splice(e,1),this.state.active>=e&&(s=Math.max(this.state.active-1,0)),this.setState({active:s,files:t})},closeFileByName:function(e,t){if(this.isOpen(t)){var s=a["default"].pluck(this.state.files,"fileName").indexOf(t),n=this.active===s;this.closeFile(s,n)}},getFiles:function(){return this.state.files},setCurrentFiles:function(e){this.setState({files:e,active:0})},setActive:function(e){this.setState({active:e})},isOpen:function(e){return this.state.files.some(function(t){return t.path===e})},updateCurrentFile:function(e){var t=a["default"].clone(this.state.files);t[this.state.active].content=e,this.setState({files:t})},reloadFile:function(e){var t=this.state.files.findIndex(function(t){return t.path===e.path});if(t>-1){var s=a["default"].clone(this.state.files);s[t].content=e.content,this.setState({files:s})}},saveFiles:function(){d["default"].updateFiles(this.state.files).then(function(){d["default"].persist().then(f["default"].saveFiles.completed(),f["default"].saveFiles.failed())},function(){d["default"].persist().then(f["default"].saveFiles.completed(),f["default"].saveFiles.failed())})}})},203:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(34),a=n(o),l=s(189),u=n(l),c=s(14),d=n(c),h=s(601),f=n(h),p=s(8),m=n(p),g=s(10),v=n(g);t["default"]=i["default"].createStore({mixins:[v["default"].store],getInitialState:function(){return{lock:{locked:!1,owner:"",timeKeeper:null}}},init:function(){this.listenToMany({onPeerLock:d["default"].peerLock,onPeerUnlock:d["default"].peerUnlock,onLock:d["default"].lock,onUnlock:d["default"].unlock,setWorkspace:d["default"].setWorkspace,onStartLockTimer:f["default"].startLockTimer})},startWarningCountDown:function(e){var t=this,s=e;this._warningCountDown=setTimeout(function(){u["default"].updateSelf("Your lock will expire in "+e+" seconds",{owner:m["default"].get("username")}),s--,t.startWarningCountDown(s)},1e3)},_setLockTimer:function(){window.addEventListener("keydown",this.onStartLockTimer),this.onStartLockTimer()},_clearIntervals:function(){this._timeKeeper&&(clearTimeout(this._timeKeeper),clearTimeout(this._timeBuffer),clearTimeout(this._warningCountDown))},onStartLockTimer:function(){var e=this;this._clearIntervals(),u["default"].updateSelf("You are making changes",{owner:m["default"].get("username")}),this._timeBuffer=setTimeout(function(){e.startWarningCountDown(10)},49e3),this._timeKeeper=setTimeout(function(){window.removeEventListener("keydown",e.onStartLockTimer),d["default"].unlock(),e._clearIntervals()},6e4)},setWorkspace:function(e,t){this.slug=e.slug,t&&t.Locked&&this.onPeerLock(t.User)},onLock:function(){var e=this;a["default"].state.client.lockWorkspace(this.slug,function(t){t?d["default"].lock.failed(t):(e.setState({lock:{locked:!0,owner:m["default"].get("username")}}),u["default"].updateSelf("You are making changes",{owner:m["default"].get("username")}),e._setLockTimer(),d["default"].lock.completed())})},onUnlock:function(){var e=this;a["default"].state.client.unlockWorkspace(this.slug,function(t){t?d["default"].unlock.failed(t):(e.setState({lock:{locked:!1,owner:""}}),window.removeEventListener("keydown",e.onStartLockTimer),e._clearIntervals(),d["default"].unlock.completed())})},onPeerLock:function(e){this.setState({lock:{locked:e.Username!==m["default"].get("username"),owner:e.Username}}),e.Username!==m["default"].get("username")&&u["default"].update(" is driving",{owner:e.Username})},onPeerUnlock:function(){this.setState({lock:{locked:!1,owner:""}})}})},281:function(e,t,s){var n;n=function(e,t,n){"use strict";function r(){this.initialize.apply(this,arguments)}var i=s(327),o=s(3);r.extend=i.View.extend,r.prototype={},o.extend(r.prototype,i.Events),n.exports=r}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},286:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["apologize"])},287:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});for(var r=s(4),i=n(r),o=i["default"].createActions([]),a=["clear","stdout","stderr"],l=0;l<a.length;l++){var u=a[l];o[u]=i["default"].createAction()}t["default"]=o},294:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FooterSection=t.FooterTab=t.Footer=void 0;var o=s(124);Object.defineProperty(t,"FooterTab",{enumerable:!0,get:function(){return o.FooterTab}}),Object.defineProperty(t,"FooterSection",{enumerable:!0,get:function(){return o.FooterSection}});var a=s(1),l=n(a),u=s(276),c=n(u),d=n(o),h=s(293),f=n(h),p=s(2),m=n(p),g=s(1018),v=n(g),y=t.Footer=l["default"].createClass({displayName:"Footer",propTypes:{disabled:l["default"].PropTypes.bool,course:l["default"].PropTypes.object,initialUnit:l["default"].PropTypes.string,initialLesson:l["default"].PropTypes.string,initialExercise:l["default"].PropTypes.string,progress:l["default"].PropTypes.object,className:l["default"].PropTypes.string,children:l["default"].PropTypes.node,unlockAll:l["default"].PropTypes.bool},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return{showNavigation:!1}},getCourseNavigatorToggle:function(){return this.props.course?l["default"].createElement(o.FooterSection,{position:"left"},l["default"].createElement(o.FooterTab,null,l["default"].createElement(f["default"],{title:this.props.title,onClick:this.toggleCourseNavigator,active:this.state.showNavigation}))):null},getCourseNavigator:function(){return this.props.course?l["default"].createElement(c["default"],{isOpen:this.state.showNavigation,course:this.props.course,titleRoute:this.props.titleRoute,initialUnit:this.props.initialUnit,initialLesson:this.props.initialLesson,initialExercise:this.props.initialExercise,progress:this.props.progress,onOutsideClick:this.toggleCourseNavigator,onCloseClick:this.toggleCourseNavigator,unlockAll:this.props.unlockAll}):null},toggleCourseNavigator:function(){this.setState({showNavigation:!this.state.showNavigation})},render:function(){var e,t=(0,m["default"])((e={},r(e,v["default"].disabled,this.props.disabled),r(e,this.props.className,!!this.props.className),e));return l["default"].createElement(d["default"],i({},this.props,{className:t}),this.getCourseNavigatorToggle(),this.props.children,this.getCourseNavigator())}});t["default"]=y},295:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=s(3),o=n(i),a=s(1),l=n(a),u=s(8),c=n(u),d=s(126),h=s(639),f=n(h),p=s(296),m=n(p),g=s(653),v=n(g),y=l["default"].createClass({displayName:"PlatformHeader",propTypes:{title:l["default"].PropTypes.string.isRequired,exitPaths:l["default"].PropTypes.object.isRequired,logoRoute:l["default"].PropTypes.string.isRequired,"private":l["default"].PropTypes.bool,profileImage:l["default"].PropTypes.string.isRequired,godexStatus:l["default"].PropTypes.object.isRequired,uploadInitialSavepoint:l["default"].PropTypes.func.isRequired,setProgressToCurrentExercise:l["default"].PropTypes.func,currentExercise:l["default"].PropTypes.object.isRequired,prerender:l["default"].PropTypes.object,serverUrl:l["default"].PropTypes.string,contentStudioURL:l["default"].PropTypes.string,nolock:l["default"].PropTypes.bool.isRequired,uploadSavepoints:l["default"].PropTypes.bool.isRequired},getDefaultProps:function(){return{logoRoute:"/",theme:"dark"}},render:function(){var e=[],t=[];c["default"].isAnon()||t.push(l["default"].createElement(d.HeaderTab,null,l["default"].createElement(m["default"],null))),c["default"].hasGodMode()&&e.push(l["default"].createElement(d.HeaderTab,{button:!0,key:"godmode_tab"},l["default"].createElement(f["default"],{setProgressToCurrentExercise:this.props.setProgressToCurrentExercise,uploadInitialSavepoint:this.props.uploadInitialSavepoint,prerender:this.props.prerender,currentWorkspace:this.props.currentExercise.workspace,serverUrl:this.props.serverUrl,contentStudioURL:this.props.contentStudioURL,isAdmin:c["default"].isAdmin(),nolock:this.props.nolock,uploadSavepoints:this.props.uploadSavepoints})));var s=l["default"].createElement(v["default"],null);return l["default"].createElement(d.Header,r({},this.props,{showNav:!1,theme:"dark",titleRoute:o["default"].get(this.props,"exitPaths.back"),tabsRight:e,tabsLeft:t,statusDisplay:s}))}});t["default"]=y},296:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(10),a=n(o),l=s(1023),u=n(l),c=s(641),d=n(c),h=s(318),f=n(h),p=s(203),m=n(p),g=s(75),v=s(8),y=n(v),_=i["default"].createClass({displayName:"Peers",mixins:[a["default"].connect(f["default"],"peers"),a["default"].connect(m["default"])],propTypes:{useForComponent:i["default"].PropTypes.bool,callBack:i["default"].PropTypes.func},_isLockedByLocalUser:function(e){return this.state.lock.owner===y["default"].get("username")&&e.Username===this.state.lock.owner},_isLockedBy:function(e){return this.state.lock.locked&&e.Username===this.state.lock.owner},_isPeer:function(e){return e.Username!==y["default"].get("username")},_renderPeer:function(e){if(this.props.useForComponent){if(this._isLockedByLocalUser(e))return i["default"].createElement(d["default"],{key:e.Username,userName:e.Username,icon:e.iconUrl,useForSelf:!0,useForComponent:!0,callBack:this.props.callBack});if(this._isLockedBy(e))return i["default"].createElement(d["default"],{key:e.Username,userName:e.Username,icon:e.iconUrl,useForComponent:!0})}else if(this._isPeer(e))return i["default"].createElement(d["default"],{key:e.Username,userName:e.Username,icon:e.iconUrl})},_renderPeers:function(){var e=[];return this.state.peers.map(function(t){e.push(this._renderPeer(t))}.bind(this)),e},render:function(){var e=this.props.useForComponent?[0,-50]:[0,30],t=this.props.useForComponent?[40,0]:[30,30],s={top:e,height:t},n=this.props.useForComponent?[0,40]:[30,30],r=this.props.useForComponent?[-50,0]:[30,0],o={top:r,height:n};return i["default"].createElement("div",{className:u["default"].peers},i["default"].createElement(g.VelocityTransitionGroup,{className:u["default"].transitionWrapper,enter:{animation:s},leave:{animation:o},runOnMount:!0},this.state.peers?this._renderPeers():null))}});t["default"]=_},297:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(280),u=s(310),c=n(u),d=s(105),h=n(d),f=s(75),p=s(819),m=n(p),g=s(1024),v=n(g),y=m["default"].bind(v["default"]),_={CLICKABLE:0,SUBMITTABLE:1,SUBMITTING:2,THANKING:3},b={enter:{animation:{opacity:[1,0],translateY:[0,"-10px"]},easing:"easeInOutQuad",duration:250},leave:{animation:{opacity:[0,1],translateY:["-10px",0]},easing:"easeInOutQuad",duration:250}},k={OPTIONS:"Required: Please select one of the options above",DESCRIPTION:"Required: Please provide a description of the issue"},w=a["default"].createClass({displayName:"ReportBug",getInitialState:function(){return{type:null,value:"",errors:{options:null,description:null},reportingState:_.CLICKABLE}},_showConfirmation:function(){var e=this;this.setState({reportingState:_.THANKING}),window.setTimeout(function(){e.setState(e.getInitialState())},3e3)},_handleTextChange:function(e){var t=i["default"].clone(this.state.errors);e.target.value&&(t.description=null),this.setState({value:e.target.value,errors:t})},validate:function(){var e={};return this.canSubmit()||(this.state.type||(e.options=k.OPTIONS),this.state.value.length||(e.description=k.DESCRIPTION),this.setState({errors:e})),i["default"].isEmpty(e)},_submit:function(){var e=this;this.validate()&&(this.setState({reportingState:_.SUBMITTING}),c["default"].report({preface:this.state.value,error:{message:""},type:this.state.type}).success(function(){e._showConfirmation()}).error(function(){console.warn("Failed to report problem to bug tracker."),e._showConfirmation()}))},_cancel:function(){this.setState({reportingState:_.CLICKABLE})},_selectType:function(e){var t=i["default"].clone(this.state.errors);t.options=null,this.setState({type:e,errors:t})},canSubmit:function(){return null===this.state.type||0===this.state.value.length||this.state.reportingState!==_.SUBMITTABLE?!1:!0},showForm:function(e){e.preventDefault(),this.setState({reportingState:_.SUBMITTABLE})},render:function(){var e=y({"accordion-section-body__no-bg":!0,"accordion-section-body__padded":!0,reportForm:!0}),t=y({reportFormText:!0}),s=y({formButton:!0,reportFormButton:!0,reportFormDisabled:!this.canSubmit()}),n=null;switch(this.state.reportingState){case _.SUBMITTABLE:n=a["default"].createElement("div",{key:"report",className:y("formInputs")},a["default"].createElement("span",{className:y("optionsTitle")},"Please select one:"),a["default"].createElement(l.RadioGroup,{name:"bugtype",handleChange:this._selectType,selected:this.state.type},a["default"].createElement(l.RadioOption,{id:"errormsg",className:y("radioOption")},"I don't understand this error message"),a["default"].createElement(l.RadioOption,{id:"interface",className:y("radioOption")},"There's a problem with the interface"),a["default"].createElement(l.RadioOption,{id:"instructions",className:y("radioOption")},"There's something wrong with the instructions"),a["default"].createElement(l.RadioOption,{
id:"other",className:y("radioOption")},"Other")),a["default"].createElement("span",{className:y("errorMessage")},this.state.errors.options),a["default"].createElement("textarea",{value:this.state.value,className:t,placeholder:"Please describe the issue",onChange:this._handleTextChange}),a["default"].createElement("span",{className:y("errorMessage")},this.state.errors.description),a["default"].createElement("p",{className:y("helpText")},"Please be as descriptive as possible. The more detail you provide the better we can solve the issue."),a["default"].createElement("div",{className:y("formButtonWrapper")},a["default"].createElement(h["default"],{className:y("formButton"),onClick:this._cancel},"Cancel"),a["default"].createElement(h["default"],{className:s,type:"index",onClick:this._submit},"Submit Bug Report")));break;case _.CLICKABLE:n=a["default"].createElement("div",{className:y("reportFormIntroText")},"If you see a bug or any other issue with this page, please report it ",a["default"].createElement("a",{className:y("reportFormIntroLink"),href:"#",onClick:this.showForm},"here"),".");break;case _.THANKING:n=a["default"].createElement("div",{className:y("reportFormIntroText")},"Thank you for letting us know! We will review your report soon.");break;default:n=null}return a["default"].createElement("div",{className:e},a["default"].createElement(f.VelocityTransitionGroup,b,n))}});t["default"]=w},298:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r);t["default"]=i["default"].createClass({displayName:"container",render:function(){return i["default"].createElement("div",{className:"fcn-tabs"},this.props.children)}})},299:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(7),i=n(r),o=s(3),a=n(o),l=s(1),u=n(l),c=s(17),d=n(c),h=s(2),f=n(h);t["default"]=u["default"].createClass({displayName:"accordion",propTypes:{content:u["default"].PropTypes.array.isRequired},getInitialState:function(){var e=[!0,!0,!0];return{topStickies:e,bottomStickies:e}},componentDidMount:function(){a["default"].defer(function(){this.checkOffsets(),this.hideOrShowStickies()}.bind(this)),(0,i["default"])(window).on("resize",function(e){this.checkOffsets()}.bind(this))},componentDidUpdate:function(e){this.props.content!=e.content&&this.checkOffsets()},checkOffsets:function(){if(this.refs.accordionScroller){var e=[],t=[],s=d["default"].findDOMNode(this.refs.accordionScroller).offsetHeight,n=[!0,!0,!0],r=0,i=39;this.props.content.forEach(function(e,t){var s=d["default"].findDOMNode(this.refs["accordionSection"+t]).offsetHeight;r+=s}.bind(this)),this.props.content.forEach(function(r,o){var a=d["default"].findDOMNode(this.refs["accordionSection"+o]).offsetTop-i*o;e.push(a),t.push(e[o]-(s-120)),e[o]>s&&(n[o]=!1)}.bind(this));var o=this.props.content.length-1,a=d["default"].findDOMNode(this.refs["accordionSection"+o]).offsetHeight;s>a&&(r+=s-a-o*i),d["default"].findDOMNode(this.refs.accordionContent).style.height=r+"px",this.setState({thresholdsTop:e,thresholdsBottom:t,bottomStickies:n}),this.hideOrShowStickies()}},hideOrShowStickies:function(){var e=d["default"].findDOMNode(this.refs.accordionScroller).scrollTop,t=this.state.thresholdsBottom,s=this.state.thresholdsTop,n=[!0,!0,!0],r=[!0,!0,!0];i["default"].each(r,function(s,n){void 0!=t&&e<t[s]&&(r[s]=!1)}.bind(this)),r[0]=!0,i["default"].each(n,function(t){void 0!=s&&e>s[t]&&(n[t]=!1)}),this.setState({topStickies:n,bottomStickies:r})},handleScroll:function(e){a["default"].defer(function(){this.hideOrShowStickies()}.bind(this))},openSection:function(e){for(var t=0;t<this.props.content.length;t++){var s=this.props.content[t].key;if(s===e&&this.refs["accordionSection"+t]){this.handleClick(t);break}}},handleClick:function(e){var t=d["default"].findDOMNode(this.refs.accordionScroller);t.style.overflow="auto",(0,i["default"])(t).animate({scrollTop:this.state.thresholdsTop[e]+3},300),this.hideOrShowStickies()},render:function(){var e=[],t=[],s=[];return this.props.content.forEach(function(n,r){var i=(0,f["default"])({"accordion-section-heading":!0,invisible:this.state.topStickies[r]}),o=(0,f["default"])({"accordion-section-heading":!0,invisible:!this.state.topStickies[r]}),a=(0,f["default"])({"accordion-section-heading":!0,invisible:this.state.bottomStickies[r]}),l=u["default"].createElement("div",{className:i,onClick:this.handleClick.bind(null,r)},n.heading),c=u["default"].createElement("div",{className:a,onClick:this.handleClick.bind(null,r)},n.heading);t.push(l),s.push(c);var d=u["default"].createElement("div",{className:"accordion-section",ref:"accordionSection"+r,key:"accordion"+r},u["default"].createElement("div",{onClick:this.handleClick.bind(null,r),className:o},n.heading),u["default"].createElement("div",{className:"accordion-section-body"},n.content));e.push(d)}.bind(this)),u["default"].createElement("div",null,u["default"].createElement("div",{className:"accordion-container",ref:"accordionScroller",onScroll:this.handleScroll,onWheel:this.handleScroll},u["default"].createElement("div",{className:"accordion",ref:"accordionContent"},e)),u["default"].createElement("div",{className:"sticky-bottom"},s),u["default"].createElement("div",{className:"sticky-top"},t))}})},300:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(677),i=n(r),o=s(737),a=n(o),l=s(729),u=n(l),c=s(7),d=n(c),h=s(669),f=n(h),p=s(660),m=n(p),g=s(309),v=s(718),y=n(v),b=s(1),k=n(b),w=s(17),x=n(w),S=s(2),C=n(S),T=s(724),E=n(T),P=s(720),M=n(P),N={Terminal:"terminal",OutputTerminal:"terminal",PersistentCodeEditor:"editor",NonPersistentCodeEditor:"editor",Image:"image",Narrative:"learn",WebBrowser:"browser"};t["default"]=k["default"].createClass({displayName:"component_grid",mixins:[a["default"],u["default"]],getInitialState:function(){var e={collapsedColumnKeys:[],fullscreenSlot:void 0,oneIsCollapsed:!1,config:new y["default"],cursor:"auto",grid:new g.Grid(3,2),collapsedSlots:[],slotArrangements:{}},t=this.props.components;for(var s in t){var n=e.config.arrangementAmong(t[s],t);e.grid.registerSlot(n.slots)}return void 0!==this.props.gridSetup&&this.props.gridSetup(e.grid),e},componentDidMount:function(){var e=this;this.state.grid.registerDOMNode(x["default"].findDOMNode(this)),(0,M["default"])("toggleGridWireframe",function(){e.setState({showDebugWireframe:!e.state.showDebugWireframe})})},componentWillUpdate:function(e,t){t.grid&&(t.fullscreenSlot=t.grid.fullscreenSlot())},componentDidUpdate:function(){this.state.resizing&&this.props.adapter.trigger("interface:resized"),this.state.resizing=!1},buildComponents:function(){var e=[],t=this.props.components;for(var s in t){var n=m["default"][t[s]._schema],r=this.state.config.arrangementAmong(t[s],t),o=this.props.helpers.componentShouldBeDisabled(s);this.state.slotArrangements[s]=r.slots;var a=k["default"].createElement(f["default"],{toggleFullscreen:this.toggleFullscreenSlot.bind(this,r.slots),isFullscreen:!!this.state.fullscreenSlot}),l={readonly:this.props.modifiers.readonly,disabled:o,fullscreen:r.slots===this.state.fullscreenSlot,oneIsCollapsed:this.state.oneIsCollapsed,fileNavReady:this.props.modifiers.fileNavReady,isProject:this.props.modifiers.isProject,dragging:this.state.dragging,assessments:this.props.modifiers.assessments,features:this.props.modifiers.features},u={fullscreenButton:a,hasCheckpoints:void 0!==this.props.adapter.checkpoints&&this.props.adapter.checkpoints.length>0};d["default"].extend(u,this.props.presenter),this.props.presenter.errors&&this.props.presenter.errors.component!==s&&(u.errors={visible:!1}),u=d["default"].extend({},t[s],u);var c={arrangement:r,wall:this.props.presenter.wall,geometry:this.state.grid.slots[r.slots]},h={toggleFullscreen:this.toggleFullscreenSlot.bind(this,r.slots)},p={constructor:n,presenter:u,name:s,icon:N[s]};e.push(k["default"].createElement(i["default"],{locations:r.slots,component:p,slot:c,modifiers:l,helpers:h,adapter:this.props.adapter,user:this.props.user,expandSlot:this.expandSlot,fullscreenSlot:this.fullscreenSlot,key:"slot:"+s}))}return e},expandSlot:function(e){this.state.grid.expandSlot(e),this.setState({grid:this.state.grid,resizing:!0})},expandSlotByName:function(e){var t=this.state.slotArrangements[e];if(!t)throw new Error("No arrangement for "+e);this.state.grid.expandSlot(t),this.setState({grid:this.state.grid,resizing:!0})},toggleFullscreenSlot:function(e){this.state.grid.toggleFullscreenSlot(e),this.setState({grid:this.state.grid,resizing:!0})},handleMouseMove:function(e,t){if(this.state.dragging){if(e.preventDefault(),this.props.adapter.trigger("interface:resizing"),t){var s=void 0;switch(this.state.focusedGutter.edge){case"right":var n=this.state.grid.DOMNodeRect().left+this.state.grid.percentageToPx("x",this.state.focusedGutter.slot.right());s=e.pagePosn.x-n,this.state.focusedGutter.slot.push("right",this.state.grid.pxToPercentage("x",s)),this.setState({grid:this.state.grid});break;case"bottom":var r=this.state.grid.DOMNodeRect().top+this.state.grid.percentageToPx("y",this.state.focusedGutter.slot.bottom());s=e.pagePosn.y-r,this.state.focusedGutter.slot.push("bottom",this.state.grid.pxToPercentage("y",s)),this.setState({grid:this.state.grid})}}}else{var i=this.state.grid.gutterUnderPosn(e.pagePosn),o=void 0;o=void 0!==i?{right:"ew-resize",bottom:"ns-resize"}[i.edge]:"auto",E["default"].save(),(this.state.focusedGutter!==i||this.state.cursor!==o)&&this.setState({focusedGutter:i,cursor:o})}},handleMouseDown:function(e){this.state.focusedGutter&&this.setState({dragging:!0})},handleMouseUp:function(e,t){this.state.dragging&&(this.state.grid.snapSlots(this.state.focusedGutter.slot.origin()),e.stopPropagation(),e.preventDefault(),_.defer(E["default"].restore)),this.setState({grid:this.state.grid,dragging:!1,resizing:this.state.dragging})},render:function(){var e=(0,C["default"])({"fcn-grid":!0,"fcn-grid--dragging":!!this.state.dragging}),t={cursor:this.state.cursor};return window.grid=this,k["default"].createElement("div",{className:e,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},this.buildComponents(),this.props.presenter.wall,this.renderDebugLayer())}})},301:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=(n(r),s(42)),o=n(i),a=s(736),l=n(a),u=s(78),c=n(u),d=s(21),h=(n(d),s(89)),f=(n(h),s(1)),p=n(f),m=s(2),g=(n(m),s(661)),v=n(g),y=s(668),_=n(y);t["default"]=p["default"].createClass({displayName:"GlobalModal",mixins:[o["default"],l["default"]],propTypes:{broadcast:p["default"].PropTypes.func.isRequired,environment:p["default"].PropTypes.string.isRequired},getInitialState:function(){return{open:!1,secondaryModal:void 0,secondaryModalContent:void 0,confirmationCB:void 0}},setCurrentFiles:function(e){this.setState({currentFiles:e.files})},onEscapeKey:function(e){this.setState({open:!1}),this.state.secondaryModalContent&&this.cancelAndCloseSecondaryModal()},toggleModal:function(e){var t=!this.state.open;this.setState({open:t,modal:e}),this.state.secondaryModalContent&&this.cancelAndCloseSecondaryModal()},openSecondaryModal:function(e){this.setState({secondaryModalContent:e,open:!0})},closeAddFileTool:function(){this.state.open&&this.refs.fileTool.toggleAddFileState()},confirmAndCloseSecondaryModal:function(){this.state.confirmationCB(),this.setState({secondaryModalContent:void 0})},cancelAndCloseSecondaryModal:function(){this.setState({secondaryModalContent:void 0}),this.refs.fileTool?this.refs.fileTool.setIsDeleting(!1):this.setState({open:!1})},render:function(){return p["default"].createElement(c["default"],{isOpen:this.state.open,onOutsideClick:this.toggleModal,overlayType:"screen",cover:!0},p["default"].createElement("div",{className:"global-modal"},p["default"].createElement(v["default"],{ref:"fileTool",useViewer:"true",broadcast:this.props.broadcast,toggle:this.toggleModal,addFileTool:this.state.addFileToolOpen,environment:this.props.environment,autoAdd:!1})),this.state.secondaryModalContent?p["default"].createElement(_["default"],{confirmAndClose:this.confirmAndCloseSecondaryModal,cancelAndClose:this.cancelAndCloseSecondaryModal,secondaryModalContent:this.state.secondaryModalContent}):null)}})},302:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o);t["default"]=i["default"].createClass({displayName:"DefaultDialogButtons",propTypes:{cancelAndClose:i["default"].PropTypes.func.isRequired,confirmAndClose:i["default"].PropTypes.func.isRequired},mixins:[a["default"]],render:function(){return i["default"].createElement("div",null,i["default"].createElement("div",{className:"fcn-button fcn-button--blast",onClick:this.props.cancelAndClose},"Cancel"),i["default"].createElement("div",{className:"fcn-button fcn-button--neutral",onClick:this.props.confirmAndClose},"Confirm"))}})},303:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(177),a=Object.keys(o.extensionMapping),l=["min.js","html.erb","db","json","php","txt"],u=i["default"].uniq(a.concat(l));t["default"]=new Set(u)},304:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(80),a=n(o),l=s(14),u=n(l),c=s(15),d=n(c),h=s(10),f=n(h),p=s(20),m=i["default"].createClass({displayName:"IdleWall",mixins:[f["default"].connect(d["default"],"workspaceIdle")],reconnect:function(){u["default"].initialize()},render:function(){return i["default"].createElement(a["default"],null,i["default"].createElement("h2",null,(0,p.t)("views.learning_environment.components.idle_wall.are_you_still_there")),i["default"].createElement("button",{onClick:this.reconnect,className:"button button--alernative fcn-wall__nav"},(0,p.t)("views.learning_environment.components.idle_wall.get_back_to_coding")))}});t["default"]=m},305:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(2),a=n(o),l=i["default"].createClass({displayName:"TaskListCounter",propTypes:{total:i["default"].PropTypes.number,complete:i["default"].PropTypes.number,separator:i["default"].PropTypes.string,text:i["default"].PropTypes.string},getDefaultProps:function(){return{separator:"/",text:"Complete"}},isComplete:function(){return this.props.complete===this.props.total},render:function(){var e=(0,a["default"])({"fcn-task-counter":!0,"fcn-task-counter--complete":this.isComplete()});return i["default"].createElement("div",{className:e},i["default"].createElement("span",{className:"fcn-task-counter__count",style:{marginRight:3}},this.props.complete,this.props.separator,this.props.total),this.props.text)}});t["default"]=l},306:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(690),i=n(r),o=s(693),a=n(o),l=s(708),u=n(l),c=s(692),d=n(c),h=s(706),f=n(h),p=s(700),m=n(p),g=s(698),v=n(g),y=s(691),_=n(y),b=s(696),k=n(b),w=s(701),x=n(w),S=s(703),C=n(S),T=s(688),E=n(T),P=s(702),M=n(P),N=s(699),O=n(N),A=s(697),F=n(A),I=s(694),j=n(I),R=s(705),L=n(R),D=s(707),B=n(D),q=s(704),U=n(q),W=s(695),z=n(W),$=s(689),H=n($),G={FullWebPreview:[i["default"]],PersistentCodeEditor:[a["default"],_["default"]],PresetTemplatedWebPreview:[j["default"]],OutputTerminal:[{}],TemplatedWebPreview:[k["default"]],Terminal:[F["default"]],SQLPreview:[z["default"]],WebBrowser:[v["default"]],NonPersistentCodeEditor:[d["default"]],Brief:[H["default"]]},K={WebBrowser:[x["default"]],PersistentCodeEditor:[O["default"]],Terminal:[m["default"]]},Q={WebBrowser:[C["default"]],PersistentCodeEditor:[M["default"]]},V=["PersistentCodeEditor","Terminal","WebBrowser"],J=["Lifesaver"],Y={Lifesaver:[f["default"],L["default"]]},X={Lifesaver:[f["default"],B["default"]]},Z=[u["default"]];t["default"]={forComponents:function(e){var t=this._getBaseMixins(e).concat(Z).concat(this._getComponentMixins(e,K)).concat(this._getPersistentMixins(e,Y));return(0,E["default"])({mixins:t})()},forProjectsWithComponents:function(e){return(0,E["default"])({mixins:this._getBaseMixins(e).concat(this._getComponentMixins(e,Q)).concat(this._getPersistentMixins(e,X))})()},_hasOneOf:function(e,t){var s=Object.keys(e);return t.some(function(e){return s.indexOf(e)>=0}.bind(this))},_getPersistentMixins:function(e,t){var s=[];return this._hasOneOf(e,V)&&J.forEach(function(e){s=s.concat(t[e])}.bind(this)),s},_getComponentMixins:function(e,t){var s=Object.keys(e),n=[];return s.forEach(function(e){e in t&&(n=n.concat(t[e]))}.bind(this)),n},_getBaseMixins:function(e){return[U["default"]].concat(this._getComponentMixins(e,G))}}},307:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LIBRARY_ROOT=void 0;var o=s(267),a=n(o),l=s(199),u=n(l),c=void 0;switch(CCDATA.env){case"development":t.LIBRARY_ROOT=c="http://localhost:8012";break;default:t.LIBRARY_ROOT=c="https://library.codecademy.com"}var d=function(){function e(t,s){r(this,e),this._userId=t,this._authToken=s}return i(e,[{key:"initialize",value:function(){this.fetch()}},{key:"fetch",value:function(e){var t=this;return new Promise(function(s,n){return t._call("workspaces/"+e+"/download",{workspace:e}).then(function(e){s(new u["default"](e.body.workspace))},n)})}},{key:"persist",value:function(e){return this._call("workspaces/"+e.slug+"/upload",{workspace:e.asJSON(),slug:e.slug})}},{key:"restore",value:function(e,t){return this._call("workspaces/"+e+"/restore/"+t,{})}},{key:"solution",value:function(e,t){return this._call("workspaces/"+e+"/solution/"+t,{})}},{key:"download",value:function(e){return this._call("workspaces/"+e+"/download",{attachment:!0})}},{key:"_call",value:function(e,t){var s=this;return t=$.extend({auth_token:this._authToken},t),new Promise(function(n,r){a["default"].post(c+"/users/"+s._userId+"/"+e).set("Content-Type","application/json").send(JSON.stringify(t)).end(function(e,t){e?r(e):n(t)})})}},{key:"backend",get:function(){return"library"}}]),e}();t["default"]=d,t.LIBRARY_ROOT=c},308:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LearnMixins=void 0;var r=s(10),i=n(r),o=s(735),a=n(o),l=s(733),u=n(l),c=s(728),d=n(c),h=s(739),f=n(h),p=s(740),m=n(p),g=s(727),v=n(g),y=s(744),_=n(y),b=s(754),k=n(b);t.LearnMixins=[a["default"],i["default"].connect(k["default"]),u["default"],d["default"],f["default"],m["default"],v["default"],_["default"]]},309:function(e,t){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=14,o=.1,a=.17,l=.04,u=.06,c=["x","y"],d={right:"x",bottom:"y",left:"x",top:"y"},h={top:"bottom",right:"left",bottom:"top",left:"right"},f=t.Range=function(){function e(t,s){n(this,e),this.min=t,this.max=s,this.length=s-t+1}return r(e,[{key:"contains",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=t.buffer||0;return this.min-s<=e&&this.max+s>=e}}]),e}(),p=t.Posn=function(){function e(t,s){n(this,e),this.x=t,this.y=s}return r(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.context)}},{key:"gte",value:function(e){return this.x>=e.x&&this.y>=e.y}},{key:"lte",value:function(e){return this.x<=e.x&&this.y<=e.y}}]),e}(),m=function(){function e(t,s,r,i){n(this,e),this.x=t,this.y=s,this.id=r,this.neighbors={},this.grid=i,this._right={value:t/i.width+1/i.width},this._bottom={value:s/i.height+1/i.height}}return r(e,[{key:"left",value:function(){return 0===this.x?0:this.neighbors.left.right()}},{key:"right",value:function(){return this._right.value}},{key:"top",value:function(){return 0===this.y?0:this.neighbors.top.bottom()}},{key:"bottom",value:function(){return this._bottom.value}},{key:"soloEdges",value:function(){return{top:void 0===this.neighbors.top,right:void 0===this.neighbors.right,bottom:void 0===this.neighbors.bottom,left:void 0===this.neighbors.left}}},{key:"set",value:function(e,t){switch(e){case"top":if(0===this.y)throw new Error("Cannot set 'top' on top-most cell");this.neighbors.top._bottom.value=t;break;case"right":if(this.x===this.grid.width-1)throw new Error("Cannot set 'right' on right-most cell");this._right.value=t;break;case"bottom":if(this.y===this.grid.height-1)throw new Error("Cannot set 'bottom' on bottom-most cell");this._bottom.value=t;break;case"left":if(0===this.x)throw new Error("Cannot set 'left' on left-most cell");this.neighbors.left._right.value=t}}}]),e}(),g=function(){function e(t,s){n(this,e),this.id=t,this.grid=s,this.cells={},this.lastEdgeSet={x:void 0,y:void 0}}return r(e,[{key:"registerCells",value:function(e){var t=!0,s=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(this.cells[o.id]=o,void 0!==o.slot)throw new Error("Can't register slot "+this.id+"; cell "+o.id+" already belongs to slot "+o.slot.id+"!");o.slot=this}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}this.calculateEdges(),this.mergePointers(),this.cacheNeighbors()}},{key:"calculateEdges",value:function(){this.edgeCells={top:[],right:[],bottom:[],left:[]},this.edges={top:1,right:0,bottom:0,left:1};for(var e=Object.values(this.cells),t=["top","right","bottom","left"],n=0;n<t.length;n++){var r=t[n],i=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=c[r]();0===this.edgeCells[r].length||d===this.edges[r]?(this.edgeCells[r].push(c),this.edges[r]=d):("left"===r||"top"===r)&&d<this.edges[r]?(this.edgeCells[r]=[c],this.edges[r]=d):("right"===r||"bottom"===r)&&d>this.edges[r]&&(this.edgeCells[r]=[c],this.edges[r]=d)}}catch(h){o=!0,a=h}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}}this.edgeExtents={};var p=this.sharedEdges();for(var m in p)if(p[m]){var g,v,y,_,b=this.edgeCells[m];this.edgeExtents[m]={x:new f((g=Math).min.apply(g,s(b.map(function(e){return e.left()}))),(v=Math).max.apply(v,s(b.map(function(e){return e.right()})))),y:new f((y=Math).min.apply(y,s(b.map(function(e){return e.top()}))),(_=Math).max.apply(_,s(b.map(function(e){return e.bottom()}))))}}}},{key:"mergePointers",value:function(){for(var e in h){var t=h[e],s=this.edgeCells[e][0],n=!0,r=!1,i=void 0;try{for(var o,a=this.edgeCells[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l["_"+e]=s["_"+e];var u=l.neighbors[t];u&&(u["_"+t]=s.neighbors[t]["_"+t])}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}}}},{key:"cacheNeighbors",value:function(){var e={top:[],right:[],bottom:[],left:[]},t=!0,s=!1,n=void 0;try{for(var r,i=Object.values(this.cells)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.neighbors.top&&o.top()===this.edges.top&&-1===e.top.indexOf(o.neighbors.top.slot)&&e.top.push(o.neighbors.top.slot),o.neighbors.right&&o.right()===this.edges.right&&-1===e.right.indexOf(o.neighbors.right.slot)&&e.right.push(o.neighbors.right.slot),o.neighbors.bottom&&o.bottom()===this.edges.bottom&&-1===e.bottom.indexOf(o.neighbors.bottom.slot)&&e.bottom.push(o.neighbors.bottom.slot),o.neighbors.left&&o.left()===this.edges.left&&-1===e.left.indexOf(o.neighbors.left.slot)&&e.left.push(o.neighbors.left.slot)}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}this.neighbors=e}},{key:"soloEdges",value:function(){return{top:this.edgeCells.top[0].soloEdges().top,right:this.edgeCells.right[0].soloEdges().right,bottom:this.edgeCells.bottom[0].soloEdges().bottom,left:this.edgeCells.left[0].soloEdges().left}}},{key:"sharedEdges",value:function(){return{top:!this.edgeCells.top[0].soloEdges().top,right:!this.edgeCells.right[0].soloEdges().right,bottom:!this.edgeCells.bottom[0].soloEdges().bottom,left:!this.edgeCells.left[0].soloEdges().left}}},{key:"top",value:function(){return this.edgeCells.top[0].top()}},{key:"right",value:function(){return this.edgeCells.right[0].right()}},{key:"bottom",value:function(){return this.edgeCells.bottom[0].bottom()}},{key:"origin",value:function(){return new p(this.left(),this.top())}},{key:"left",value:function(){return this.edgeCells.left[0].left()}},{key:"width",value:function(){return this.right()-this.left()}},{key:"roundedWidth",value:function(){return Math.round(100*this.width())/100}},{key:"height",value:function(){return this.bottom()-this.top()}},{key:"roundedHeight",value:function(){return Math.round(100*this.height())/100}},{key:"coordExtent",value:function(){return{x:new f(this.edgeCells.left[0].x,this.edgeCells.right[0].x),y:new f(this.edgeCells.top[0].y,this.edgeCells.bottom[0].y)}}},{key:"collapsed",value:function(e){switch(e){case"x":return this.roundedWidth()<=l;case"y":return this.roundedHeight()<=u;case void 0:return this.collapsed("x")||this.collapsed("y")}}},{key:"elgibileToSnap",value:function(e){switch(e){case"x":var t=this.roundedWidth();return t>l&&o>=t;case"y":var s=this.roundedHeight();return s>u&&a>=s}}},{key:"withinCollapseThreshold",value:function(e){switch(e){case"x":return this.roundedWidth()<=o;case"y":return this.roundedHeight()<=a}}},{key:"slack",value:function(e){switch(e){case"x":return this.roundedWidth()-l;case"y":return this.roundedHeight()-u}}},{key:"firstSlotWithSlackInDirection",value:function(e){var t=d[e];return this.slack(t)>0?this:0===this.neighbors[e].length?null:this.neighbors[e][0].firstSlotWithSlackInDirection(e)}},{key:"neighborWithSlackInDirection",value:function(e){switch(e){case"top":case"left":return this.firstSlotWithSlackInDirection(e);case"right":case"bottom":return this.neighbors[e][0].firstSlotWithSlackInDirection(e)}}},{key:"firstDirectionWithSlack",value:function(e){var t=!0,s=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(this.neighborWithSlackInDirection(o))return o}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}return null}},{key:"set",value:function(e,t){var s=this,n=(arguments.length<=2||void 0===arguments[2]?!1:arguments[2],!0),r=!1,i=void 0;try{for(var o,a=this.edgeCells[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.set(e,t)}}catch(u){r=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}var c=d[e];this.lastEdgeSet[c]=e;var f=!0,p=!1,m=void 0;try{for(var g,v=this.neighbors[e][Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y=g.value;y.lastEdgeSet[c]=h[e],y.redistributeCells();var _=y.neighbors[h[e]].filter(function(e){return e!==s}),b=!0,k=!1,w=void 0;try{for(var x,S=_[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var C=x.value;C.lastEdgeSet[c]=e,C.redistributeCells()}}catch(u){k=!0,w=u}finally{try{!b&&S["return"]&&S["return"]()}finally{if(k)throw w}}}}catch(u){p=!0,m=u}finally{try{!f&&v["return"]&&v["return"]()}finally{if(p)throw m}}this.redistributeCells()}},{key:"push",value:function(e,t){var s=h[e];if(0===this.neighbors[e].length)return!1;if("top"===e){var n=this.neighbors.top[0];return n.push(s,-t)}if("left"===e){var n=this.neighbors.left[0];return n.push(s,-t)}var r=d[e],i=void 0;if(i=t>0?this.neighborWithSlackInDirection(e):this.neighborWithSlackInDirection(s),!i)return!1;var o=0>t;t=Math.min(Math.abs(t),i.slack(r)),o&&(t=-t),this.set(e,this[e]()+t,!0),this.enforceMinimumDimensions(e);var a=this.neighbors[t>0?e:s];if(a){var l=!0,u=!1,c=void 0;try{for(var f,p=a[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var n=f.value;n.enforceMinimumDimensions(s)}}catch(m){u=!0,c=m}finally{try{!l&&p["return"]&&p["return"]()}finally{if(u)throw c}}}return!0}},{key:"redistributeCells",value:function(){var e=Object.values(this.cells),t=this.coordExtent(),s=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var a=i.value;if(t.x.length>1){var l=(a.x-t.x.min)/t.x.length;a.neighbors.right&&a.set("right",this.left()+l*this.width())}if(t.y.length>1){var u=(a.y-t.y.min)/t.y.length;a.neighbors.bottom&&a.set("bottom",this.top()+u*this.height())}}}catch(c){n=!0,r=c}finally{try{!s&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"fullscreen",value:function(){var e=!1;for(var t in d)for(;this.push(t,1);)e=!0;return e}},{key:"enforceMinimumDimensions",value:function(e){var t=this.width(),s=this.height();switch(e){case"left":l>t&&(this.neighbors.right.length?this.set("right",this.left()+l):this.set("left",this.right()-l));break;case"right":l>t&&(this.neighbors.left.length?this.set("left",this.right()-l):this.set("right",this.left()+l));break;case"top":u>s&&(this.neighbors.bottom.length?this.set("bottom",this.top()+u):this.set("top",this.bottom()-u));break;case"bottom":u>s&&(this.neighbors.top.length?this.set("top",this.bottom()-u):this.set("bottom",this.top()+u))}}}]),e}();t.Grid=function(){function e(t,s){n(this,e),this.width=t,this.height=s,this.cells=[],this.slots={};for(var r=0;s>r;r++)for(var i=this.cells[r]=[],o=0;t>o;o++){var a=new m(o,r,r*t+o,this);i[o]=a}for(var r=0;s>r;r++)for(var o=0;t>o;o++){var a=this.getCellByCoords(o,r);r>0&&(a.neighbors.top=this.getCellByCoords(o,r-1)),t-1>o&&(a.neighbors.right=this.getCellByCoords(o+1,r)),s-1>r&&(a.neighbors.bottom=this.getCellByCoords(o,r+1)),o>0&&(a.neighbors.left=this.getCellByCoords(o-1,r))}}return r(e,[{key:"registerSlot",value:function(e){var t=this,s=new g(e,this);this.slots[e]=s;var n=e.split(""),r=n.map(function(e){return t.getCellById(parseInt(e,10))});s.registerCells(r),this.slotsList=Object.values(this.slots);var i=!0,o=!1,a=void 0;try{for(var l,u=this.slotsList[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c.cacheNeighbors()}}catch(d){o=!0,a=d}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}}},{key:"getSlotById",value:function(e){return this.slots[e]}},{key:"getCellByCoords",value:function(e,t){return this.cells[t][e]}},{key:"getCellById",value:function(e){var t=e%this.width,s=Math.floor(e/this.width);return this.cells[s][t]}},{key:"registerDOMNode",value:function(e){this.DOMNode=e}},{key:"DOMNodeRect",value:function(){return this.DOMNode.getBoundingClientRect()}},{key:"percentageToPx",value:function(e,t){if(0===t)return 0;switch(e){case"x":return this.DOMNodeRect().width*t;case"y":return this.DOMNodeRect().height*t}}},{key:"pxToPercentage",value:function(e,t){if(0===t)return 0;switch(e){case"x":return t/this.DOMNodeRect().width;case"y":return t/this.DOMNodeRect().height}}},{key:"gutterUnderPosn",value:function(e){var t=this.DOMNodeRect(),s=new p(e.x-t.left,e.y-t.top),n=!0,r=!1,o=void 0;try{for(var a,l=this.slotsList[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;for(var c in u.edgeExtents)switch(c){case"right":var d=this.percentageToPx("x",u[c]()),h=this.percentageToPx("y",u.edgeExtents[c].y.min),f=this.percentageToPx("y",u.edgeExtents[c].y.max);if(Math.abs(s.x-d)<i/2&&s.y>=h&&s.y<=f)return{edge:c,slot:u};case"bottom":var m=this.percentageToPx("y",u[c]()),g=this.percentageToPx("x",u.edgeExtents[c].x.min),v=this.percentageToPx("x",u.edgeExtents[c].x.max);
if(Math.abs(s.y-m)<i/2&&s.x>=g&&s.x<=v)return{edge:c,slot:u}}}}catch(y){r=!0,o=y}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw o}}}},{key:"recalculateEdges",value:function(){var e=!0,t=!1,s=void 0;try{for(var n,r=this.slotsList[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;i.calculateEdges()}}catch(o){t=!0,s=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw s}}}},{key:"firstSlotWaitingToCollapse",value:function(e){var t=!0,s=!1,n=void 0;try{for(var r,i=this.slotsList[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(o.elgibileToSnap(e))return o}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}return null}},{key:"expandSlot",value:function(e){var t=this.getSlotById(e),s=t.origin(),n=t.coordExtent(),r=!0,i=!1,o=void 0;try{for(var a,l=c[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,d=t.lastEdgeSet[u],f=t.firstDirectionWithSlack([d,h[d]]);if(f){var p=void 0;if(t.withinCollapseThreshold(u))switch(u){case"x":p=n[u].length/this.width,t.push(f,p-t.width());break;case"y":p=n[u].length/this.height,t.push(f,p-t.height())}}}}catch(m){i=!0,o=m}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}this.snapSlots(s)}},{key:"expandSlotInDirection",value:function(e,t){var s=this.getSlotById(e),n=s.neighbors[t],r=void 0;n.length>0?(r=n[0].slack(d[t]),s.push(t,r)):console.warn("Cannot expand slot "+e+" in direction #{dir}; no neighbors")}},{key:"toggleFullscreenSlot",value:function(e){var t=this.slots[e].fullscreen();if(!t){for(var s=1/this.width,n=1/this.height,r=0;r<this.height;r++)for(var i=0;i<this.width;i++){var o=this.cells[r][i];o._right.value=(i+1)*s,o._bottom.value=(r+1)*n}return!1}return!0}},{key:"fullscreenSlot",value:function(){var e=this.slotsList.filter(function(e){return!(e.withinCollapseThreshold("x")||e.withinCollapseThreshold("y"))});return 1===e.length?e[0]:null}},{key:"snapSlots",value:function(e){this.recalculateEdges();for(var t=[],s={},n=["x","y"],r=0;r<n.length;r++)for(var i=n[r],o=void 0;o=this.firstSlotWaitingToCollapse(i);){var a=void 0,l=-o.slack(i);if(a=s[i]?s[i]:o.origin().lte(e)?{x:"right",y:"bottom"}[i]:{x:"left",y:"top"}[i],(0==o.neighbors[a].length||t.indexOf(o.neighbors[a][0].id)>-1)&&(a=h[a]),0==o.neighbors[a].length||t.indexOf(o.neighbors[a][0].id)>-1)return void console.warn("Cannot snap; infinite loop");s[i]=a,o.push(a,l),t.push(o.id)}}}]),e}()},310:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(7),i=n(r);s(22);var o=s(8),a=n(o),l=s(21),u=n(l),c=s(18),d=n(c),h=s(41),f=n(h);t["default"]={report:function(e){var t=window.location.href.split("/");t=t[t.length-1];var s=e.error;return"checkpoint-eval"===e.type&&i["default"].ajax({type:"POST",url:"/learn/report-eval-error",data:{message:e.preface+": "+s.message,uri:window.location.pathname,stack:s.stack,type:s.name,useragent:navigator.userAgent}}),(0,f["default"])("info","Submitting bug report of type "+e.type),u["default"].increment("francine.bug-report","submit"),d["default"].track("action","click",{target:"reportBug",skill:t,url:window.location.href,type:e.type}),i["default"].ajax({type:"POST",url:"https://bugs.codecademy.com/report",data:{type:e.type,user_id:window.CCDATA.current_user._id,user_name:window.CCDATA.current_user.username,user_email:window.CCDATA.current_user.email,is_admin:a["default"].isAdmin(),desc:e.preface,slug:t,timestamp:(new Date).valueOf(),url:window.location.href,useragent:navigator.userAgent}})}}},311:function(e,t){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){s(this,e),this.name=t.name,this.path=t.path,this.files=t.files,this.directories=t.directories}return n(e,[{key:"asJSON",value:function(){return{name:this.name,path:this.path,files:this.files.map(function(e){return e.asJSON()}),directories:this.directories.map(function(e){return e.asJSON()})}}},{key:"clone",value:function(){return new e({name:this.name,path:this.path,files:this.files.map(function(e){return e.clone()}),directories:this.directories.map(function(e){return e.clone()})})}}]),e}();t["default"]=r},312:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(7),i=n(r);s(535),t["default"]={listenForOutsideClick:function(e,t){var s=(0,i["default"])(e);(0,i["default"])(document).on("click.clickListenerMixin",function(e){(0,i["default"])(e.target).insideOf(document.querySelector("body"))&&((0,i["default"])(e.target).insideOf(s[0])||((0,i["default"])(document).off("click"),t(e.target)))})},stopListeningForOutsideClicks:function(){(0,i["default"])(document).off("click.clickListenerMixin")},componentWillUnmount:function(){this.stopListeningForOutsideClicks()}}},313:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={fileExists:function(e){return e=this.props.currentSavePath?this.props.currentSavePath+"/"+e:e,this.state.workspaceObject.exists(e)}}},314:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=s(4),o=n(i),a=s(104),l=n(a);t["default"]=o["default"].createStore({init:function(){this._adapter=null,this._broadcast=null,this.listenToMany({onBroadcast:l["default"].broadcast,onNewAdapter:l["default"].newAdapter})},onBroadcast:function(){!this._adapter||!this._broadcast||arguments.length<1||this._broadcast.apply(this,r(Array.prototype.slice.call(arguments,0)))},onNewAdapter:function(e){this._adapter=e,this._broadcast=e.createComponentBroadcastFunction("Reflux"),this.trigger()}})},315:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(10),a=n(o);t["default"]=i["default"].createStore({mixins:[a["default"].store],getInitialState:function(){return{course:null,lesson:null,exercise:null}},setCursor:function(e){this.setState(e)},tokenize:function(){return this.state.course?[this.state.course.slug,this.state.lesson.slug,this.state.exercise.slug].join(":"):""}})},316:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(190),a=n(o),l=s(14),u=n(l);t["default"]=i["default"].createStore({init:function(){this.listenTo(a["default"].setPreviewFilepath,this.setPreviewFilepath),this.listenTo(a["default"].clearPreviewFile,this.clearPreviewFile)},setPreviewFilepath:function(e){var t=arguments.length<=1||void 0===arguments[1]?"utf8":arguments[1];u["default"].getFile(e,t).then(this.setPreviewFile),this.trigger({file:null,loading:!0})},setPreviewFile:function(e){this.trigger({file:e,loading:!1})},clearPreviewFile:function(){this.filepath=null,this.trigger({file:null,loading:!1})}})},317:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(189),a=n(o),l=s(202),u=n(l),c=s(203),d=n(c),h=s(8),f=n(h),p=s(10),m=n(p);t["default"]=i["default"].createStore({mixins:[m["default"].store],init:function(){var e=this;this.listenToMany({onUpdate:a["default"].update,onUpdateSelf:a["default"].updateSelf}),this._reservedState={},this._reservedState.userName=f["default"].get("username"),u["default"].listen(function(t){e.syncStatus(t)}),d["default"].listen(function(t){t.lock.locked===!1&&t.lock.owner!==f["default"].get("username")&&e.resetStatus()})},getInitialState:function(){return{status:"",userName:f["default"].get("username"),file:{},content:null,name:null,path:null,fileName:null}},syncStatus:function(e){this._reservedState&&this._reservedState.userName!==f["default"].get("username")&&(this._reservedState.name===e.files[e.active].name?this.setState({status:this._reservedState.userName+" "+this._reservedState.status+" this file",file:null}):this.setState(this._reservedState))},resetStatus:function(){this._reservedState={userName:f["default"].get("username"),status:"",file:{},content:null,name:null,path:null},this.setState(this._reservedState)},onUpdate:function(e,t){f["default"].get("username")!==t.owner&&(this._reservedState={userName:t.owner,status:e,file:t,content:t.content,name:t.name,path:t.path},this.setState(this._reservedState))},onUpdateSelf:function(e){this.setState({status:e,userName:f["default"].get("username"),file:{},content:null,name:null,path:null})}})},318:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(3),a=n(o),l=s(188),u=n(l),c=s(10),d=n(c),h=s(14),f=n(h),p=s(15),m=n(p),g=s(40),v=n(g),y=s(8),_=n(y);t["default"]=i["default"].createStore({mixins:[d["default"].store],init:function(){this.listenToMany({onUpdate:u["default"].update,onPeerLock:f["default"].peerLock,onPeerUnlock:f["default"].peerUnlock,onOpenFile:v["default"].openFile})},getInitialState:function(){var e=_["default"].get("username");return{peers:[],hostUserName:e}},onPeerLock:function(e){var t=a["default"].clone(this.state.peers);t.forEach(function(t){e.Username===t.Username&&(t.hasLock=!0)}),this.setState({peers:t})},onPeerUnlock:function(){var e=a["default"].clone(this.state.peers);e.forEach(function(e){e.hasLock=!1}),this.setState({peers:e})},onOpenFile:function(e){var t=a["default"].clone(this.state.peers);t.forEach(function(t){if(t.hasLock&&t.Username===_["default"].get("username")){var s=_["default"].get("username");m["default"].broadcast({event:"peer:open_file",params:{name:e.name,path:e.path,owner:s}},function(){})}})},checkForDupes:function(e,t){var s=!1;return t.forEach(function(t){t.Username===e&&(s=!0)}),s},onUpdate:function(e){var t=this,s=e,n=[];s.forEach(function(e){t.checkForDupes(e.Username,n)||n.push(e)}),s=n,s.length&&s.forEach(function(e){return e.iconUrl="/users/profile_image/"+e.Username}),this.setState({peers:s})}})},328:function(e,t){var s={utf8:{stringToBytes:function(e){return s.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(s.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],s=0;s<e.length;s++)t.push(255&e.charCodeAt(s));return t},bytesToString:function(e){for(var t=[],s=0;s<e.length;s++)t.push(String.fromCharCode(e[s]));return t.join("")}}};e.exports=s},373:function(e,t){e.exports={button:"index__button___3K1ZK",popover:"index__popover___29Pxs",gistLoader:"index__gistLoader___3g3Sp",gistResult:"index__gistResult___3XzFF",gistOpen:"index__gistOpen___W3pBa",gistInput:"index__gistInput___3M3Fr"}},532:function(e,t,s){var n;n=function(e,t,n){var r=s(3);n.exports={_externalOrigin:function(){return r.contains(["development","test"],CCDATA.env)?"//external-dev.codecademy.com:"+window.location.port:"//external-"+CCDATA.env+".codecademy.com"},secureSandboxIndex:function(){if(r.contains(["development","test"],CCDATA.env))return this._externalOrigin()+CCDATA.secureSandboxIndexPath;var e=CCDATA.secureSandboxIndexPath.replace("cdn","external");return e}}}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},533:function(e,t,s){var n;n=function(e,t,s){"use strict";s.exports.getSize=function(e){var t=document.createElement("div"),s="NOBODYEXPECTSTHESPANISHINQUISITION";t.appendChild(document.createTextNode(s)),t.style.position="absolute",t.style.visibility="hidden",e.appendChild(t);var n={width:t.offsetWidth/s.length,height:t.offsetHeight};return e.removeChild(t),n}}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},534:function(e,t,s){var n;n=function(e,t,n){var r=s(538);if(!r)return void console.warn("libs/term failed to initialize");var i;i=window.navigator&&window.navigator.userAgent?!!~window.navigator.userAgent.indexOf("Mac"):!1,r.brokenBold=!0,r.bindKeys=function(e){e.addEventListener("keydown",function(e){if(r.focus&&(!i||!e.metaKey)){var t=e.target||e.srcElement;if(t)return t===r.focus.element||t===r.focus.context||t===r.focus.document||t===r.focus.body||t===r._textarea||t===r.focus.parent?r.focus.keyDown(e):void 0}},!0),e.addEventListener("keypress",function(e){if(r.focus){var t=e.target||e.srcElement;if(t)return t===r.focus.element||t===r.focus.context||t===r.focus.document||t===r.focus.body||t===r._textarea||t===r.focus.parent?r.focus.keyPress(e):void 0}},!0),e.addEventListener("mousedown",function(e){if(r.focus){var t=e.target||e.srcElement;if(t){do if(t===r.focus.element)return;while(t=t.parentNode);r.focus.blur()}}})},r.prototype.handleExtraKeys=function(e){var t;return e.altKey&&e.ctrlKey?55===e.keyCode?t=String.fromCharCode(123):48===e.keyCode?t=String.fromCharCode(125):56===e.keyCode?t=String.fromCharCode(91):57===e.keyCode?t=String.fromCharCode(93):69===e.keyCode?t=String.fromCharCode(8364):81===e.keyCode?t=String.fromCharCode(64):226===e.keyCode?t=String.fromCharCode(124):187===e.keyCode?t=String.fromCharCode(126):219===e.keyCode&&(t=String.fromCharCode(92)):e.altKey&&e.shiftKey?"U+002F"===e.keyIdentifier&&(t=String.fromCharCode(92)):e.altKey&&(this.isMac&&76===e.keyCode?t=String.fromCharCode(64):this.isMac&&69===e.keyCode?t=String.fromCharCode(8364):this.isMac&&"U+0035"===e.keyIdentifier?t=String.fromCharCode(91):this.isMac&&"U+0036"===e.keyIdentifier?t=String.fromCharCode(93):this.isMac&&"U+0037"===e.keyIdentifier?t=String.fromCharCode(124):this.isMac&&"U+0038"===e.keyIdentifier?t=String.fromCharCode(123):this.isMac&&"U+0039"===e.keyIdentifier?t=String.fromCharCode(125):this.isMac&&78===e.keyCode&&(t=String.fromCharCode(126))),t},r.prototype.asText=function(){return this.lines.map(function(e){return e.map(function(e){return e[1]}).join("")}).join("")};var o=r.prototype.open;r.prototype.open=function(e){o.call(this,e),this.options.useFocus||(this.element.addEventListener("focus",function(){this.focus(),this.isMobile&&r._textarea.focus()}.bind(this)),this.element.addEventListener("mousedown",function(){this.focus()}.bind(this)),this.element.addEventListener("mousedown",function(e){var t=null!=e.button?+e.button:null!=e.which?e.which-1:null;self.isMSIE&&(t=1===t?0:4===t?1:t),2===t&&(this.element.contentEditable="true",setTimeout(function(){this.element.contentEditable="inherit"}.bind(this),1))}.bind(this),!0))},n.exports=r}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},535:function(e,t){!function(e){e.fn.insideOf=function(t){var s=this[0];return s.parentNode?s==t?!0:e(s.parentNode).insideOf(t):!1}}(jQuery)},536:function(e,t,s){var n;n=function(e,t,s){!function(){function e(){return!0}function s(e,t){this._options=t?t:{},void 0==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(e),this._handler=e,this.reset()}function n(e){n.super_.call(this,e,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function r(e,t){this.reset(),this._options=t?t:{},void 0==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),void 0==this._options.verbose&&(this._options.verbose=!0),void 0==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof e&&(this._callback=e)}function i(e,t){var s=function(){};s.prototype=t.prototype,e.super_=t,e.prototype=new s,e.prototype.constructor=e}if(!e()){if(this.Tautologistics){if(this.Tautologistics.NodeHtmlParser)return}else this.Tautologistics={};this.Tautologistics.NodeHtmlParser={},t=this.Tautologistics.NodeHtmlParser}var o={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};s._reTrim=/(^\s+|\s+$)/g,s._reTrimComment=/(^\!--|--$)/g,s._reWhitespace=/\s/g,s._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,s._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,s._reTags=/[\<\>]/g,s.prototype.parseComplete=function(e){this.reset(),this.parseChunk(e),this.done()},s.prototype.parseChunk=function(e){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=e,this.parseTags()},s.prototype.done=function(){if(!this._done){if(this._done=!0,this._buffer.length){var e=this._buffer;this._buffer="";var t={raw:e,data:this._parseState==o.Text?e:e.replace(s._reTrim,""),type:this._parseState};(this._parseState==o.Tag||this._parseState==o.Script||this._parseState==o.Style)&&(t.name=this.parseTagName(t.data)),this.parseAttribs(t),this._elements.push(t)}this.writeHandler(),this._handler.done()}},s.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=o.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},s.prototype._options=null,s.prototype._handler=null,s.prototype._buffer=null,s.prototype._done=!1,s.prototype._elements=null,s.prototype._elementsCurrent=0,s.prototype._current=0,s.prototype._next=0,s.prototype._location=null,s.prototype._parseState=o.Text,s.prototype._prevTagSep="",s.prototype._tagStack=null,s.prototype.parseTagAttribs=function(e){for(var t=e.length,s=0;t>s;){var n=e[s++];(n.type==o.Tag||n.type==o.Script||n.type==o.style)&&this.parseAttribs(n)}return e},s.prototype.parseAttribs=function(e){if(e.type==o.Script||e.type==o.Style||e.type==o.Tag){var t=e.data.split(s._reWhitespace,1)[0],n=e.data.substring(t.length);if(!(n.length<1)){var r;for(s._reAttrib.lastIndex=0;r=s._reAttrib.exec(n);)void 0==e.attribs&&(e.attribs={}),"string"==typeof r[1]&&r[1].length?e.attribs[r[1]]=r[2]:"string"==typeof r[3]&&r[3].length?e.attribs[r[3].toString()]=r[4].toString():"string"==typeof r[5]&&r[5].length?e.attribs[r[5]]=r[6]:"string"==typeof r[7]&&r[7].length&&(e.attribs[r[7]]=r[7])}}},s.prototype.parseTagName=function(e){if(null==e||""==e)return"";var t=s._reTagName.exec(e);return t?(t[1]?"/":"")+t[2]:""},s.prototype.parseTags=function(){for(var e=this._buffer.length-1;s._reTags.test(this._buffer);){this._next=s._reTags.lastIndex-1;var t=this._buffer.charAt(this._next),n=this._buffer.substring(this._current,this._next),r={raw:n,data:this._parseState==o.Text?n:n.replace(s._reTrim,""),type:this._parseState},i=this.parseTagName(r.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==o.Script){if("/script"==i.toLowerCase())this._tagStack.pop();else if(0!=r.raw.indexOf("!--")&&(r.type=o.Text,this._elements.length&&this._elements[this._elements.length-1].type==o.Text)){var a=this._elements[this._elements.length-1];a.raw=a.data=a.raw+this._prevTagSep+r.raw,r.raw=r.data=""}}else if(this._tagStack[this._tagStack.length-1]==o.Style){if("/style"==i.toLowerCase())this._tagStack.pop();else if(0!=r.raw.indexOf("!--"))if(r.type=o.Text,this._elements.length&&this._elements[this._elements.length-1].type==o.Text){var a=this._elements[this._elements.length-1];""!=r.raw?(a.raw=a.data=a.raw+this._prevTagSep+r.raw,r.raw=r.data=""):a.raw=a.data=a.raw+this._prevTagSep}else""!=r.raw&&(r.raw=r.data=r.raw)}else if(this._tagStack[this._tagStack.length-1]==o.Comment){var l=r.raw.length;if("-"==r.raw.charAt(l-2)&&"-"==r.raw.charAt(l-1)&&">"==t)if(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==o.Comment){var a=this._elements[this._elements.length-1];a.raw=a.data=(a.raw+r.raw).replace(s._reTrimComment,""),r.raw=r.data="",r.type=o.Text}else r.type=o.Comment;else if(r.type=o.Comment,this._elements.length&&this._elements[this._elements.length-1].type==o.Comment){var a=this._elements[this._elements.length-1];a.raw=a.data=a.raw+r.raw+t,r.raw=r.data="",r.type=o.Text}else r.raw=r.data=r.raw+t}if(r.type==o.Tag){r.name=i;var u=i.toLowerCase();if(0==r.raw.indexOf("!--")){r.type=o.Comment,delete r.name;var l=r.raw.length;"-"==r.raw.charAt(l-1)&&"-"==r.raw.charAt(l-2)&&">"==t?r.raw=r.data=r.raw.replace(s._reTrimComment,""):(r.raw+=t,this._tagStack.push(o.Comment))}else 0==r.raw.indexOf("!")||0==r.raw.indexOf("?")?r.type=o.Directive:"script"==u?(r.type=o.Script,"/"!=r.data.charAt(r.data.length-1)&&this._tagStack.push(o.Script)):"/script"==u?r.type=o.Script:"style"==u?(r.type=o.Style,"/"!=r.data.charAt(r.data.length-1)&&this._tagStack.push(o.Style)):"/style"==u&&(r.type=o.Style);r.name&&"/"==r.name.charAt(0)&&(r.data=r.name)}(""!=r.raw||r.type!=o.Text)&&(this._options.includeLocation&&!r.location&&(r.location=this.getLocation(r.type==o.Tag)),this.parseAttribs(r),this._elements.push(r),r.type!=o.Text&&r.type!=o.Comment&&r.type!=o.Directive&&"/"==r.data.charAt(r.data.length-1)&&this._elements.push({raw:"/"+r.name,data:"/"+r.name,name:"/"+r.name,type:r.type})),this._parseState="<"==t?o.Tag:o.Text,this._current=this._next+1,this._prevTagSep=t}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=e?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},s.prototype.getLocation=function(e){for(var t,s=this._location,n=this._current-(e?1:0),r=e&&0==s.charOffset&&0==this._current;s.charOffset<n;s.charOffset++)t=this._buffer.charAt(s.charOffset),"\n"==t?(s.inBuffer++,s.col=0):"\r"!=t&&s.col++;return{line:s.row+s.inBuffer+1,col:s.col+(r?0:1)}},s.prototype.validateHandler=function(e){if("object"!=typeof e)throw new Error("Handler is not an object");if("function"!=typeof e.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof e.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof e.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof e.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof e.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof e.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},s.prototype.writeHandler=function(e){if(e=!!e,!this._tagStack.length||e)for(;this._elements.length;){var t=this._elements.shift();switch(t.type){case o.Comment:this._handler.writeComment(t);break;case o.Directive:this._handler.writeDirective(t);break;case o.Text:this._handler.writeText(t);break;default:this._handler.writeTag(t)}}},s.prototype.handleError=function(e){if("function"!=typeof this._handler.error)throw e;this._handler.error(e)},i(n,r),n.prototype.done=function(){var e,t={},s=a.getElementsByTagName(function(e){return"rss"==e||"feed"==e},this.dom,!1);if(s.length&&(e=s[0]),e){if("rss"==e.name){t.type="rss",e=e.children[0],t.id="";try{t.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(r){}try{t.link=a.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(r){}try{t.description=a.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(r){}try{t.updated=new Date(a.getElementsByTagName("lastBuildDate",e.children,!1)[0].children[0].data)}catch(r){}try{t.author=a.getElementsByTagName("managingEditor",e.children,!1)[0].children[0].data}catch(r){}t.items=[],a.getElementsByTagName("item",e.children).forEach(function(e,s,n){var r={};try{r.id=a.getElementsByTagName("guid",e.children,!1)[0].children[0].data}catch(i){}try{r.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(i){}try{r.link=a.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(i){}try{r.description=a.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(i){}try{r.pubDate=new Date(a.getElementsByTagName("pubDate",e.children,!1)[0].children[0].data)}catch(i){}t.items.push(r)})}else{t.type="atom";try{t.id=a.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(r){}try{t.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(r){}try{t.link=a.getElementsByTagName("link",e.children,!1)[0].attribs.href}catch(r){}try{t.description=a.getElementsByTagName("subtitle",e.children,!1)[0].children[0].data}catch(r){}try{t.updated=new Date(a.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(r){}try{t.author=a.getElementsByTagName("email",e.children,!0)[0].children[0].data}catch(r){}t.items=[],a.getElementsByTagName("entry",e.children).forEach(function(e,s,n){var r={};try{r.id=a.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(i){}try{r.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(i){}try{r.link=a.getElementsByTagName("link",e.children,!1)[0].attribs.href}catch(i){}try{r.description=a.getElementsByTagName("summary",e.children,!1)[0].children[0].data}catch(i){}try{r.pubDate=new Date(a.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(i){}t.items.push(r)})}this.dom=t}n.super_.prototype.done.call(this)},r._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},r.reWhitespace=/^\s*$/,r.prototype.dom=null,r.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function(){return this.length?this[this.length-1]:null}},r.prototype.done=function(){this._done=!0,this.handleCallback(null)},r.prototype.writeTag=function(e){this.handleElement(e)},r.prototype.writeText=function(e){this._options.ignoreWhitespace&&r.reWhitespace.test(e.data)||this.handleElement(e)},r.prototype.writeComment=function(e){this.handleElement(e)},r.prototype.writeDirective=function(e){this.handleElement(e)},r.prototype.error=function(e){this.handleCallback(e)},r.prototype._options=null,r.prototype._callback=null,r.prototype._done=!1,r.prototype._tagStack=null,r.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},r.prototype.isEmptyTag=function(e){var t=e.name.toLowerCase();return"/"==t.charAt(0)&&(t=t.substring(1)),this._options.enforceEmptyTags&&!!r._emptyTags[t]},r.prototype.handleElement=function(e){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete e.raw,("tag"==e.type||"script"==e.type||"style"==e.type)&&delete e.data),this._tagStack.last())if(e.type!=o.Text&&e.type!=o.Comment&&e.type!=o.Directive)if("/"==e.name.charAt(0)){var t=e.name.substring(1);if(!this.isEmptyTag(e)){for(var s=this._tagStack.length-1;s>-1&&this._tagStack[s--].name!=t;);if(s>-1||this._tagStack[0].name==t)for(;s<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(e),this.isEmptyTag(e)||this._tagStack.push(e);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(e);else e.type!=o.Text&&e.type!=o.Comment&&e.type!=o.Directive?"/"!=e.name.charAt(0)&&(this.dom.push(e),this.isEmptyTag(e)||this._tagStack.push(e)):this.dom.push(e)};var a={testElement:function(e,t){if(!t)return!1;for(var s in e)if("tag_name"==s){if("tag"!=t.type&&"script"!=t.type&&"style"!=t.type)return!1;if(!e.tag_name(t.name))return!1}else if("tag_type"==s){if(!e.tag_type(t.type))return!1}else if("tag_contains"==s){if("text"!=t.type&&"comment"!=t.type&&"directive"!=t.type)return!1;if(!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[s](t.attribs[s]))return!1;return!0},getElements:function(e,t,s,n){function r(e){return function(t){return t==e}}if(s=void 0===s||null===s||!!s,n=isNaN(parseInt(n))?-1:parseInt(n),!t)return[];var i,o=[];for(var l in e)"function"!=typeof e[l]&&(e[l]=r(e[l]));if(a.testElement(e,t)&&o.push(t),n>=0&&o.length>=n)return o;if(s&&t.children)i=t.children;else{if(!(t instanceof Array))return o;i=t}for(var u=0;u<i.length&&(o=o.concat(a.getElements(e,i[u],s,n)),!(n>=0&&o.length>=n));u++);return o},getElementById:function(e,t,s){var n=a.getElements({id:e},t,s,1);return n.length?n[0]:null},getElementsByTagName:function(e,t,s,n){return a.getElements({tag_name:e},t,s,n)},getElementsByTagType:function(e,t,s,n){return a.getElements({tag_type:e},t,s,n)}};t.Parser=s,t.DefaultHandler=r,t.RssHandler=n,t.ElementType=o,t.DomUtils=a}()}.call(t,s,t,e),!(void 0!==n&&(e.exports=n))},537:function(e,t,s){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function s(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=h.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function i(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function s(n,r){return n?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,r),s):new RegExp(e,t)}}function l(){}function u(e){for(var t,s,n=1;n<arguments.length;n++){t=arguments[n];for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}function c(e,s,n){if(n||"function"==typeof s){n||(n=s,s=null),s=u({},c.defaults,s||{});var o,a,l=s.highlight,d=0;try{o=t.lex(e,s)}catch(h){return n(h)}a=o.length;var f=function(e){if(e)return s.highlight=l,n(e);var t;try{t=r.parse(o,s)}catch(i){e=i}return s.highlight=l,e?n(e):n(null,t)};if(!l||l.length<3)return f();if(delete s.highlight,!a)return f();for(;d<o.length;d++)!function(e){return"code"!==e.type?--a||f():l(e.text,e.lang,function(t,s){return t?f(t):null==s||s===e.text?--a||f():(e.text=s,e.escaped=!0,void(--a||f()))})}(o[d])}else try{return s&&(s=u({},c.defaults,s)),r.parse(t.lex(e,s),s)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(s||c.defaults).silent)return"<p>An error occured:</p><pre>"+i(h.message+"",!0)+"</pre>";throw h}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=a(d.item,"gm")(/bull/g,d.bullet)(),d.list=a(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=a(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=a(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=a(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),
d.normal=u({},d),d.gfm=u({},d.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),d.gfm.paragraph=a(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=u({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,s){var n=new t(s);return n.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,s){for(var n,r,i,o,a,l,u,c,h,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),l={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),o=i[2],this.tokens.push({type:"list_start",ordered:o.length>1}),i=i[0].match(this.rules.item),n=!1,h=i.length,c=0;h>c;c++)l=i[c],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a=d.bullet.exec(i[c+1])[0],o===a||o.length>1&&a.length>1||(e=i.slice(c+1).join("\n")+e,c=h-1)),r=n||/\n\n(?!\s*$)/.test(l),c!==h-1&&(n="\n"===l.charAt(l.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,s),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(!s&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),l={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=a(h.link)("inside",h._inside)("href",h._href)(),h.reflink=a(h.reflink)("inside",h._inside)(),h.normal=u({},h),h.pedantic=u({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=u({},h.normal,{escape:a(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=u({},h.gfm,{br:a(h.br)("{2,}","*")(),text:a(h.gfm.text)("{2,}","*")()}),s.rules=h,s.output=function(e,t,n){var r=new s(t,n);return r.output(e)},s.prototype.output=function(e){for(var t,s,n,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(s=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),n=this.mangle("mailto:")+s):(s=i(r[1]),n=s),o+=this.renderer.link(n,null,s);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?i(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o+=this.renderer.codespan(i(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=i(this.smartypants(r[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),s=i(r[1]),n=s,o+=this.renderer.link(n,null,s);return o},s.prototype.outputLink=function(e,t){var s=i(t.href),n=t.title?i(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(s,n,this.output(e[1])):this.renderer.image(s,n,i(e[1]))},s.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},s.prototype.mangle=function(e){for(var t,s="",n=e.length,r=0;n>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),s+="&#"+t+";";return s},n.prototype.code=function(e,t,s){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(s=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+i(t,!0)+'">'+(s?e:i(e,!0))+"\n</code></pre>\n":"<pre><code>"+(s?e:i(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,s){return"<h"+t+' id="'+this.options.headerPrefix+s.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var s=t?"ol":"ul";return"<"+s+">\n"+e+"</"+s+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var s=t.header?"th":"td",n=t.align?"<"+s+' style="text-align:'+t.align+'">':"<"+s+">";return n+e+"</"+s+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,s){if(this.options.sanitize){try{var n=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===n.indexOf("javascript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+s+"</a>"},n.prototype.image=function(e,t,s){var n='<img src="'+e+'" alt="'+s+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},r.parse=function(e,t,s){var n=new r(t,s);return n.parse(e)},r.prototype.parse=function(e){this.inline=new s(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,s,n,r,i="",o="";for(s="",e=0;e<this.token.header.length;e++)n={header:!0,align:this.token.align[e]},s+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(s),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],s="",r=0;r<t.length;r++)s+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(s)}return this.renderer.table(i,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},c.Parser=r,c.parser=r.parse,c.Renderer=n,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=s,c.inlineLexer=s.output,c.parse=c,e.exports=c}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,function(){return this}())},538:function(e,t,s){(function(t){(function(){"use strict";function t(){this._events=this._events||{}}function s(e){var n=this;if(!(this instanceof s))return new s(arguments[0],arguments[1],arguments[2]);t.call(this),"number"==typeof e&&(e={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),e=e||{},d(h(s.defaults),function(t){null==e[t]&&(e[t]=s.options[t],s[t]!==s.defaults[t]&&(e[t]=s[t])),n[t]=e[t]}),8===e.colors.length?e.colors=e.colors.concat(s._colors.slice(8)):16===e.colors.length?e.colors=e.colors.concat(s._colors.slice(16)):10===e.colors.length?e.colors=e.colors.slice(0,-2).concat(s._colors.slice(8,-2),e.colors.slice(-2)):18===e.colors.length&&(e.colors=e.colors.slice(0,-2).concat(s._colors.slice(16,-2),e.colors.slice(-2))),this.colors=e.colors,this.options=e,this.parent=e.body||e.parent||(f?f.getElementsByTagName("body")[0]:null),this.cols=e.cols||e.geometry[0],this.rows=e.rows||e.geometry[1],e.handler&&this.on("data",e.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.prefixMode=!1,this.selectMode=!1,this.visualMode=!1,this.searchMode=!1,this.searchDown,this.entry="",this.entryPrefix="Search: ",this._real,this._selected,this._textarea,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.lines=[];for(var r=this.rows;r--;)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function n(e,t,s,n){e.addEventListener(t,s,n||!1)}function r(e,t,s,n){e.removeEventListener(t,s,n||!1)}function i(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function o(e,t){function s(){this.constructor=e}s.prototype=t.prototype,e.prototype=new s}function a(e){var t=e.getElementsByTagName("body")[0],s=e.createElement("span");s.innerHTML="hello world",t.appendChild(s);var n=s.scrollWidth;s.style.fontWeight="bold";var r=s.scrollWidth;return t.removeChild(s),n!==r}function l(e,t){for(var s=e.length;s--;)if(e[s]===t)return s;return-1}function u(e){return"＀">=e?!1:e>="！"&&"ﾾ">=e||e>="ￂ"&&"ￇ">=e||e>="ￊ"&&"ￏ">=e||e>="ￒ"&&"ￗ">=e||e>="ￚ"&&"ￜ">=e||e>="￠"&&"￦">=e||e>="￨"&&"￮">=e}function c(e,t,n){var r=e<<16|t<<8|n;if(null!=c._cache[r])return c._cache[r];for(var i,o,a,l,u,d=1/0,h=-1,f=0;f<s.vcolors.length;f++){if(i=s.vcolors[f],o=i[0],a=i[1],l=i[2],u=c.distance(e,t,n,o,a,l),0===u){h=f;break}d>u&&(d=u,h=f)}return c._cache[r]=h}function d(e,t,s){if(e.forEach)return e.forEach(t,s);for(var n=0;n<e.length;n++)t.call(s,e[n],n,e)}function h(e){if(Object.keys)return Object.keys(e);var t,s=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.push(t);return s}var f=this.document;t.prototype.addListener=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},t.prototype.on=t.prototype.addListener,t.prototype.removeListener=function(e,t){if(this._events[e])for(var s=this._events[e],n=s.length;n--;)if(s[n]===t||s[n].listener===t)return void s.splice(n,1)},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(e){this._events[e]&&delete this._events[e]},t.prototype.once=function(e,t){function s(){var n=Array.prototype.slice.call(arguments);return this.removeListener(e,s),t.apply(this,n)}return s.listener=t,this.on(e,s)},t.prototype.emit=function(e){if(this._events[e])for(var t=Array.prototype.slice.call(arguments,1),s=this._events[e],n=s.length,r=0;n>r;r++)s[r].apply(this,t)},t.prototype.listeners=function(e){return this._events[e]=this._events[e]||[]};var p=0,m=1,g=2,v=3,y=4,_=5,b=6;o(s,t),s.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},s.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],s.xtermColors=["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],s.colors=function(){function e(e,s,n){r.push("#"+t(e)+t(s)+t(n))}function t(e){return e=e.toString(16),e.length<2?"0"+e:e}var n,r=s.tangoColors.slice(),i=[0,95,135,175,215,255];for(n=0;216>n;n++)e(i[n/36%6|0],i[n/6%6|0],i[n%6]);for(n=0;24>n;n++)i=8+10*n,e(i,i,i);return r}(),s.colors[256]="#000000",s.colors[257]="#f0f0f0",s._colors=s.colors.slice(),s.vcolors=function(){for(var e,t=[],n=s.colors,r=0;256>r;r++)e=parseInt(n[r].substring(1),16),t.push([e>>16&255,e>>8&255,255&e]);return t}(),s.defaults={colors:s.colors,convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!0,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,useStyle:!1},s.options={},d(h(s.defaults),function(e){s[e]=s.defaults[e],s.options[e]=s.defaults[e]}),s.focus=null,s.prototype.focus=function(){s.focus!==this&&(s.focus&&s.focus.blur(),this.sendFocus&&this.send("[I"),this.showCursor(),s.focus=this)},s.prototype.blur=function(){s.focus===this&&(this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send("[O"),s.focus=null)},s.prototype.initGlobal=function(){var e=this.document;s._boundDocs=s._boundDocs||[],~l(s._boundDocs,e)||(s._boundDocs.push(e),s.bindPaste(e),s.bindKeys(e),s.bindCopy(e),this.isMobile&&this.fixMobile(e),this.useStyle&&s.insertStyle(e,this.colors[256],this.colors[257]))},s.bindPaste=function(e){var t=e.defaultView;n(t,"paste",function(e){var t=s.focus;if(t)return e.clipboardData?t.send(e.clipboardData.getData("text/plain")):t.context.clipboardData&&t.send(t.context.clipboardData.getData("Text")),t.element.contentEditable="inherit",i(e)})},s.bindKeys=function(e){n(e,"keydown",function(e){if(s.focus){var t=e.target||e.srcElement;if(t)return t===s.focus.element||t===s.focus.context||t===s.focus.document||t===s.focus.body||t===s._textarea||t===s.focus.parent?s.focus.keyDown(e):void 0}},!0),n(e,"keypress",function(e){if(s.focus){var t=e.target||e.srcElement;if(t)return t===s.focus.element||t===s.focus.context||t===s.focus.document||t===s.focus.body||t===s._textarea||t===s.focus.parent?s.focus.keyPress(e):void 0}},!0),n(e,"mousedown",function(e){if(s.focus){var t=e.target||e.srcElement;if(t){do if(t===s.focus.element)return;while(t=t.parentNode);s.focus.blur()}}})},s.bindCopy=function(e){var t=e.defaultView;n(t,"copy",function(e){var t=s.focus;if(t&&t._selected){var n=t.getCopyTextarea(),r=t.grabText(t._selected.x1,t._selected.x2,t._selected.y1,t._selected.y2);t.emit("copy",r),n.focus(),n.textContent=r,n.value=r,n.setSelectionRange(0,r.length),w(function(){t.element.focus(),t.focus()},1)}})},s.prototype.fixMobile=function(e){var t=this,r=e.createElement("textarea");r.style.position="absolute",r.style.left="-32000px",r.style.top="-32000px",r.style.width="0px",r.style.height="0px",r.style.opacity="0",r.style.backgroundColor="transparent",r.style.borderStyle="none",r.style.outlineStyle="none",r.autocapitalize="none",r.autocorrect="off",e.getElementsByTagName("body")[0].appendChild(r),s._textarea=r,w(function(){r.focus()},1e3),this.isAndroid&&n(r,"change",function(){var e=r.textContent||r.value;r.value="",r.textContent="",t.send(e+"\r")})},s.insertStyle=function(e,t,s){var n=e.getElementById("term-style");if(!n){var r=e.getElementsByTagName("head")[0];if(r){var n=e.createElement("style");n.id="term-style",n.innerHTML=".terminal {\n  float: left;\n  border: "+t+' solid 5px;\n  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n  font-size: 11px;\n  color: '+s+";\n  background: "+t+";\n}\n\n.terminal-cursor {\n  color: "+t+";\n  background: "+s+";\n}\n",r.insertBefore(n,r.firstChild)}}},s.prototype.open=function(e){var t,r=this,i=0;if(this.parent=e||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac"),this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad"),this.isIphone=!!~this.context.navigator.userAgent.indexOf("iPhone"),this.isAndroid=!!~this.context.navigator.userAgent.indexOf("Android"),this.isMobile=this.isIpad||this.isIphone||this.isAndroid,this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.element=this.document.createElement("div"),this.element.className="terminal",this.element.style.outline="none",this.element.setAttribute("tabindex",0),this.element.setAttribute("spellcheck","false"),this.element.style.backgroundColor=this.colors[256],this.element.style.color=this.colors[257],this.children=[];i<this.rows;i++)t=this.document.createElement("div"),this.element.appendChild(t),this.children.push(t);this.parent.appendChild(this.element),this.refresh(0,this.rows-1),"useEvents"in this.options&&!this.options.useEvents||this.initGlobal(),"useFocus"in this.options&&!this.options.useFocus||(this.focus(),this.startBlink(),n(this.element,"focus",function(){r.focus(),r.isMobile&&s._textarea.focus()}),n(this.element,"mousedown",function(){r.focus()}),n(this.element,"mousedown",function(e){var t=null!=e.button?+e.button:null!=e.which?e.which-1:null;r.isMSIE&&(t=1===t?0:4===t?1:t),2===t&&(r.element.contentEditable="true",w(function(){r.element.contentEditable="inherit"},1))},!0)),"useMouse"in this.options&&!this.options.useMouse||this.bindMouse(),"useFocus"in this.options&&!this.options.useFocus||w(function(){r.element.focus()},100),null==s.brokenBold&&(s.brokenBold=a(this.document))},s.prototype.bindMouse=function(){function e(e){var t,s;if(t=a(e),s=l(e))switch(o(t,s),e.type){case"mousedown":d=t;break;case"mouseup":d=32;break;case h:}}function t(e){var t,s=d;t=l(e),t&&(s+=32,o(s,t))}function s(e,t){if(c.utfMouse){if(2047===t)return e.push(0);127>t?e.push(t):(t>2047&&(t=2047),e.push(192|t>>6),e.push(128|63&t))}else{if(255===t)return e.push(0);t>127&&(t=127),e.push(t)}}function o(e,t){if(c.vt300Mouse){e&=3,t.x-=32,t.y-=32;var n="[24";if(0===e)n+="1";else if(1===e)n+="3";else if(2===e)n+="5";else{if(3===e)return;n+="0"}return n+="~["+t.x+","+t.y+"]\r",void c.send(n)}if(c.decLocator)return e&=3,t.x-=32,t.y-=32,0===e?e=2:1===e?e=4:2===e?e=6:3===e&&(e=3),void c.send("["+e+";"+(3===e?4:0)+";"+t.y+";"+t.x+";"+(t.page||0)+"&w");if(c.urxvtMouse)return t.x-=32,t.y-=32,t.x++,t.y++,void c.send("["+e+";"+t.x+";"+t.y+"M");if(c.sgrMouse)return t.x-=32,t.y-=32,void c.send("[<"+(3===(3&e)?-4&e:e)+";"+t.x+";"+t.y+(3===(3&e)?"m":"M"));var n=[];s(n,e),s(n,t.x),s(n,t.y),c.send("[M"+k.fromCharCode.apply(k,n))}function a(e){var t,s,n,r,i;switch(e.type){case"mousedown":t=null!=e.button?+e.button:null!=e.which?e.which-1:null,c.isMSIE&&(t=1===t?0:4===t?1:t);break;case"mouseup":t=3;break;case"DOMMouseScroll":t=e.detail<0?64:65;break;case"mousewheel":t=e.wheelDeltaY>0?64:65}return s=e.shiftKey?4:0,n=e.metaKey?8:0,r=e.ctrlKey?16:0,i=s|n|r,c.vt200Mouse?i&=r:c.normalMouse||(i=0),t=32+(i<<2)+t}function l(e){var t,s,n,r,i;if(null!=e.pageX){for(t=e.pageX,s=e.pageY,i=c.element;i&&i!==c.document.documentElement;)t-=i.offsetLeft,s-=i.offsetTop,i="offsetParent"in i?i.offsetParent:i.parentNode;return n=c.element.clientWidth,r=c.element.clientHeight,t=Math.round(t/n*c.cols),s=Math.round(s/r*c.rows),0>t&&(t=0),t>c.cols&&(t=c.cols),0>s&&(s=0),s>c.rows&&(s=c.rows),t+=32,s+=32,{x:t,y:s,type:e.type===h?"mousewheel":e.type}}}var u=this.element,c=this,d=32,h="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";n(u,"mousedown",function(s){return c.mouseEvents?(e(s),c.focus(),c.vt200Mouse?(e({__proto__:s,type:"mouseup"}),i(s)):(c.normalMouse&&n(c.document,"mousemove",t),c.x10Mouse||n(c.document,"mouseup",function o(s){return e(s),c.normalMouse&&r(c.document,"mousemove",t),r(c.document,"mouseup",o),i(s)}),i(s))):void 0}),n(u,h,function(t){return c.mouseEvents&&!(c.x10Mouse||c.vt300Mouse||c.decLocator)?(e(t),i(t)):void 0}),n(u,h,function(e){return c.mouseEvents||c.applicationKeypad?void 0:("DOMMouseScroll"===e.type?c.scrollDisp(e.detail<0?-5:5):c.scrollDisp(e.wheelDeltaY>0?-5:5),i(e))})},s.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},s.prototype.refresh=function(e,t){var n,r,i,o,a,l,c,d,h,f,p,m,g,v;for(t-e>=this.rows/2&&(v=this.element.parentNode,v&&v.removeChild(this.element)),c=this.cols,r=e,t>=this.lines.length&&(this.log("`end` is too large. Most likely a bad CSR."),t=this.lines.length-1);t>=r;r++){for(g=r+this.ydisp,o=this.lines[g],a="",n=r!==this.y||!this.cursorState||this.ydisp!==this.ybase&&!this.selectMode||this.cursorHidden?-1:this.x,h=this.defAttr,i=0;c>i;i++){switch(d=o[i][0],l=o[i][1],i===n&&(d=-1),d!==h&&(h!==this.defAttr&&(a+="</span>"),d!==this.defAttr&&(-1===d?a+='<span class="reverse-video terminal-cursor">':(a+='<span style="',f=511&d,p=d>>9&511,m=d>>18,1&m&&(s.brokenBold||(a+="font-weight:bold;"),8>p&&(p+=8)),2&m&&(a+="text-decoration:underline;"),4&m&&(2&m?(a=a.slice(0,-1),a+=" blink;"):a+="text-decoration:blink;"),8&m&&(f=d>>9&511,p=511&d,1&m&&8>p&&(p+=8)),16&m&&(a+="visibility:hidden;"),256!==f&&(a+="background-color:"+this.colors[f]+";"),257!==p&&(a+="color:"+this.colors[p]+";"),a+='">'))),l){case"&":a+="&amp;";break;case"<":a+="&lt;";break;case">":a+="&gt;";break;default:" ">=l?a+="&nbsp;":(u(l)&&i++,a+=l)}h=d}h!==this.defAttr&&(a+="</span>"),this.children[r].innerHTML=a}v&&v.appendChild(this.element)},s.prototype._cursorBlink=function(){s.focus===this&&(this.cursorState^=1,this.refresh(this.y,this.y))},s.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},s.prototype.startBlink=function(){if(this.cursorBlink){var e=this;this._blinker=function(){e._cursorBlink()},this._blink=x(this._blinker,500)}},s.prototype.refreshBlink=function(){this.cursorBlink&&(clearInterval(this._blink),this._blink=x(this._blinker,500))},s.prototype.scroll=function(){var e;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,e=this.ybase+this.rows-1,e-=this.rows-1-this.scrollBottom,e===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(e,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},s.prototype.scrollDisp=function(e){this.ydisp+=e,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},s.prototype.write=function(e){var t,n,r,i=e.length,o=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());i>o;o++)switch(r=e[o],this.state){case p:switch(r){case"":this.bell();break;case"\n":case"\x0B":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=m;break;default:if(r>=" "&&(this.charset&&this.charset[r]&&(r=this.charset[r]),this.x>=this.cols&&(this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,r],this.x++,this.updateRange(this.y),u(r))){if(t=this.y+this.ybase,this.cols<2||this.x>=this.cols){this.lines[t][this.x-1]=[this.curAttr," "];break}this.lines[t][this.x]=[this.curAttr," "],this.x++}}break;case m:switch(r){case"[":this.params=[],this.currentParam=0,this.state=g;break;case"]":this.params=[],this.currentParam=0,this.state=v;break;case"P":this.params=[],this.currentParam=0,this.state=_;break;case"_":this.state=b;break;case"^":this.state=b;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,s.charsets.US),this.state=p,o++;break;case"(":case")":case"*":case"+":case"-":case".":switch(r){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=y;break;case"/":this.gcharset=3,this.state=y,o--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=p;break;case"8":this.restoreCursor(),this.state=p;break;case"#":this.state=p,o++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.state=p;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.state=p;break;default:this.state=p,this.error("Unknown ESC control: %s.",r)}break;case y:switch(r){case"0":n=s.charsets.SCLD;break;case"A":n=s.charsets.UK;break;case"B":n=s.charsets.US;break;case"4":n=s.charsets.Dutch;break;case"C":case"5":n=s.charsets.Finnish;break;case"R":n=s.charsets.French;break;case"Q":n=s.charsets.FrenchCanadian;break;case"K":n=s.charsets.German;break;case"Y":n=s.charsets.Italian;break;case"E":case"6":n=s.charsets.NorwegianDanish;break;case"Z":n=s.charsets.Spanish;break;case"H":case"7":n=s.charsets.Swedish;break;case"=":n=s.charsets.Swiss;break;case"/":n=s.charsets.ISOLatin,o++;break;default:n=s.charsets.US}this.setgCharset(this.gcharset,n),this.gcharset=null,this.state=p;break;case v:if(""===r||""===r){switch(""===r&&o++,this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this.params=[],this.currentParam=0,this.state=p}else this.params.length?this.currentParam+=r:r>="0"&&"9">=r?this.currentParam=10*this.currentParam+r.charCodeAt(0)-48:";"===r&&(this.params.push(this.currentParam),this.currentParam="");break;case g:if("?"===r||">"===r||"!"===r){this.prefix=r;break}if(r>="0"&&"9">=r){this.currentParam=10*this.currentParam+r.charCodeAt(0)-48;break}if("$"===r||'"'===r||" "===r||"'"===r){this.postfix=r;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===r)break;switch(this.state=p,r){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":
this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",r)}this.prefix="",this.postfix="";break;case _:if(""===r||""===r){switch(""===r&&o++,this.prefix){case"":break;case"$q":var a=this.currentParam,l=!1;switch(a){case'"q':a='0"q';break;case'"p':a='61"p';break;case"r":a=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":a="0m";break;default:this.error("Unknown DCS Pt: %s.",a),a=""}this.send("P"+ +l+"$r"+a+"\\");break;case"+p":break;case"+q":var a=this.currentParam,l=!1;this.send("P"+ +l+"+r"+a+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=p}else this.currentParam?this.currentParam+=r:this.prefix||"$"===r||"+"===r?2===this.prefix.length?this.currentParam=r:this.prefix+=r:this.currentParam=r;break;case b:(""===r||""===r)&&(""===r&&o++,this.state=p)}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},s.prototype.writeln=function(e){this.write(e+"\r\n")},s.prototype.handleExtraKeys=function(e){return!1},s.prototype.keyDown=function(e){var t,s=this;switch(e.keyCode){case 8:if(e.shiftKey){t="\b";break}t="";break;case 9:if(e.shiftKey){t="[Z";break}t="	";break;case 13:t="\r";break;case 27:t="";break;case 37:if(this.applicationCursor){t="OD";break}t="[D";break;case 39:if(this.applicationCursor){t="OC";break}t="[C";break;case 38:if(this.applicationCursor){t="OA";break}if(e.ctrlKey)return this.scrollDisp(-1),i(e);t="[A";break;case 40:if(this.applicationCursor){t="OB";break}if(e.ctrlKey)return this.scrollDisp(1),i(e);t="[B";break;case 46:t="[3~";break;case 45:t="[2~";break;case 36:if(this.applicationKeypad){t="OH";break}t="OH";break;case 35:if(this.applicationKeypad){t="OF";break}t="OF";break;case 33:if(e.shiftKey)return this.scrollDisp(-(this.rows-1)),i(e);t="[5~";break;case 34:if(e.shiftKey)return this.scrollDisp(this.rows-1),i(e);t="[6~";break;case 112:t="OP";break;case 113:t="OQ";break;case 114:t="OR";break;case 115:t="OS";break;case 116:t="[15~";break;case 117:t="[17~";break;case 118:t="[18~";break;case 119:t="[19~";break;case 120:t="[20~";break;case 121:t="[21~";break;case 122:t="[23~";break;case 123:t="[24~";break;default:if(e.ctrlKey)if(e.keyCode>=65&&e.keyCode<=90){if(this.screenKeys&&!this.prefixMode&&!this.selectMode&&65===e.keyCode)return this.enterPrefix(),i(e);if(this.prefixMode&&86===e.keyCode)return void this.leavePrefix();if((this.prefixMode||this.selectMode)&&67===e.keyCode)return void(this.visualMode&&w(function(){s.leaveVisual()},1));t=k.fromCharCode(e.keyCode-64)}else 32===e.keyCode?t=k.fromCharCode(0):e.keyCode>=51&&e.keyCode<=55?t=k.fromCharCode(e.keyCode-51+27):56===e.keyCode?t=k.fromCharCode(127):219===e.keyCode?t=k.fromCharCode(27):221===e.keyCode&&(t=k.fromCharCode(29));else(!this.isMac&&e.altKey||this.isMac&&e.metaKey)&&(e.keyCode>=65&&e.keyCode<=90?t=""+k.fromCharCode(e.keyCode+32):192===e.keyCode?t="`":e.keyCode>=48&&e.keyCode<=57&&(t=""+(e.keyCode-48)))}return t||(t=this.handleExtraKeys(e)),t?this.prefixMode?(this.leavePrefix(),i(e)):this.selectMode?(this.keySelect(e,t),i(e)):(this.emit("keydown",e),this.emit("key",t,e),this.showCursor(),this.handler(t),i(e)):!0},s.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},s.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},s.prototype.keyPress=function(e){var t;if(i(e),e.charCode)t=e.charCode;else if(null==e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!t||e.ctrlKey||e.altKey||e.metaKey?!1:(t=k.fromCharCode(t),this.prefixMode?(this.leavePrefix(),this.keyPrefix(e,t),!1):this.selectMode?(this.keySelect(e,t),!1):(this.emit("keypress",t,e),this.emit("key",t,e),this.showCursor(),this.handler(t),!1))},s.prototype.send=function(e){var t=this;this.queue||w(function(){t.handler(t.queue),t.queue=""},1),this.queue+=e},s.prototype.bell=function(){if(this.emit("bell"),this.visualBell){var e=this;this.element.style.borderColor="white",w(function(){e.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},s.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var e=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,e)}},s.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var e=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,e)}},s.prototype.resize=function(e,t){var s,n,r,i,o;if(1>e&&(e=1),1>t&&(t=1),i=this.cols,e>i)for(o=[this.defAttr," "],r=this.lines.length;r--;)for(;this.lines[r].length<e;)this.lines[r].push(o);else if(i>e)for(r=this.lines.length;r--;)for(;this.lines[r].length>e;)this.lines[r].pop();if(this.setupStops(i),this.cols=e,i=this.rows,t>i)for(n=this.element;i++<t;)this.lines.length<t+this.ybase&&this.lines.push(this.blankLine()),this.children.length<t&&(s=this.document.createElement("div"),n.appendChild(s),this.children.push(s));else if(i>t)for(;i-- >t;)if(this.lines.length>t+this.ybase&&this.lines.pop(),this.children.length>t){if(n=this.children.pop(),!n)continue;n.parentNode.removeChild(n)}this.rows=t,this.y>=t&&(this.y=t-1),this.x>=e&&(this.x=e-1),this.scrollTop=0,this.scrollBottom=t-1,this.refresh(0,this.rows-1),this.normal=null},s.prototype.updateRange=function(e){e<this.refreshStart&&(this.refreshStart=e),e>this.refreshEnd&&(this.refreshEnd=e)},s.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},s.prototype.setupStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this.cols;e+=8)this.tabs[e]=!0},s.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this.cols?this.cols-1:0>e?0:e},s.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this.cols;);return e>=this.cols?this.cols-1:0>e?0:e},s.prototype.eraseRight=function(e,t){for(var s=this.lines[this.ybase+t],n=[this.eraseAttr()," "];e<this.cols;e++)s[e]=n;this.updateRange(t)},s.prototype.eraseLeft=function(e,t){var s=this.lines[this.ybase+t],n=[this.eraseAttr()," "];for(e++;e--;)s[e]=n;this.updateRange(t)},s.prototype.eraseLine=function(e){this.eraseRight(0,e)},s.prototype.blankLine=function(e){for(var t=e?this.eraseAttr():this.defAttr,s=[t," "],n=[],r=0;r<this.cols;r++)n[r]=s;return n},s.prototype.ch=function(e){return e?[this.eraseAttr()," "]:[this.defAttr," "]},s.prototype.is=function(e){var t=this.termName;return 0===(t+"").indexOf(e)},s.prototype.handler=function(e){this.emit("data",e)},s.prototype.handleTitle=function(e){this.emit("title",e)},s.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=p},s.prototype.reverseIndex=function(){var e;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),e=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-e+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=p},s.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,s.call(this,this.options),this.refresh(0,this.rows-1)},s.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=p},s.prototype.cursorUp=function(e){var t=e[0];1>t&&(t=1),this.y-=t,this.y<0&&(this.y=0)},s.prototype.cursorDown=function(e){var t=e[0];1>t&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1)},s.prototype.cursorForward=function(e){var t=e[0];1>t&&(t=1),this.x+=t,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.cursorBackward=function(e){var t=e[0];1>t&&(t=1),this.x-=t,this.x<0&&(this.x=0)},s.prototype.cursorPos=function(e){var t,s;t=e[0]-1,s=e.length>=2?e[1]-1:0,0>t?t=0:t>=this.rows&&(t=this.rows-1),0>s?s=0:s>=this.cols&&(s=this.cols-1),this.x=s,this.y=t},s.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:for(this.eraseRight(this.x,this.y),t=this.y+1;t<this.rows;t++)this.eraseLine(t);break;case 1:for(this.eraseLeft(this.x,this.y),t=this.y;t--;)this.eraseLine(t);break;case 2:for(t=this.rows;t--;)this.eraseLine(t);break;case 3:}},s.prototype.eraseInLine=function(e){switch(e[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},s.prototype.charAttributes=function(e){if(1===e.length&&0===e[0])return void(this.curAttr=this.defAttr);for(var t,s=e.length,n=0,r=this.curAttr>>18,i=this.curAttr>>9&511,o=511&this.curAttr;s>n;n++)t=e[n],t>=30&&37>=t?i=t-30:t>=40&&47>=t?o=t-40:t>=90&&97>=t?(t+=8,i=t-90):t>=100&&107>=t?(t+=8,o=t-100):0===t?(r=this.defAttr>>18,i=this.defAttr>>9&511,o=511&this.defAttr):1===t?r|=1:4===t?r|=2:5===t?r|=4:7===t?r|=8:8===t?r|=16:22===t?r&=-2:24===t?r&=-3:25===t?r&=-5:27===t?r&=-9:28===t?r&=-17:39===t?i=this.defAttr>>9&511:49===t?o=511&this.defAttr:38===t?2===e[n+1]?(n+=2,i=c(255&e[n],255&e[n+1],255&e[n+2]),-1===i&&(i=511),n+=2):5===e[n+1]&&(n+=2,t=255&e[n],i=t):48===t?2===e[n+1]?(n+=2,o=c(255&e[n],255&e[n+1],255&e[n+2]),-1===o&&(o=511),n+=2):5===e[n+1]&&(n+=2,t=255&e[n],o=t):100===t?(i=this.defAttr>>9&511,o=511&this.defAttr):this.error("Unknown SGR attribute: %d.",t);this.curAttr=r<<18|i<<9|o},s.prototype.deviceStatus=function(e){if(this.prefix){if("?"===this.prefix)switch(e[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}}else switch(e[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},s.prototype.insertChars=function(e){var t,s,n,r;for(t=e[0],1>t&&(t=1),s=this.y+this.ybase,n=this.x,r=[this.eraseAttr()," "];t--&&n<this.cols;)this.lines[s].splice(n++,0,r),this.lines[s].pop()},s.prototype.cursorNextLine=function(e){var t=e[0];1>t&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},s.prototype.cursorPrecedingLine=function(e){var t=e[0];1>t&&(t=1),this.y-=t,this.y<0&&(this.y=0),this.x=0},s.prototype.cursorCharAbsolute=function(e){var t=e[0];1>t&&(t=1),this.x=t-1},s.prototype.insertLines=function(e){var t,s,n;for(t=e[0],1>t&&(t=1),s=this.y+this.ybase,n=this.rows-1-this.scrollBottom,n=this.rows-1+this.ybase-n+1;t--;)this.lines.splice(s,0,this.blankLine(!0)),this.lines.splice(n,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},s.prototype.deleteLines=function(e){var t,s,n;for(t=e[0],1>t&&(t=1),s=this.y+this.ybase,n=this.rows-1-this.scrollBottom,n=this.rows-1+this.ybase-n;t--;)this.lines.splice(n+1,0,this.blankLine(!0)),this.lines.splice(s,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},s.prototype.deleteChars=function(e){var t,s,n;for(t=e[0],1>t&&(t=1),s=this.y+this.ybase,n=[this.eraseAttr()," "];t--;)this.lines[s].splice(this.x,1),this.lines[s].push(n)},s.prototype.eraseChars=function(e){var t,s,n,r;for(t=e[0],1>t&&(t=1),s=this.y+this.ybase,n=this.x,r=[this.eraseAttr()," "];t--&&n<this.cols;)this.lines[s][n++]=r},s.prototype.charPosAbsolute=function(e){var t=e[0];1>t&&(t=1),this.x=t-1,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.HPositionRelative=function(e){var t=e[0];1>t&&(t=1),this.x+=t,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.sendDeviceAttributes=function(e){e[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(e[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},s.prototype.linePosAbsolute=function(e){var t=e[0];1>t&&(t=1),this.y=t-1,this.y>=this.rows&&(this.y=this.rows-1)},s.prototype.VPositionRelative=function(e){var t=e[0];1>t&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1)},s.prototype.HVPosition=function(e){e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),this.y=e[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=e[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.setMode=function(e){if("object"!=typeof e)if(this.prefix){if("?"===this.prefix)switch(e){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,s.charsets.US),this.setgCharset(1,s.charsets.US),this.setgCharset(2,s.charsets.US),this.setgCharset(3,s.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=9===e,this.vt200Mouse=1e3===e,this.normalMouse=e>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var t={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=t,this.showCursor()}}}else switch(e){case 4:this.insertMode=!0;break;case 20:}else for(var n=e.length,r=0;n>r;r++)this.setMode(e[r])},s.prototype.resetMode=function(e){if("object"!=typeof e)if(this.prefix){if("?"===this.prefix)switch(e){case 1:this.applicationCursor=!1;break;case 3:132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}}else switch(e){case 4:this.insertMode=!1;break;case 20:}else for(var t=e.length,s=0;t>s;s++)this.resetMode(e[s])},s.prototype.setScrollRegion=function(e){this.prefix||(this.scrollTop=(e[0]||1)-1,this.scrollBottom=(e[1]||this.rows)-1,this.x=0,this.y=0)},s.prototype.saveCursor=function(e){this.savedX=this.x,this.savedY=this.y},s.prototype.restoreCursor=function(e){this.x=this.savedX||0,this.y=this.savedY||0},s.prototype.cursorForwardTab=function(e){for(var t=e[0]||1;t--;)this.x=this.nextStop()},s.prototype.scrollUp=function(e){for(var t=e[0]||1;t--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},s.prototype.scrollDown=function(e){for(var t=e[0]||1;t--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},s.prototype.initMouseTracking=function(e){},s.prototype.resetTitleModes=function(e){},s.prototype.cursorBackwardTab=function(e){for(var t=e[0]||1;t--;)this.x=this.prevStop()},s.prototype.repeatPrecedingCharacter=function(e){for(var t=e[0]||1,s=this.lines[this.ybase+this.y],n=s[this.x-1]||[this.defAttr," "];t--;)s[this.x++]=n},s.prototype.tabClear=function(e){var t=e[0];0>=t?delete this.tabs[this.x]:3===t&&(this.tabs={})},s.prototype.mediaCopy=function(e){},s.prototype.setResources=function(e){},s.prototype.disableModifiers=function(e){},s.prototype.setPointerMode=function(e){},s.prototype.softReset=function(e){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},s.prototype.requestAnsiMode=function(e){},s.prototype.requestPrivateMode=function(e){},s.prototype.setConformanceLevel=function(e){},s.prototype.loadLEDs=function(e){},s.prototype.setCursorStyle=function(e){},s.prototype.setCharProtectionAttr=function(e){},s.prototype.restorePrivateValues=function(e){},s.prototype.setAttrInRectangle=function(e){for(var t,s,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];i+1>n;n++)for(t=this.lines[this.ybase+n],s=r;o>s;s++)t[s]=[a,t[s][1]];this.updateRange(e[0]),this.updateRange(e[2])},s.prototype.savePrivateValues=function(e){},s.prototype.manipulateWindow=function(e){},s.prototype.reverseAttrInRectangle=function(e){},s.prototype.setTitleModeFeature=function(e){},s.prototype.setWarningBellVolume=function(e){},s.prototype.setMarginBellVolume=function(e){},s.prototype.copyRectangle=function(e){},s.prototype.enableFilterRectangle=function(e){},s.prototype.requestParameters=function(e){},s.prototype.selectChangeExtent=function(e){},s.prototype.fillRectangle=function(e){for(var t,s,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];o+1>r;r++)for(t=this.lines[this.ybase+r],s=i;a>s;s++)t[s]=[t[s][0],k.fromCharCode(n)];this.updateRange(e[1]),this.updateRange(e[3])},s.prototype.enableLocatorReporting=function(e){e[0]>0},s.prototype.eraseRectangle=function(e){var t,s,n,r=e[0],i=e[1],o=e[2],a=e[3];for(n=[this.eraseAttr()," "];o+1>r;r++)for(t=this.lines[this.ybase+r],s=i;a>s;s++)t[s]=n;this.updateRange(e[0]),this.updateRange(e[2])},s.prototype.setLocatorEvents=function(e){},s.prototype.selectiveEraseRectangle=function(e){},s.prototype.requestLocatorPosition=function(e){},s.prototype.insertColumns=function(){for(var e,t=params[0],s=this.ybase+this.rows,n=[this.eraseAttr()," "];t--;)for(e=this.ybase;s>e;e++)this.lines[e].splice(this.x+1,0,n),this.lines[e].pop();this.maxRange()},s.prototype.deleteColumns=function(){for(var e,t=params[0],s=this.ybase+this.rows,n=[this.eraseAttr()," "];t--;)for(e=this.ybase;s>e;e++)this.lines[e].splice(this.x,1),this.lines[e].push(n);this.maxRange()},s.prototype.enterPrefix=function(){this.prefixMode=!0},s.prototype.leavePrefix=function(){this.prefixMode=!1},s.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write},this.write=function(){},this.selectMode=!0,this.visualMode=!1,this.cursorHidden=!1,this.refresh(this.y,this.y)},s.prototype.leaveSelect=function(){this.x=this._real.x,this.y=this._real.y,this.ydisp=this._real.ydisp,this.ybase=this._real.ybase,this.cursorHidden=this._real.cursorHidden,this.lines=this._real.lines,this.write=this._real.write,delete this._real,this.selectMode=!1,this.visualMode=!1,this.refresh(0,this.rows-1)},s.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines),this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y),this.visualMode=!0},s.prototype.leaveVisual=function(){this.lines=this._real.preVisual,delete this._real.preVisual,delete this._selected,this.visualMode=!1,this.refresh(0,this.rows-1)},s.prototype.enterSearch=function(e){this.entry="",this.searchMode=!0,this.searchDown=e,this._real.preSearch=this.copyBuffer(this.lines),this._real.preSearchX=this.x,this._real.preSearchY=this.y;for(var t=this.ydisp+this.rows-1,s=0;s<this.entryPrefix.length;s++)this.lines[t][s]=[-512&this.defAttr|4,this.entryPrefix[s]];this.y=this.rows-1,this.x=this.entryPrefix.length,this.refresh(this.rows-1,this.rows-1)},s.prototype.leaveSearch=function(){this.searchMode=!1,this._real.preSearch&&(this.lines=this._real.preSearch,this.x=this._real.preSearchX,this.y=this._real.preSearchY,delete this._real.preSearch,delete this._real.preSearchX,delete this._real.preSearchY),this.refresh(this.rows-1,this.rows-1)},s.prototype.copyBuffer=function(e){for(var e=e||this.lines,t=[],s=0;s<e.length;s++){t[s]=[];for(var n=0;n<e[s].length;n++)t[s][n]=[e[s][n][0],e[s][n][1]]}return t},s.prototype.getCopyTextarea=function(e){var t=this._copyTextarea,s=this.document;return t||(t=s.createElement("textarea"),t.style.position="absolute",t.style.left="-32000px",t.style.top="-32000px",t.style.width="0px",t.style.height="0px",t.style.opacity="0",t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.outlineStyle="none",s.getElementsByTagName("body")[0].appendChild(t),this._copyTextarea=t),t},s.prototype.copyText=function(e){var t=this,s=this.getCopyTextarea();this.emit("copy",e),s.focus(),s.textContent=e,s.value=e,s.setSelectionRange(0,e.length),w(function(){t.element.focus(),t.focus()},1)},s.prototype.selectText=function(e,t,s,n){var r,i,o,a,l,u,c,d,h;if(this._selected){for(r=this._selected.x1,i=this._selected.x2,o=this._selected.y1,a=this._selected.y2,o>a&&(l=i,i=r,r=l,l=a,a=o,o=l),r>i&&o===a&&(l=i,i=r,r=l),c=o;a>=c;c++)for(u=0,d=this.cols-1,c===o&&(u=r),c===a&&(d=i);d>=u;u++)null!=this.lines[c][u].old&&(h=this.lines[c][u].old,delete this.lines[c][u].old,this.lines[c][u]=[h,this.lines[c][u][1]]);s=this._selected.y1,e=this._selected.x1}for(s=Math.max(s,0),s=Math.min(s,this.ydisp+this.rows-1),n=Math.max(n,0),n=Math.min(n,this.ydisp+this.rows-1),this._selected={x1:e,x2:t,y1:s,y2:n},s>n&&(l=t,t=e,e=l,l=n,n=s,s=l),e>t&&s===n&&(l=t,t=e,e=l),c=s;n>=c;c++)for(u=0,d=this.cols-1,c===s&&(u=e),c===n&&(d=t);d>=u;u++)h=this.lines[c][u][0],this.lines[c][u]=[-512&h|261636,this.lines[c][u][1]],this.lines[c][u].old=h;s-=this.ydisp,n-=this.ydisp,s=Math.max(s,0),s=Math.min(s,this.rows-1),n=Math.max(n,0),n=Math.min(n,this.rows-1),this.refresh(0,this.rows-1)},s.prototype.grabText=function(e,t,s,n){var r,i,o,a,l,c="",d="";for(s>n&&(l=t,t=e,e=l,l=n,n=s,s=l),e>t&&s===n&&(l=t,t=e,e=l),o=s;n>=o;o++){for(i=0,a=this.cols-1,o===s&&(i=e),o===n&&(a=t);a>=i;i++)r=this.lines[o][i][1]," "!==r?(d&&(c+=d,d=""),c+=r,u(r)&&i++):d+=r;d="",c+="\n"}for(i=t,o=n;i<this.cols;i++)if(" "!==this.lines[o][i][1]){c=c.slice(0,-1);break}return c},s.prototype.keyPrefix=function(e,t){"k"===t||"&"===t?this.destroy():"p"===t||"]"===t?this.emit("request paste"):"c"===t?this.emit("request create"):t>="0"&&"9">=t?(t=+t-1,~t||(t=9),this.emit("request term",t)):"n"===t?this.emit("request term next"):"P"===t?this.emit("request term previous"):":"===t?this.emit("request command mode"):"["===t&&this.enterSelect()},s.prototype.keySelect=function(e,t){if(this.showCursor(),this.searchMode||"n"===t||"N"===t)return this.keySearch(e,t);if(""===t){var s=this.ydisp+this.y;return this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if(""===t){var s=this.ydisp+this.y;return 0===this.ydisp?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if(""===t){var s=this.ydisp+this.y;return this.scrollDisp(this.rows-1),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if(""===t){var s=this.ydisp+this.y;return this.scrollDisp(-(this.rows-1)),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if("k"===t||"[A"===t){var s=this.ydisp+this.y;return this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),void(this.visualMode?this.selectText(this.x,this.x,s,this.ydisp+this.y):this.refresh(this.y,this.y+1))}if("j"===t||"[B"===t){var s=this.ydisp+this.y;return this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),void(this.visualMode?this.selectText(this.x,this.x,s,this.ydisp+this.y):this.refresh(this.y-1,this.y))}if("h"===t||"[D"===t){var n=this.x;return this.x--,this.x<0&&(this.x=0),void(this.visualMode?this.selectText(n,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("l"===t||"[C"===t){var n=this.x;return this.x++,this.x>=this.cols&&(this.x=this.cols-1),void(this.visualMode?this.selectText(n,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("v"===t||" "===t)return void(this.visualMode?this.leaveVisual():this.enterVisual());if("y"!==t){if("q"===t||""===t)return void(this.visualMode?this.leaveVisual():this.leaveSelect());if("w"===t||"W"===t){for(var r=this.x,i=this.y,o=this.ydisp,n=this.x,s=this.y,a=this.ydisp,l=!1;;){for(var u=this.lines[a+s];n<this.cols;){if(u[n][1]<=" ")l=!0;else if(l)break;n++}if(n>=this.cols&&(n=this.cols-1),!(n===this.cols-1&&u[n][1]<=" "))break;if(n=0,++s>=this.rows&&(s--,++a>this.ybase)){a=this.ybase,n=this.x;break}}return this.x=n,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,i+o,this.ydisp+this.y))}if("b"===t||"B"===t){for(var r=this.x,i=this.y,o=this.ydisp,n=this.x,s=this.y,a=this.ydisp;;){for(var u=this.lines[a+s],l=n>0&&u[n][1]>" "&&u[n-1][1]>" ";n>=0;){if(u[n][1]<=" "){if(l&&n+1<this.cols&&u[n+1][1]>" "){n++;break}l=!0}n--}if(0>n&&(n=0),0!==n||!(u[n][1]<=" ")&&l)break;if(n=this.cols-1,--s<0&&(s++,--a<0)){a++,n=0;break}}return this.x=n,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,i+o,this.ydisp+this.y))}if("e"===t||"E"===t){var n=this.x+1,s=this.y,a=this.ydisp;for(n>=this.cols&&n--;;){for(var u=this.lines[a+s];n<this.cols&&u[n][1]<=" ";)n++;for(;n<this.cols;){if(u[n][1]<=" "&&n-1>=0&&u[n-1][1]>" "){n--;break}n++}if(n>=this.cols&&(n=this.cols-1),!(n===this.cols-1&&u[n][1]<=" "))break;if(n=0,++s>=this.rows&&(s--,++a>this.ybase)){a=this.ybase;break}}return this.x=n,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,i+o,this.ydisp+this.y))}if("^"===t||"0"===t){var r=this.x;if("0"===t)this.x=0;else if("^"===t){for(var u=this.lines[this.ydisp+this.y],n=0;n<this.cols&&!(u[n][1]>" ");)n++;n>=this.cols&&(n=this.cols-1),this.x=n}return void(this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("$"===t){for(var r=this.x,u=this.lines[this.ydisp+this.y],n=this.cols-1;n>=0;){if(u[n][1]>" "){this.visualMode&&n<this.cols-1&&n++;break}n--}return 0>n&&(n=0),this.x=n,void(this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("g"===t||"G"===t){var r=this.x,i=this.y,o=this.ydisp;return"g"===t?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):"G"===t&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)),void(this.visualMode&&this.selectText(r,this.x,i+o,this.ydisp+this.y))}if("H"===t||"M"===t||"L"===t){var r=this.x,i=this.y;return"H"===t?(this.x=0,this.y=0):"M"===t?(this.x=0,this.y=this.rows/2|0):"L"===t&&(this.x=0,this.y=this.rows-1),void(this.visualMode?this.selectText(r,this.x,this.ydisp+i,this.ydisp+this.y):(this.refresh(i,i),this.refresh(this.y,this.y)))}if("{"===t||"}"===t){var u,c,r=this.x,i=this.y,o=this.ydisp,d=!1,h=!1,f=-1,s=this.y+("{"===t?-1:1),a=this.ydisp;for("{"===t?0>s&&(s++,a>0&&a--):"}"===t&&s>=this.rows&&(s--,a<this.ybase&&a++);;){for(u=this.lines[a+s],c=0;c<this.cols;c++){if(u[c][1]>" "){-1===f&&(f=0),d=!0;break}if(c===this.cols-1){-1===f?f=1:0===f?h=!0:1===f&&d&&(h=!0);break}}if(h)break;if("{"===t){if(s--,0>s){if(s++,!(a>0))break;a--}}else if("}"===t&&(s++,s>=this.rows)){if(s--,!(a<this.ybase))break;a++}}return h||("{"===t?(s=0,a=0):"}"===t&&(s=this.rows-1,a=this.ybase)),this.x=0,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,i+o,this.ydisp+this.y))}return"/"===t||"?"===t?void(this.visualMode||this.enterSearch("/"===t)):!1}if(this.visualMode){var p=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(p),this.leaveVisual()}},s.prototype.keySearch=function(e,t){if(""===t)return void this.leaveSearch();if("\r"===t||!this.searchMode&&("n"===t||"N"===t)){this.leaveSearch();var s=this.entry;if(!s)return void this.refresh(0,this.rows-1);for(var n,r,i,o=this.x,a=this.y,l=this.ydisp,u=!1,c=!1,d=this.x+1,h=this.ydisp+this.y,f="N"===t?this.searchDown:!this.searchDown;;){for(n=this.lines[h];d<this.cols;){for(i=0;i<s.length&&!(d+i>=this.cols)&&n[d+i][1]===s[i];i++)if(n[d+i][1]===s[i]&&i===s.length-1){u=!0;break}if(u)break;d+=i+1}if(u)break;if(d=0,f){if(h--,0>h){if(c)break;c=!0,h=this.ybase+this.rows-1}}else if(h++,h>this.ybase+this.rows-1){if(c)break;c=!0,h=0}}return u?(h-this.ybase<0?(r=h,h=0,r>this.ybase&&(h=r-this.ybase,r=this.ybase)):(r=this.ybase,h-=this.ybase),this.x=d,this.y=h,this.scrollDisp(-this.ydisp+r),void(this.visualMode&&this.selectText(o,this.x,a+l,this.ydisp+this.y))):void this.refresh(0,this.rows-1)}if("\b"===t||""===t){if(0===this.entry.length)return;var p=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var i=this.entryPrefix.length+this.entry.length;return this.lines[p][i]=[this.lines[p][i][0]," "],this.x--,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}if(1===t.length&&t>=" "&&"~">=t){var p=this.ydisp+this.rows-1;this.entry+=t;var i=this.entryPrefix.length+this.entry.length-1;return this.lines[p][i]=[-512&this.defAttr|4,t],this.x++,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}return!1},s.charsets={},s.charsets.SCLD={"`":"◆",a:"▒",b:"	",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"\x0B",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},s.charsets.UK=null,s.charsets.US=null,s.charsets.Dutch=null,s.charsets.Finnish=null,s.charsets.French=null,s.charsets.FrenchCanadian=null,s.charsets.German=null,s.charsets.Italian=null,s.charsets.NorwegianDanish=null,s.charsets.Spanish=null,s.charsets.Swedish=null,s.charsets.Swiss=null,s.charsets.ISOLatin=null;var k=this.String,w=this.setTimeout,x=this.setInterval;c._cache={},c.distance=function(e,t,s,n,r,i){return Math.pow(30*(e-n),2)+Math.pow(59*(t-r),2)+Math.pow(11*(s-i),2)},s.EventEmitter=t,s.inherits=o,s.on=n,s.off=r,s.cancel=i,e.exports=s}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,function(){return this}())},539:function(e,t,s){function n(e,t,s){var n=new o(e,{origin:"http://www.codecademy.com"}),r=new i(n),l=new a(r,t,s);return l}function r(e,t){this.user=t,this.mgmt=new l(e,t)}var i=s(541),o=s(544),a=s(540),l=s(542);r.prototype.getGodexClient=function(e,t,s){this.mgmt.getInstance(e,function(e,r){if(!r)return void s("Instance does not exist");this._instanceId=r.id;var i="wss",o=n(i+"://"+r.godex_url,r,this.user);o.on("connected",function(){o.authenticate({userToken:this.user.authentication_token,userId:this.user.id,username:this.user.username,instanceId:this.mgmt.instance.id,instanceToken:this.mgmt.instance.token})}.bind(this)),t(null,o)}.bind(this),function(e,t){s(e)})},r.prototype.askForFreshGodexInstance=function(e){this.mgmt.deleteInstance(this._instanceId,e)},e.exports.Manager=r,e.exports.GodexClient=n},540:function(e,t,s){function n(e,t,s){this.client=e,this.instance=t,this.user=s,this.setState("disconnected"),this.client.on("connect",this._connected.bind(this)),this.client.on("close",this._disconnected.bind(this)),this.client.on("error",this.emit.bind("transport:error")),this.client.on("client:event",function(e){
this.emit(e.name,e.params)}.bind(this))}var r=s(176),i=s(158),o=s(543);r.inherits(n,i.EventEmitter),n.prototype.setState=function(e){this.state=e},n.prototype.connect=function(){this.client.connect()},n.prototype.broadcast=function(e,t,s){this.client.send("Method.Broadcast",[{Workspace:e,Event:t}],s)},n.prototype.lockWorkspace=function(e,t){this.client.send("Method.LockWorkspace",[{Workspace:e}],t)},n.prototype.unlockWorkspace=function(e,t){this.client.send("Method.UnlockWorkspace",[{Workspace:e}],t)},n.prototype._connected=function(){this.setState("connected"),this.emit("connected")},n.prototype.close=function(e,t){this.client.close(e,t)},n.prototype._disconnected=function(){this.setState("disconnected"),this.emit("disconnected")},n.prototype.authenticate=function(e){this.client.send("Method.Authenticate",[e],function(e,t){!e&&t?(this.setState("ready"),this.emit("ready")):(this.setState("unauthorized"),this.emit("unauthorized"))}.bind(this))},n.prototype.createWorkspace=function(e,t){this.client.send("Method.CreateWorkspace",[{Id:e.id,Slug:e.slug,Type:e.type}],t)},n.prototype.getFiles=function(e,t,s){this.client.send("Method.GetFiles",[{Files:t,Workspace:e}],s)},n.prototype.getFilesByNames=function(e,t,s){this.client.send("Method.GetFilesByNames",[{FileNames:t,Workspace:e}],s)},n.prototype.getFile=function(e,t,s,n){this.client.send("Method.GetFile",[{Filename:t,Workspace:e,Encoding:s}],n)},n.prototype.renameFile=function(e,t,s,n){this.client.send("Method.RenameFile",[{Workspace:e,From:t,To:s}],n)},n.prototype.deleteFile=function(e,t,s){this.client.send("Method.DeleteFile",[{Workspace:e,Filename:t}],s)},n.prototype.getListing=function(e,t){this.client.send("Method.GetListing",[{Workspace:e}],t)},n.prototype.updateFiles=function(e,t,s){this.client.send("Method.UpdateFiles",[{Workspace:e,Files:t}],s)},n.prototype.run=function(e,t,s){this.client.send("Method.Run",[{Workspace:e,File:t}],s)},n.prototype.sct=function(e,t,s){this.client.send("Method.Sct",[{Workspace:e,File:t}],s)},n.prototype.execute=function(e,t,s){this.client.send("Method.Execute",[{Workspace:e,Command:t}],s)},n.prototype.persistWorkspace=function(e,t){this.client.send("Method.PersistWorkspace",[{Workspace:e}],t)},n.prototype.restoreWorkspace=function(e,t,s){this.client.send("Method.RestoreWorkspace",[{Workspace:e,Checkpoint:t}],s)},n.prototype.checkpointWorkspace=function(e,t,s){this.client.send("Method.CheckpointWorkspace",[{Workspace:e,Checkpoint:t}],s)},n.prototype.input=function a(e,a,t){this.client.send("Method.Input",[{Workspace:e,Input:a}],t)},n.prototype.setPtySize=function(e,t,s,n){this.client.send("Method.SetPtySize",[{Id:e,Cols:t,Rows:s}],n)},n.prototype.getPtyFgProcName=function(e,t){this.client.send("Method.GetPtyFgProcName",[{Id:e}],t)},n.prototype.acknowledgeSessionStillAlive=function(e){this.client.send("Method.Alive",[{Alive:!0}],e)},n.prototype.send=function(e,t,s){this.client.send(e,t,s)},n.prototype.spawnPty=function(e,t,s){this.client.send("Method.SpawnPty",[{Workspace:e,Command:t}],function(e,t){if(e)return s(e);var n=new WebSocket(this.client.transport.server+"/pty?id="+t.Id),r=new o(n);r.id=t.Id,r.resize=function(e,s,n){this.setPtySize(t.Id,e,s,n)}.bind(this),r.getFgProcName=function(e){this.getPtyFgProcName(t.Id,e)}.bind(this),r.once("connect",function(){s(null,r)})}.bind(this))},n.prototype.uploadFile=function(e,t){var s=new FormData;e.forEach(function(e){s.append("blob",e.blob,e.filename)});var n=new XMLHttpRequest;return n.open("POST","http://"+this.instance.godex_url+"/upload"),n.setRequestHeader("UserId",this.user.id),n.setRequestHeader("UserAuthToken",this.user.authentication_token),n.setRequestHeader("Workspace",t),n.send(s),n},e.exports=n},541:function(e,t,s){function n(e){this.waiting={},this.rid=0,e.on("message",this.receive.bind(this)),e.on("connect",this.emit.bind(this,"connect")),e.on("close",this.emit.bind(this,"close")),e.on("error",this.emit.bind(this,"error")),this.transport=e}var r=s(176),i=s(158);r.inherits(n,i.EventEmitter),n.prototype.connect=function(){this.transport.connect()},n.prototype.close=function(e,t){this.transport.close(e,t)},n.prototype.send=function(e,t,s){var n=++this.rid,r=JSON.stringify({method:e,params:t,id:n});this.waiting[n]=s,this.transport.send(r)},n.prototype._receive_cb=function(e){return function(t,s){var n=JSON.stringify({id:e,error:s,result:t});this.transport.send(n)}},n.prototype.receive=function(e){try{e=JSON.parse(e)}catch(t){throw new Error("Failed to parse JSON"+e)}if("undefined"!=typeof e.result)"function"==typeof this.waiting[e.id]&&(this.waiting[e.id](e.error,e.result),this.waiting[e.id]=null);else{var s={name:e.event,params:e.params};this.emit("client:event",s,this._receive_cb(e.id).bind(this))}},e.exports=n},542:function(e,t,s){function n(e,t){this.baseUrl=e,this.user=t}var r=s(7),i=s(3);n.prototype.getInstance=function(e,t,s){var n,r;r=e.hasOwnProperty("user_id")&&e.user_id?e.user_id:this.user_id,n=e.hasOwnProperty("id")&&e.id?"/instances/user/"+r+"/workspace_id/"+e.id:"/instances/user/"+r+"/workspace/"+e.slug,this.ajax(n,{type:"GET",success:function(e){this.instance=e,t(null,e)}.bind(this),error:function(e){s(e,null)}.bind(this)})},n.prototype.deleteInstance=function(e,t){this.ajax("/instances/"+e,{type:"DELETE",data:{user_id:this.user.id},error:t.error,success:t.success})},n.prototype.ajax=function(e,t){void 0===t.data&&(t.data={}),t.data=i.extend({user_auth_token:this.user.authentication_token},t.data),t.beforeSend=function(e){e.setRequestHeader("X-User-Id",this.user.id),e.setRequestHeader("X-Auth-Token",this.user.authentication_token)}.bind(this),r.ajax(this.baseUrl+e,t)},e.exports=n},543:function(e,t,s){var n=s(176),r=s(158),i=function(e){var t=this;e.onmessage=function(e){t.emit("data",e.data)},e.onclose=function(e){t.emit("end")},e.onopen=function(e){t.emit("connect")},this.write=function(t){return e.send(t)},this.end=function(){return e.close()}};n.inherits(i,r.EventEmitter),e.exports=i},544:function(e,t,s){function n(e,t){this.server=e,this.socketOptions=t||{}}var r=s(1224),i=s(176),o=s(158);i.inherits(n,o.EventEmitter),n.prototype.connect=function(){this.socket=new r(this.server,null,this.socketOptions),this.socket.onopen=this._onopen.bind(this),this.socket.onmessage=this._onmessage.bind(this),this.socket.onerror=this._onerror.bind(this),this.socket.onclose=this._onclose.bind(this)},n.prototype.close=function(e,t){this.socket.close(e,t)},n.prototype.send=function(e){this.socket.send(e)},n.prototype._onopen=function(e){this.emit("connect")},n.prototype._onmessage=function(e){this.emit("message",e.data)},n.prototype._onerror=function(e){this.emit("error",e)},n.prototype._onclose=function(e){this.emit("close")},e.exports=n},552:function(e,t){"use strict";t.__esModule=!0;var s={value:"",mode:"text/javascript",theme:"cc",lineWrapping:!0,lineNumbers:!0,indentUnit:2,tabSize:2,indentWithTabs:!1,dragDrop:!1,matchTags:{bothTags:!0},matchBrackets:!0,styleActiveLine:!0,foldGutter:!0,foldOptions:{widget:"∙ ∙ ∙"},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],autoRefresh:!0};t["default"]=s,e.exports=t["default"]},553:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},i=s(3),o=n(i),a=s(1),l=n(a),u=s(17),c=n(u),d=s(270),h=s(1044),f=n(h),p=s(552),m=n(p),g=s(177),v=s(2),y=n(v),_=l["default"].createClass({displayName:"CMEditor",propTypes:{filename:l["default"].PropTypes.string,mode:l["default"].PropTypes.string,content:l["default"].PropTypes.string.isRequired,onChange:l["default"].PropTypes.func,disabled:l["default"].PropTypes.bool,readOnly:l["default"].PropTypes.bool},getDefaultProps:function(){return{readOnly:!1,disabled:!1,content:"",filename:""}},getInitialState:function(){return{editor:null}},componentDidMount:function(){this.showFile()},shouldComponentUpdate:function(e){var t=this.getContent()!==e.content&&this.isClean(),s=this.props.filename!==e.filename;return t||s},componentDidUpdate:function(){this.getContent()!==this.props.content&&this.showFile()},componentWillUnmount:function(){this.destroy()},destroy:function(){if(this.state.editor){var e=this.state.editor.getWrapperElement();e&&e.parentNode.removeChild(e)}},getContent:function(){return o["default"].result(this.state.editor,"getValue")},showFile:function(){var e=c["default"].findDOMNode(this.refs.editorParent);if(e){var t=this.props.mode;t||!this.props.filename||this.props.filename.match(/\.min\./)||(t=g.mimetypeForFilename(this.props.filename));var s=Object.assign({},m["default"],{mode:t,value:this.props.content||"",readOnly:this.props.readOnly}),n=this.state.editor;n?o["default"].isString(this.props.content)&&(n.setOption("mode",t),n.getDoc().setValue(this.props.content),this.markClean(),n.getDoc().clearHistory()):(n=d.codemirror(e,s),n.on("change",o["default"].debounce(this.onChange,200)),this.setState({editor:n}))}},markClean:function(){this.state.editor&&this.state.editor.getDoc().markClean()},isClean:function(){return this.state.editor?this.state.editor.getDoc().isClean():!0},onChange:function(){var e=this.getContent();o["default"].isFunction(this.props.onChange)&&(this.props.onChange(e),this.markClean())},handleClick:function(){var e=this.state.editor;e&&e.focus()},render:function(){var e,t=o["default"].omit(this.props,"onChange","disabled","content"),s=y["default"]((e={},e[f["default"].editor]=!0,e[f["default"].disabled]=this.props.disabled,e[d.theme.defaults]=!0,e[d.theme.cc]=!0,e));return l["default"].createElement("div",r({},t,{className:s,ref:"editorParent",onClick:this.handleClick}))}});t["default"]=_,e.exports=t["default"]},588:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=n(i),a=s(2),l=n(a);t["default"]=o["default"].createClass({displayName:"tabbed_views",getInitialState:function(){return{activeIndex:this.props.startIndex}},componentDidUpdate:function(e,t){t.activeIndex!==this.state.activeIndex&&this.props.onChange&&this.props.onChange(t.activeIndex,this.state.activeIndex)},setActiveTab:function(e){this.setState({activeIndex:e})},render:function(){var e=this.props,t=(e.onChange,r(e,["onChange"])),s=[],n=[];return this.props.headings.forEach(function(e,t){var r=(0,l["default"])({"tabbed-view__button":!0,"tabbed-view__button--active":t===this.state.activeIndex}),i=this.setActiveTab.bind(this,t);s.push(o["default"].createElement("div",{className:r,onClick:i},e)),n.push(o["default"].createElement("div",null,this.props.contents[t]))},this),o["default"].createElement("div",t,o["default"].createElement("article",{className:"fit-full tabbed-view__header-article"},o["default"].createElement("div",{className:"grid-row tabbed-view__header"},o["default"].createElement("div",{className:"grid-col-12 grid-col--center grid-col--no-spacing"},o["default"].createElement("div",{className:"tabbed-view__tabs"},s)))),o["default"].createElement("article",{className:"fit-full tabbed-view__content-article"},o["default"].createElement("div",{className:"grid-row"},o["default"].createElement("div",{className:"grid-col-12 grid-col--no-spacing"},o["default"].createElement("div",null,n[this.state.activeIndex])))))}})},589:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o);t["default"]=i["default"].createClass({displayName:"view_more",mixins:[a["default"]],propTypes:{defaultExpanded:i["default"].PropTypes.bool,expandText:i["default"].PropTypes.string,closeText:i["default"].PropTypes.string,children:i["default"].PropTypes.oneOf(i["default"].PropTypes.element,i["default"].PropTypes.array)},getInitialState:function(){return{expanded:!!this.props.defaultExpanded}},getDefaultProps:function(){return{defaultExpanded:!1,expandText:"",closeText:""}},toggle:function(){this.setState({expanded:!this.state.expanded})},getIcon:function(){return this.state.expanded?i["default"].createElement("span",{className:"fcn-icon fcn-icon-arrowDropdownUp"}):i["default"].createElement("span",{className:"fcn-icon fcn-icon-arrowDropdown"})},getControlText:function(){return this.state.expanded?this.props.closeText:this.props.expandText},render:function(){return i["default"].createElement("span",{className:"view-more"},i["default"].createElement("span",{onClick:this.toggle,className:"view-more__text"}," ",this.getControlText()),i["default"].createElement("span",{onClick:this.toggle,className:"view-more__toggle"},this.getIcon()),this.state.expanded?this.props.children:null)}})},596:function(e,t){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){s(this,e),this._locking=Promise.resolve(),this._locked=!1}return n(e,[{key:"isLocked",value:function(){return this._locked}},{key:"lock",value:function(){var e=this;this._locked=!0;var t=void 0,s=new Promise(function(e){return t=e});s.then(function(){return e._locked=!1});var n=this._locking.then(function(){return t});return this._locking=this._locking.then(function(){return s}),n}}]),e}();t["default"]=r},597:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(/^http.*/.test(e)){var t=new d["default"](e),s=t.host()+":"+t.port();return/localhost/.test(e)&&s!==window.location.host?{type:"local",src:t.path()}:{type:"external",src:e}}return{type:"local",src:e}}function i(e,t){var s=(arguments.length<=2||void 0===arguments[2]?{}:arguments[2],e.getFile(t)),n=s.content,i=function m(t){if(Array.isArray(t))return t.map(m).join("");if(!t)return"";switch("script"===t.type&&(t.type="tag"),t.type){case"tag":if("link"===t.name||"script"===t.name){var s=void 0;if("script"===t.name?s=r(t.attribs.src):"link"===t.name&&(s=r(t.attribs.href)),!s)return console.warn("Cannot parse src for file:",t),"";if("local"===s.type){var n=e.getFile(s.src);if(!n)return console.warn("Cannot find local file:",s.src),"";if("script"===t.name)return'<script type="text/javascript">\n(function() {'+n.content+"})();\n</script>";if("link"===t.name)return"<style>\n"+n.content+"\n</style>"}}return h[t.name]?"<"+t.raw+">":"<"+t.raw+">"+m(t.children)+"</"+t.name+">";case"directive":return"<"+t.raw+">";case"comment":return"<!--"+t.raw+"-->";default:return t.raw}},o=function(e){return u["default"].map(e,function(e,t){return t+'="'+e+'"'}).join(" ")},l=f.map(function(e){var t='script src="'+e+'"';return{raw:t,data:t,type:"script",name:"script",attribs:{src:e}}}),c=null,d=new a["default"].DefaultHandler(function(e,t){if(e)throw e;var s=a["default"].DomUtils.getElements({tag_type:"directive"},t);s.length&&s.filter(function(e){return!!e.name.match(/!DOCTYPE/i)}).length||t.unshift({raw:"!DOCTYPE html",data:"!DOCTYPE html",type:"directive",name:"!DOCTYPE"});var n,r;if(s=a["default"].DomUtils.getElements({tag_name:"html"},t),s.length)n=s[0],Array.isArray(n.children)||(n.children=[]);else{var d=[];r=t.filter(function(e){return"directive"===e.type||"comment"===e.type?(d.push(e),!1):!0}),n={raw:"html",data:"html",type:"tag",name:"html",attribs:{},children:r},d.push(n),t=d}s=a["default"].DomUtils.getElements({tag_name:"head"},t);var h;s.length?h=s[0]:(h={raw:"head",data:"head",type:"tag",name:"head",attribs:{},children:[]},n.children.unshift(h)),s=a["default"].DomUtils.getElements({tag_name:"body"},t);var f;if(s.length)f=s[0];else{var p=[];r=n.children.filter(function(e,t){return"directive"!==e.type&&"head"!==e.name&&"html"!==e.name?(p.push(t),!0):!1}),n.children=n.children.filter(function(e){return-1===r.indexOf(e)}),f={raw:"body",data:"body",type:"tag",name:"body",attribs:{},children:r},n.children.push(f)}h.children=h.children.concat(l);var m={},g={};a["default"].DomUtils.getElements({tag_name:"link",rel:"stylesheet",href:function(e){return void 0!==m[e]}},t).forEach(function(e){var t=m[e.attribs.href];u["default"].extend(e,{raw:"style",data:"style",type:"tag",name:"style",attribs:{},children:[{raw:t,data:t,type:"text"}]})}),a["default"].DomUtils.getElements({tag_name:"script",src:function(e){return void 0!==g[e]}},t).forEach(function(e){var t=g[e.attribs.src];delete e.attribs.src;var s="script "+o(e.attribs);u["default"].extend(e,{raw:s,data:s,children:[{raw:t,data:t,type:"text"}]})}),a["default"].DomUtils.getElements({tag_name:"script"},t).forEach(function(e){if(!e.attribs||!e.attribs.src){e.attribs||(e.attribs={}),e.attribs.defer="";var t="script "+o(e.attribs);u["default"].extend(e,{raw:t,data:t})}}),c=i(t)}),p=new a["default"].Parser(d);return p.parseComplete(n),c}Object.defineProperty(t,"__esModule",{value:!0});var o=s(536),a=n(o),l=s(3),u=n(l),c=s(72),d=n(c),h=a["default"].DefaultHandler._emptyTags,f=["https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js","https://external-production.codecademy.com/assets/jquery.expect.js"],p=window.location.protocol+"//"+window.location.host;CCDATA.assets_compiled?(f.push(p+"/assets/relay.js"),f.push(p+"/assets/web_libs.js?v5")):(f.push(p+"/assets/env/external/relay.js"),f.push(p+"/assets/env/luke.min.js"),f.push(p+"/assets/env/runner.js")),t["default"]=i},601:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r);t["default"]=i["default"].createActions(["startLockTimer"])},624:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(80),a=n(o),l=s(588),u=n(l),c=s(21),d=n(c),h=s(30),f=n(h),p=s(278),m=n(p),g=s(28),v=n(g);s(1015);var y=i["default"].createClass({displayName:"AnonymousUserWall",propTypes:{signUpForm:i["default"].PropTypes.string,signInForm:i["default"].PropTypes.string},render:function(){var e=this;return i["default"].createElement(a["default"],{padding:!1,overlayType:"transparent",width:"350px",height:"500px"},i["default"].createElement(u["default"],{className:"anonymous-user-wall",ref:"tabbedView",headings:["Sign Up","Sign In"],contents:[i["default"].createElement("div",{style:{textAlign:"left"},dangerouslySetInnerHTML:{__html:this.props.signUpForm}}),i["default"].createElement("div",{style:{textAlign:"left"},dangerouslySetInnerHTML:{__html:this.props.signInForm}})],startIndex:0,onChange:function(t,s){0===s&&e.renderRecaptcha();var n=new v["default"]({LoginRegistrationForms:m["default"]});n.mountReactComponents()}}))},componentDidMount:function(){var e=this,t=0,s=setInterval(function(){window.grecaptcha?(clearInterval(s),e.renderRecaptcha()):t>30?(clearInterval(s),d["default"].increment("recaptcha.render.failure"),f["default"].error({message:"Recaptcha render failed; grecaptcha not defined"},"javascript_errors")):t++},500),n=new v["default"]({LoginRegistrationForms:m["default"]});n.mountReactComponents()},renderRecaptcha:function(){window.grecaptcha&&setTimeout(function(){window.grecaptcha.render(document.querySelector(".js-sign-up-captcha"),{sitekey:"6LeYzQcTAAAAAAqXDQ36Gcb2JKhONzxPRfDOiLE7"}),d["default"].increment("recaptcha.render.success")},200)}});t["default"]=y},625:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=i["default"].createClass({displayName:"GetAnswerContent",propTypes:{keepTrying:i["default"].PropTypes.func.isRequired,showAnswer:i["default"].PropTypes.func.isRequired},render:function(){return i["default"].createElement("div",{className:"editor-tooltips"},i["default"].createElement("h3",null,"Having Trouble?"),i["default"].createElement("a",{className:"button button--secondary editor-tooltips__button",onClick:this.props.keepTrying},"Keep Trying"),i["default"].createElement("a",{className:"button button--secondary button--alternate editor-tooltips__button",onClick:this.props.showAnswer},"Get Code"))}});t["default"]=o},626:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(4),u=n(l),c=s(10),d=n(c),h=s(2),f=n(h),p=s(20),m=s(42),g=n(m),v=s(731),y=n(v),_=s(185),b=n(_),k=s(198),w=n(k),x=s(298),S=n(x),C=s(197),T=n(C),E=s(553),P=n(E),M=s(646),N=n(M),O=s(644),A=n(O),F=s(296),I=n(F),j=s(8),R=n(j),L=s(625),D=n(L),B=s(89),q=n(B),U=s(202),W=n(U),z=s(40),$=n(z),H=s(758),G=n(H),K=s(318),Q=n(K),V=s(14),J=n(V),Y=s(15),X=n(Y),Z=s(317),ee=n(Z);s(138);var te=s(79),se=n(te),ne=s(75),re=s(203),ie=n(re),oe=s(37),ae=n(oe),le=s(90),ue=n(le),ce=a["default"].createClass({displayName:"CodeEditor",propTypes:{presenter:a["default"].PropTypes.object.isRequired,geometry:a["default"].PropTypes.object.isRequired,modifiers:a["default"].PropTypes.object.isRequired,helpers:a["default"].PropTypes.object.isRequired,broadcast:a["default"].PropTypes.func.isRequired,user:a["default"].PropTypes.object},mixins:[y["default"],g["default"],d["default"].connect(W["default"],"files"),d["default"].connect(W["default"],"active"),d["default"].connect(Q["default"],"peers"),u["default"].listenTo(G["default"],"setOrphans"),u["default"].listenTo(ie["default"],"setLock"),u["default"].listenTo(ee["default"],"setPeerContent")],getInitialState:function(){return{pairingAvailable:!1,locked:!1,lockedByLocal:!1,hasTyped:!1,orphans:[],dimensions:{width:this.props.geometry.width(),height:this.props.geometry.height()}}},setPeerContent:function(e){if(!this.state.lockedByLocal&&this.state.files.length){var t=this.state.files[this.state.active];t.path===e.path&&$["default"].updateCurrentFile(e.content)}},toggleLock:function(){this.state.lockedByLocal?this.unlockInterface():this.lockInterface()},lockInterface:function(){J["default"].lock()},setLock:function(e){this.setState({locked:e.lock.locked,lockedByLocal:e.lock.owner===R["default"].get("username")})},componentWillMount:function(){var e=this;se["default"]&&((0,se["default"])("onShow",function(){e.setState({intercomOpen:!0})}),(0,se["default"])("onHide",function(){e.setState({intercomOpen:!1})}))},normalizeFileKeys:function(e){var t=[];return e.forEach(function(e){var s={};s.name=e.filename,s.type=e.type,t.push(s)}),t},setOrphans:function(e){e.length>this.state.orphans.length&&(this.setState({orphans:e}),"artursapek"!==R["default"].get("username")&&this.props.broadcast("openMissingFilesDialog",e[0]))},onSubmitEvent:function(e){e.preventDefault(),this.state.running||this.submitClick()},onKeyUp:function(){!this.state.lockedByLocal&&!this.state.locked&&this.state.peers.length>1&&this.props.modifiers.features.collaboration&&this.lockInterface()},onModelChanged:function(e){$["default"].updateCurrentFile(e),this.state.hasTyped||this.setState({hasTyped:!0});var t=this.state.files[this.state.active];if(this.state.lockedByLocal&&e!==t.content){var s=R["default"].get("username");X["default"].broadcast({event:"peer:edit_file",params:{name:t.name,path:t.path,owner:s,content:e}},function(){})}},submitClick:function(){var e=this;this.state.offerAnswer&&this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1,hasTyped:!1}),this.setState({running:!0}),this.props.broadcast("updateFiles"),$["default"].saveFiles().then(function(){e.props.broadcast("submit"),e.setState({running:!1})})["catch"](function(){e.props.broadcast("submit"),e.setState({running:!1})})},folderClick:function(e,t){t.preventDefault(),this.props.broadcast("showFileNav",this.props.presenter.files)},onEditorFocus:function(){this.state.offerAnswer&&(this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1}))},updateTree:function(){this.props.broadcast("getFileTree")},offerAnswer:function(){this.setState({offerAnswer:!0})},_renderHeader:function(){return a["default"].createElement("div",{className:"fcn-component-header"},this._renderTabs())},_renderEditor:function(){var e="",t="";return this.state.files.length>0&&this.activeFile()&&(e=this.activeFile().content,t=this.activeFile().name),a["default"].createElement("div",{className:(0,f["default"])({"editor-container":"true","editor-container--disabled":this.state.locked&&!this.state.lockedByLocal})},a["default"].createElement(P["default"],{onFocus:this.onEditorFocus,onChange:this.onModelChanged,content:e,filename:t}))},_renderFooter:function(){return a["default"].createElement("div",{className:"editor-footer-container"},a["default"].createElement("div",{className:"editor-footer"},a["default"].createElement("div",{className:"fcn-tabs-container"},this._renderFooterButtons())))},_renderFooterButtons:function(){var e=this,t=this.state.running||-1===!this.state.active||this.state.locked,s=function(){e.setState({offerAnswer:!1}),e.props.broadcast("keepTrying")},n=function(){e.setState({offerAnswer:!1}),e.props.broadcast("showAnswer")},r=this.props.modifiers.isProject?(0,p.t)("views.learning_environment.components.code_editor.save"):(0,p.t)("views.learning_environment.components.code_editor.run"),o=i["default"].get(window,"CCDATA.current_user.pro"),l=!this.props.modifiers.features.collaboration&&o,u=this.props.modifiers.features.collaboration&&o,c={opacity:[1,0],marginTop:[0,30]},d=null;this.state.offerAnswer&&(d=a["default"].createElement(b["default"],{position:"left",arrowPosition:"left"},a["default"].createElement(D["default"],{keepTrying:s,showAnswer:n})));var h=a["default"].createElement("div",{className:"editor-footer__buttons"},d,a["default"].createElement(ae["default"],{theme:"lantern",go:!t&&this.state.hasTyped,disabled:t,onClick:this.state.running?null:this.submitClick,style:{minWidth:80},ref:"runButton"},this.state.running?a["default"].createElement("div",{className:"fcn-spinner"}):r),l?a["default"].createElement(N["default"],{files:this.state.files}):null,a["default"].createElement("div",{className:"peer-controls"},u?a["default"].createElement(ne.VelocityComponent,{animation:c,leave:c,duration:500,runOnMount:!0},a["default"].createElement(A["default"],{intercomOpen:this.state.intercomOpen})):null),a["default"].createElement("div",{className:"lock-status-container"},this.state.locked?a["default"].createElement(ne.VelocityComponent,{animation:c,leave:c,duration:500,runOnMount:!0},a["default"].createElement("span",{className:"new-cc-icon icon-lock fcn-control"})):null));return h},_renderTabs:function(){var e=this,t=[];return this.state.files&&this.state.files.length>0&&this.state.files.forEach(function(s,n){if(!s.isDir){var r=e.state.active===n,i="100.0"/e.state.files.length,o=s.name.split("/"),l=o[o.length-1],u=s.path;t.push(a["default"].createElement(T["default"],{title:l,key:"codeEditorTab-"+u,isActive:r,tabId:n,locked:e.state.locked,size:i,canClose:!e.props.presenter.navigator_disabled,clickHandler:$["default"].setCurrentOpenFile,closeHandler:$["default"].closeFile}))}}),a["default"].createElement(S["default"],null,this._renderFileControls(),t,a["default"].createElement(T["default"],{className:"fcn-control",key:"codeEditorTab-fullscreen","data-cue":"discovery-fullscreen",clickHandler:this.props.helpers.toggleFullscreen,canClose:!1,overflow:!1,isControl:!0,align:"right"},a["default"].createElement(ue["default"],{name:"fullscreen"})))},_renderFileControls:function(){return this.props.presenter.navigator_disabled?null:[a["default"].createElement(T["default"],{className:"fcn-control",key:"fcn-control-folderControl",clickHandler:this.folderClick,overflow:!1,isControl:!0,tabId:"folderControl"},a["default"].createElement(ue["default"],{name:"folder"}))]},_renderPlaceholder:function(){return a["default"].createElement("div",{className:"fcn-code-editor__placeholder"},a["default"].createElement("div",{className:"fcn-code-editor__placeholder__icon"},a["default"].createElement(ue["default"],{name:"file-alt",size:3})),a["default"].createElement("div",null,"Code Editor"),a["default"].createElement("div",null,"Open files here to edit them"))},activeFile:function(){return null!==this.state.active?this.state.files[this.state.active]:void 0},reloadFile:function(e){if(this.state.files){var t=this.state.files.map(function(e){return e.path});if(t.indexOf(e)>-1){var s=q["default"].contentEncoding(q["default"].extname(e));$["default"].reloadFile(e,s)}}},render:function(){var e=(0,f["default"])({editor:!0,"editor--empty":-1===!this.state.active});return a["default"].createElement("div",{onKeyUp:this.onKeyUp,className:e},this._renderHeader(),a["default"].createElement(I["default"],{useForComponent:!0,callBack:this.submitClick}),this.state.files.length>0?this._renderEditor():this._renderPlaceholder(),this._renderFooter(),a["default"].createElement(w["default"],this.props.presenter.errors))}});t["default"]=ce},631:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(8),i=(n(r),s(1)),o=n(i),a=s(2),l=n(a),u=s(4),c=n(u),d=s(132),h=n(d),f=s(757),p=n(f),m=o["default"].createClass({displayName:"DiscoveryCue",mixins:[c["default"].listenTo(p["default"],"onInterfaceChange")],propTypes:{cue:o["default"].PropTypes.shape({target:o["default"].PropTypes.string.isRequired,orientation_special:o["default"].PropTypes.string,content:o["default"].PropTypes.string.isRequired})},getInitialState:function(){var e=30;return{hidden:!1,targetLeft:void 0,targetTop:void 0,targetWidth:void 0,MIDDLE_OFFSET:e}},onInterfaceChange:function(){this.reposition()},reposition:function(){var e=document.querySelector('[data-cue="'+this.props.cue.target+'"]'),t=document.getElementById("workspace");if(e&&t&&e.clientWidth>0){var s=e.getBoundingClientRect(),n=document.getElementById("workspace").clientWidth,r=document.getElementById("workspace").clientHeight;this.setState({hidden:!1,targetWidth:s.width,targetLeft:s.left-10,targetTop:s.top-10,workspaceWidth:n,workspaceHeight:r})}else this.setState({hidden:!0})},componentDidUpdate:function(e){void 0!==this.state.targetLeft||this.state.hidden||this.reposition()},onMouseOver:function(e,t){var s=document.getElementById("workspace").getBoundingClientRect(),n=(e.clientX-s.left,e.clientY-s.top,s.width),r=s.height,i=this.state.targetTop/r>.5?"above":"below",o=this.state.targetLeft/n>.5?"left":"right";this.setState({orientation:o+"-"+i})},_cueClick:function(){h["default"].cueSeen(this.props.cue.target)},render:function(){var e=(0,l["default"])({"discovery-cue__arrow":!0,"discovery-cue__arrow--bottom-left":"right-above"===this.state.orientation,"discovery-cue__arrow--top-left":"right-below"===this.state.orientation,"discovery-cue__arrow--bottom-right":"left-above"===this.state.orientation,"discovery-cue__arrow--top-right":"left-below"===this.state.orientation}),t=(0,l["default"])({"discovery-cue":!0,"discovery-cue--hidden":this.state.hidden||void 0===this.state.targetLeft||void 0===this.state.targetTop||void 0===this.state.targetWidth}),s=(0,l["default"])({"discovery-cue--content-container":!0,"discovery-cue--top-right":"right-above"===this.state.orientation,"discovery-cue--bottom-left":"left-below"===this.state.orientation,"discovery-cue--bottom-right":"right-below"===this.state.orientation,"discovery-cue--top-left":"left-above"===this.state.orientation}),n=this.state.targetLeft/this.state.workspaceWidth*100,r=this.state.targetTop/this.state.workspaceHeight*100;this.state.targetWidth/this.state.workspaceWidth*100;"middle-edge"===this.props.cue.orientation_special&&(r+=this.state.MIDDLE_OFFSET);var i={left:n+"%",top:r+"%"};return o["default"].createElement("div",{className:t,style:i,onClick:this._cueClick,onMouseOver:this.onMouseOver},o["default"].createElement("div",{className:s},o["default"].createElement("div",{className:e}),o["default"].createElement("p",{
className:"discovery-cue--content"},this.props.cue.content)),o["default"].createElement("div",{className:"pulse"}))}});t["default"]=m},632:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(42),a=n(o),l=s(2),u=(n(l),s(105)),c=n(u),d=s(20),h=i["default"].createClass({displayName:"Navigation",propTypes:{navigate:i["default"].PropTypes.func.isRequired,currentLessonIndex:i["default"].PropTypes.number.isRequired,currentExerciseIndex:i["default"].PropTypes.number.isRequired,farthestCompleteExerciseIndex:i["default"].PropTypes.number,course:i["default"].PropTypes.object.isRequired,mayProceed:i["default"].PropTypes.bool.isRequired},mixins:[a["default"]],getInitialState:function(){var e=this.getMilestones();return{lessonBeginnings:e.lessonBeginnings,exerciseCount:e.exerciseCount}},onNextEvent:function(){this.next()},onPreviousEvent:function(){this.previous()},next:function(){this.props.mayProceed&&this.props.navigate(this.props.currentLessonIndex,this.props.currentExerciseIndex+1)},previous:function(){0!==this.percentageOfCurrent()&&this.props.navigate(this.props.currentLessonIndex,this.props.currentExerciseIndex-1)},isLastLesson:function(){return this.props.currentLessonIndex===this.props.course.lessons_order.length-1},isLastExerciseInLesson:function(){return this.props.currentExerciseIndex+1===this.currentLessonExerciseCount()},isLastExerciseInCourse:function(){return this.isLastLesson()&&this.isLastExerciseInLesson()},nextButtonText:function(){return this.isLastExerciseInLesson()?(0,d.t)("views.learning_environment.components.exercise_navigation.up_next"):(0,d.t)("views.learning_environment.components.exercise_navigation.next")},getMilestones:function(){var e=[],t={lessonBeginnings:[],exerciseCount:0};return this.props.course.lessons_order.forEach(function(s){var n=this.props.course.lessons[s];t.lessonBeginnings.push(e.length),n.exercises_order.forEach(function(t){var s=n.exercises[t];e.push(s)})}.bind(this)),t.exerciseCount=e.length,t},percentageOfCurrent:function(){return(this.state.lessonBeginnings[this.props.currentLessonIndex]+this.props.currentExerciseIndex)/this.state.exerciseCount},currentLessonExerciseCount:function(){var e=this.state.lessonBeginnings,t=this.props.currentLessonIndex+1;return e.length===t?this.state.exerciseCount-e[this.props.currentLessonIndex]:e[t]-e[this.props.currentLessonIndex]},render:function(){var e=this.percentageOfCurrent(),t=this.props.mayProceed?"lantern--go":"everyday";return i["default"].createElement("div",{className:"fcn-nav-wrapper"},i["default"].createElement("div",{className:"fcn-nav-wrapper__center fcn-progress-container"},i["default"].createElement(c["default"],{type:"everyday",inactive:0===e,onClick:this.previous},(0,d.t)("views.learning_environment.components.exercise_navigation.back")),i["default"].createElement("div",{className:"fnc-nav__exercise-count"},this.props.currentExerciseIndex+1+"/"+this.currentLessonExerciseCount()),i["default"].createElement(c["default"],{id:"discovery-next",type:t,inactive:!this.props.mayProceed,onClick:this.next},this.nextButtonText())))}});t["default"]=h},639:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(2),a=n(o),l=s(7),u=n(l),c=s(187),d=n(c),h=s(184),f=n(h),p=s(34),m=n(p);s(22),t["default"]=i["default"].createClass({displayName:"god_mode",propTypes:{setProgressToCurrentExercise:i["default"].PropTypes.func,uploadInitialSavepoint:i["default"].PropTypes.func.isRequired,prerender:i["default"].PropTypes.object,currentWorkspace:i["default"].PropTypes.object,contentStudioURL:i["default"].PropTypes.string,isAdmin:i["default"].PropTypes.bool,nolock:i["default"].PropTypes.bool.isRequired,uploadSavepoints:i["default"].PropTypes.bool.isRequired},getInitialState:function(){return{open:!1,popoverActive:!1}},setPopoverStatus:function(e){this.setState({popoverActive:e})},releaseTerminalFormRender:function(){var e=CCDATA.current_user.authentication_token,t=CCDATA.current_user._id;return i["default"].createElement("form",{method:"post",action:"/admin/management_service/release_terminal",name:"release_terminal"},i["default"].createElement("input",{type:"hidden",name:"authenticity_token",value:e}),i["default"].createElement("input",{type:"hidden",name:"id",value:t}),i["default"].createElement("input",{type:"hidden",name:"content[reset_progress]",value:"1"}),i["default"].createElement("input",{type:"hidden",name:"content[skill_slug]",value:this.props.currentWorkspace.slug}))},deleteWorkspaceFormRender:function(){var e=CCDATA.current_user.authentication_token,t=CCDATA.current_user._id;return i["default"].createElement("form",{method:"post",action:"/admin/management_service/delete_workspace",name:"delete_workspace"},i["default"].createElement("input",{type:"hidden",name:"authenticity_token",value:e}),i["default"].createElement("input",{type:"hidden",name:"id",value:t}),i["default"].createElement("input",{type:"hidden",name:"workspace_slug",value:this.props.currentWorkspace.slug}))},releaseTerminal:function(){var e=(0,u["default"])('form[name="release_terminal"]');e.submit()},deleteWorkspace:function(){var e=(0,u["default"])('form[name="delete_workspace"]');e.submit()},render:function(){var e=this,t=void 0;try{t=m["default"].state.client.instance.hostname}catch(s){}var n=i["default"].createElement("div",{className:(0,a["default"])({"fcn-godmode__button":!0,"fcn-godmode__button--active":this.state.popoverActive,"fcn-godmode__button--allow-navigation":this.props.nolock})},i["default"].createElement("span",{className:"new-cc-icon icon-gear icon--"}));return i["default"].createElement(f["default"],{className:"fcn-godmode",clickTarget:n,showNipple:!1,popoverOffset:0,onToggle:this.setPopoverStatus},i["default"].createElement("div",{className:(0,a["default"])({"fcn-godmode__menu":!0})},i["default"].createElement("div",{className:"godmode-title"},i["default"].createElement("h5",null,"Content Tools & Progress")),i["default"].createElement("div",null,i["default"].createElement("button",{onClick:function(){window.location.href=e.props.contentStudioURL},className:"button",title:"Use Content Studio to edit this exercise or project."},"Edit in Content Studio")),void 0===this.props.setProgressToCurrentExercise?null:i["default"].createElement("div",null,i["default"].createElement("button",{onClick:this.props.setProgressToCurrentExercise,className:"button",title:"Changes your progress to this exercise, but does not change your Workspace. To do that, use 'Reset Exercise'."},"Set Progress to This Exercise")),i["default"].createElement("div",{title:"Unlock navigation to move freely through the course, even if you haven't completed the exercises."},i["default"].createElement("label",{htmlFor:"nolockCheckbox"},"Allow All Navigation"),i["default"].createElement("div",{className:"godmode__checkbox"},i["default"].createElement("input",{type:"checkbox",onChange:function(e){d["default"].adminChange("nolock",e.target.checked)},defaultChecked:this.props.nolock,id:"nolockCheckbox"}),i["default"].createElement("label",{htmlFor:"nolockCheckbox"}))),i["default"].createElement("div",{className:"godmode-title"},i["default"].createElement("h5",null,"Workspace Tools")),i["default"].createElement("div",null,i["default"].createElement("button",{onClick:this.releaseTerminal,className:"button",title:"Click to get a fresh Terminal box. Useful when you want to test Workspace content changes."},"Get New Godex Instance ",this.releaseTerminalFormRender())),i["default"].createElement("div",null,i["default"].createElement("button",{onClick:this.deleteWorkspace,className:"button",title:"Click to delete all files and get new ones. Useful when you want to test Workspace content changes."},"Delete Workspace ",this.deleteWorkspaceFormRender())),i["default"].createElement("div",{className:"godmode-title",title:"Lakitu is used to create 'safe' states of the application that users can call for if they mess their Workspace up. These states are called Savepoints."},i["default"].createElement("h5",null,"Lakitu")),this.props.isAdmin?i["default"].createElement("div",null,i["default"].createElement("button",{onClick:this.props.uploadInitialSavepoint,className:"button",title:"Useful for creating Savepoints in Projects or in the first exercise of a topic/lesson."},"Upload Initial Savepoint")):void 0,this.props.isAdmin?i["default"].createElement("div",{title:"Automatically creates Savepoints when you land on an exercise or when you pass all Checkpoints."},i["default"].createElement("label",{htmlFor:"savepointCheckbox"},"Upload Savepoints"),i["default"].createElement("div",{className:"godmode__checkbox"},i["default"].createElement("input",{type:"checkbox",onChange:function(e){d["default"].adminChange("uploadSavepoints",e.target.checked)},defaultChecked:this.props.uploadSavepoints,id:"savepointCheckbox"}),i["default"].createElement("label",{htmlFor:"savepointCheckbox"}))):void 0,i["default"].createElement("div",{className:"godmode-title",title:"Useful information for QA/Engineering purposes."},i["default"].createElement("h5",null,"Metadata")),i["default"].createElement("div",{className:"godmode__metadata"},void 0===this.props.currentWorkspace?void 0:i["default"].createElement("div",null,i["default"].createElement("p",null,"Workspace:"),i["default"].createElement("p",null,this.props.currentWorkspace.slug)),void 0===t?void 0:i["default"].createElement("div",null,i["default"].createElement("p",null,"Instance:"),i["default"].createElement("p",null,i["default"].createElement("a",{href:"http://"+t+".terminal.com",target:"_blank"},t))),this.props.prerender?i["default"].createElement("div",{id:"godmode__render-info"},i["default"].createElement("p",null,"Render Time:"),i["default"].createElement("p",null,Math.ceil(this.props.prerender.duration),"ms (",this.props.prerender.hostname,")")):null)))}})},640:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=n(i),a=s(1020),l=n(a),u=s(2),c=n(u),d=s(106),h=n(d),f=s(39),p=n(f),m=o["default"].createClass({displayName:"Hint",propTypes:{hint:o["default"].PropTypes.string.isRequired},getInitialState:function(){return{showHint:!1,hint:(0,h["default"])(this.props.hint)}},toggleHint:function(){this.setState({showHint:!this.state.showHint})},render:function(){var e,t=(0,c["default"])((e={},r(e,l["default"].hintBody,!0),r(e,l["default"].hintBodyShown,this.state.showHint),e)),s=(0,c["default"])(r({"fcn-icon":!0,"fcn-icon-arrowDropdown":!this.state.showHint,"fcn-icon-arrowDropdownUp":this.state.showHint},l["default"].toggleArrow,!0)),n=(0,c["default"])(r({"fcn-icon":!0,"fcn-icon-supportFilled":!0},l["default"].hintHeaderIcon,!0));return o["default"].createElement("div",{className:l["default"].hint},o["default"].createElement(p["default"],{dontTrack:this.state.showHint,category:"user",linkContentTarget:"hint"},o["default"].createElement("div",{className:l["default"].hintHeader,onClick:this.toggleHint},o["default"].createElement("span",{className:l["default"].hintHeaderText},o["default"].createElement("span",{className:n}),this.state.showHint?"Hint":"Stuck? Get a hint"),o["default"].createElement("span",{className:s}))),o["default"].createElement("div",{className:t,dangerouslySetInnerHTML:{__html:this.state.hint}}))}});t["default"]=m},641:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=n(i),a=s(1021),l=n(a),u=s(642),c=n(u),d=s(2),h=n(d),f=o["default"].createClass({displayName:"Peer",propTypes:{status:o["default"].PropTypes.string,icon:o["default"].PropTypes.string,useForSelf:o["default"].PropTypes.bool,useForComponent:o["default"].PropTypes.bool},_renderSleeve:function(){var e=this.props.useForComponent||this.props.useForSelf;return e?o["default"].createElement("div",{className:l["default"].sleeve},o["default"].createElement(c["default"],{useForSelf:this.props.useForSelf})):null},render:function(){var e,t=(0,h["default"])((e={},r(e,l["default"].peer,!0),r(e,l["default"].useForComponent,this.props.useForComponent),e));return o["default"].createElement("div",{className:t},o["default"].createElement("div",{className:l["default"].userIcon},o["default"].createElement("img",{src:this.props.icon})),this._renderSleeve())}});t["default"]=f},642:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=n(i),a=s(1022),l=n(a),u=s(89),c=n(u),d=s(317),h=n(d),f=s(39),p=n(f),m=s(40),g=n(m),v=s(14),y=n(v),_=s(10),b=n(_),k=s(2),w=n(k),x=o["default"].createClass({displayName:"PeerStatus",mixins:[b["default"].connect(h["default"],"status"),b["default"].connect(h["default"],"userName"),b["default"].connect(h["default"],"file")],propTypes:{callBack:o["default"].PropTypes.func,useForSelf:o["default"].PropTypes.bool},writeStatus:function(){var e="";return this.state.file&&this.state.file.owner&&(e+=this.state.file.owner),e+=" "+this.state.status},onDoneEditing:function(){g["default"].saveFiles().then(y["default"].unlock())},openFile:function(){var e=c["default"].extname(this.state.file.name);y["default"].getFile(this.state.file.path,e),g["default"].openFile(this.state.file)},render:function(){var e=this.writeStatus(),t=(0,w["default"])(r({"fcn-button":!0},l["default"].doneBtn,!0)),s=void 0,n=void 0;return this.state.file&&(s=this.state.file.path?this.state.file.path:null,n=this.state.file.name?this.state.file.name:null),o["default"].createElement("span",{className:l["default"].peerStatus},o["default"].createElement("span",{className:l["default"].statusMessage},e,s?o["default"].createElement(p["default"],{linkContentTarget:"interaction-notif-open",onClick:this.openFile,className:l["default"].statusMessageLink},n):null),s?o["default"].createElement("div",{className:t,onClick:this.openFile},"Open file"):null,this.props.useForSelf?o["default"].createElement("div",{className:t,onClick:this.onDoneEditing},"Done"):null)}});t["default"]=x},643:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(105),u=n(l),c=s(294),d=s(305),h=n(d),f=s(185),p=n(f),m=s(195),g=n(m),v=a["default"].createClass({displayName:"ProjectsFooter",propTypes:{course:a["default"].PropTypes.object,initialUnit:a["default"].PropTypes.string,initialLesson:a["default"].PropTypes.string,initialExercise:a["default"].PropTypes.string,disabled:a["default"].PropTypes.bool,exitPaths:a["default"].PropTypes.object.isRequired,skillTitle:a["default"].PropTypes.string,courseSlug:a["default"].PropTypes.string.isRequired,projectSlug:a["default"].PropTypes.string.isRequired,projectTitle:a["default"].PropTypes.string.isRequired,onProjectComplete:a["default"].PropTypes.func,tasks:a["default"].PropTypes.array,tasksComplete:a["default"].PropTypes.bool.isRequired,skillMeta:a["default"].PropTypes.object,courseMeta:a["default"].PropTypes.object.isRequired},getInitialState:function(){return{disabled:!1,buttonText:"Up Next",showTooltip:!1}},getAssessmentCount:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return e?i["default"].where(this.props.tasks,{done:!0}).length:this.props.tasks.length},showTooltip:function(){this.setState({showTooltip:!0})},hideTooltip:function(){this.setState({showTooltip:!1})},projectComplete:function(){this.props.tasksComplete&&i["default"].isFunction(this.props.onProjectComplete)&&this.props.onProjectComplete()},render:function(){var e="everyday",t=null;return this.props.tasksComplete?e="lantern--go":this.state.showTooltip&&(t=a["default"].createElement(p["default"],{style:{width:500}},a["default"].createElement("p",null,a["default"].createElement("strong",null,"Project in progress.")," Mark tasks as complete by checking them off in the left panel to finish."))),a["default"].createElement(c.Footer,{disabled:this.props.disabled,course:this.props.course,title:this.props.title,titleRoute:i["default"].get(this.props,"exitPaths.back"),initialUnit:this.props.initialUnit,initialLesson:this.props.initialLesson,initialExercise:this.props.initialExercise},a["default"].createElement(c.FooterSection,{position:"center"},a["default"].createElement("div",{className:"fcn-project-footer",onMouseOver:this.showTooltip,onMouseOut:this.hideTooltip},a["default"].createElement(h["default"],{total:this.getAssessmentCount(),complete:this.getAssessmentCount(!0)}),t,a["default"].createElement(u["default"],{key:"pf-btn-"+e,type:e,inactive:!this.props.tasksComplete,onClick:this.projectComplete},this.state.buttonText))),a["default"].createElement(c.FooterSection,{position:"right"},a["default"].createElement(g["default"],{noun:"project",allowReset:!0,courseSlug:this.props.courseSlug,contentSlug:this.props.projectSlug,contentTitle:this.props.projectTitle,courseMeta:this.props.courseMeta})))}});t["default"]=v},644:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(8),a=n(o),l=s(79),u=s(1025),c=n(u),d=s(197),h=n(d),f=s(2),p=n(f),m=i["default"].createClass({displayName:"ShareCodeControl",propTypes:{intercomOpen:i["default"].PropTypes.bool},getInitialState:function(){return{clicked:!1}},inviteAdvisor:function(){var e=window.location.origin+window.location.pathname+"?user_id="+a["default"].id(),t="?user_id="+a["default"].id();(0,l.conversationHasStarted)()||this.props.intercomOpen?(0,l.sendMessageToExistingConversation)("Hi there, I'd like you to review my code "+e):(0,l.sendMessage)("Hi there, I'd like an advisor to review my code "+e),window.history.pushState({userId:a["default"].id()},window.location.pathname,t),(0,l.trackEvent)("project-collaboration-invite",{share_url:e}),this.setState({clicked:!0})},render:function(){var e=(0,p["default"])({"fcn-control":!0,"fcn-icon":!0,"fcn-icon-share":!0,clicked:this.state.clicked}),t=(0,l.conversationHasStarted)()?"Invite your advisor to view your code":"Invite an advisor to view your code";return i["default"].createElement("div",{className:c["default"].shareCodeControl},i["default"].createElement("span",{className:c["default"].cta},t),i["default"].createElement("div",{className:c["default"].ctaArrow}),i["default"].createElement(h["default"],{className:e,clickHandler:this.inviteAdvisor,overflow:!1,isControl:!0}))}});t["default"]=m},645:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(78),u=n(l),c=s(64),d=n(c),h=s(373),f=n(h),p=s(647),m=n(p),g=window.ClientRect,v=a["default"].createClass({displayName:"SharePopover",propTypes:{rect:a["default"].PropTypes.instanceOf(g),close:a["default"].PropTypes.func.isRequired,files:a["default"].PropTypes.array.isRequired,isOpen:a["default"].PropTypes.bool.isRequired},getInitialState:function(){return{gistURL:null,loading:!1}},componentWillReceiveProps:function(e){e.isOpen&&!this.props.isOpen&&this.shareAll()},getPosition:function(){var e=this.props.rect;return e?{top:Math.round(e.top-5),left:Math.round(e.right-e.width/2)}:{}},handleClose:function(){this.props.close()},shareFiles:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.setState({loading:!0}),(0,m["default"])({description:"Codecademy export","public":!1,files:t}).then(function(t){e.setState({gistURL:t.url,loading:!1})})["catch"](function(e){})},shareAll:function(){var e={};i["default"].each(this.props.files,function(t){e[t.name]={content:t.content}}),this.shareFiles(e)},getGistURL:function(){return this.state.gistURL?a["default"].createElement("div",{className:f["default"].gistResult},a["default"].createElement("a",{className:f["default"].gistOpen,href:this.state.gistURL,target:"false"},"Open"),a["default"].createElement(d["default"],{className:f["default"].gistInput,useDefaultStyles:!1,selectOnClick:!0,value:this.state.gistURL})):void 0},render:function(){var e=null;return this.state.loading?e=a["default"].createElement("div",{className:f["default"].gistLoader},a["default"].createElement("div",{className:"fcn-spinner"})):this.state.gistURL&&(e=this.getGistURL()),a["default"].createElement(u["default"],{isOpen:this.props.isOpen,onOutsideClick:this.handleClose},a["default"].createElement("div",{className:f["default"].popover,style:this.getPosition()},e))}});t["default"]=v},646:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(17),a=n(o),l=s(645),u=n(l),c=s(373),d=n(c),h=i["default"].createClass({displayName:"ShareButton",propTypes:{files:i["default"].PropTypes.array},getInitialState:function(){return{open:!1,popoverPosition:null}},showShareOptions:function(){this.setState({open:!0,popoverPosition:this.getPopoverTargetPosition()})},hideShareOptions:function(){this.setState({open:!1})},getPopoverTargetPosition:function(){var e=a["default"].findDOMNode(this.refs.popoverTarget);return e?e.getBoundingClientRect():null},getSharePopover:function(){return i["default"].createElement(u["default"],{isOpen:this.state.open,close:this.hideShareOptions,rect:this.state.popoverPosition,files:this.props.files})},render:function(){return i["default"].createElement("button",{className:d["default"].button,ref:"popoverTarget",onClick:this.showShareOptions},i["default"].createElement("i",{className:"new-cc-icon icon-link"}),this.getSharePopover())}});t["default"]=h},647:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return new Promise(function(t,s){return o["default"].isEqual(u,e)&&c?void t(c):(u=e,void l["default"].ajax({url:"/gist",cache:!1,method:"POST",dataType:"json",data:e}).done(function(e){c=e,t(e)}).fail(function(e){c=null,s(e)}))})}Object.defineProperty(t,"__esModule",{value:!0});var i=s(3),o=n(i),a=s(7),l=n(a),u=null,c=null;t["default"]=r},648:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(650),a=n(o),l=s(298),u=n(l),c=s(197),d=n(c),h=s(3),f=n(h),p=s(2),m=n(p),g=s(10),v=n(g),y=s(15),_=n(y),b=i["default"].createClass({displayName:"TerminalContainer",mixins:[v["default"].connect(_["default"],"workspaceReady")],propTypes:{presenter:i["default"].PropTypes.object.isRequired,modifiers:i["default"].PropTypes.object.isRequired,helpers:i["default"].PropTypes.object.isRequired,broadcast:i["default"].PropTypes.func.isRequired,tabsEnabled:i["default"].PropTypes.bool,maxTabs:i["default"].PropTypes.number},getDefaultProps:function(){return{tabsEnabled:!0,maxTabs:3}},getInitialState:function(){return{terminals:[],activeTerminal:null}},componentDidMount:function(){this.createInitialTerminal()},createInitialTerminal:function(){0===this.state.terminals.length&&this.createNewTerminal()},focusOnActiveTerminal:function(){var e=this;this.getActiveTerminal()&&f["default"].defer(function(){e.getActiveTerminal().focus()})},componentDidUpdate:function(e,t){!t.workspaceReady&&this.state.workspaceReady?this.createInitialTerminal():t.workspaceReady&&!this.state.workspaceReady&&this.setState({terminals:[]}),t.activeTerminal!==this.state.activeTerminal&&this.focusOnActiveTerminal()},tabsEnabled:function(){return this.props.tabsEnabled&&this.props.modifiers.isProject},createTerminalId:function(){return f["default"].uniqueId("terminal")},getActiveTerminal:function(){return this.refs[this.state.activeTerminal]},getAllTerminals:function(){return this.state.terminals.map(function(e){return this.refs[e.id]}.bind(this))},onResize:function(){var e=this.getAllTerminals();if(e&&e.length){var t=this.getActiveTerminal();if(t&&!t.state.fake&&t.refs.RealTerminal){var s=t.refs.RealTerminal.getRowsCols(),n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.resize(s)}}catch(u){r=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}}}},resetTerminals:function(){this.replaceState(Object.assign({},this.getInitialState(),{workspaceReady:this.state.workspaceReady})),this.createInitialTerminal()},setActiveTerminal:function(e){this.setState({activeTerminal:e})},onTerminalReady:function(e){var t=f["default"].clone(this.state.terminals);t.forEach(function(t){t.id===e.props.terminalId&&(t.title=e.state.title)}),this.setState({terminals:t})},onTerminalClose:function(e){e&&(this.tabsEnabled()?this.closeTerminal(e):this.resetTerminals())},onTerminalFrProcChange:function(e,t){var s=!0,n=!1,r=void 0;try{for(var i,o=this.state.terminals[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var a=i.value;a.id===e&&(a.title=t)}}catch(l){n=!0,r=l}finally{try{!s&&o["return"]&&o["return"]()}finally{if(n)throw r}}this.setState({terminals:this.state.terminals})},renderTerminal:function(e){return i["default"].createElement(a["default"],{key:e.id,ref:e.id,terminalId:e.id,onFgProcChange:this.onTerminalFrProcChange,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast,onReady:this.onTerminalReady,onClose:this.onTerminalClose,isActive:e.id===this.state.activeTerminal})},closeTerminal:function(e){var t={};t.terminals=f["default"].reject(this.state.terminals,function(t){return t.id===e}),t.terminals.length&&this.state.activeTerminal===e?t.activeTerminal=t.terminals[t.terminals.length-1].id:t.terminals.length||(t.activeTerminal=null),this.setState(t)},renderTerminalTab:function(e){return i["default"].createElement(d["default"],{key:"terminalTab"+e.id,tabId:e.id,title:e.title,clickHandler:this.setActiveTerminal,canClose:this.state.terminals.length>1,closeHandler:this.closeTerminal,isActive:this.state.activeTerminal===e.id})},createNewTerminal:function(){var e=f["default"].clone(this.state.terminals),t=this.createTerminalId();e.push({id:t,title:"bash"}),this.setState({terminals:e,activeTerminal:t})},atMaxTabs:function(){return this.state.terminals.length>=this.props.maxTabs},render:function(){var e=[],t=[];if(this.state.terminals&&this.state.terminals.length){var s=!0,n=!1,r=void 0;try{for(var o,a=this.state.terminals[Symbol.iterator]();!(s=(o=a.next()).done);s=!0){var l=o.value;e.push(this.renderTerminalTab(l)),t.push(this.renderTerminal(l))}}catch(c){n=!0,r=c}finally{try{!s&&a["return"]&&a["return"]()}finally{if(n)throw r}}}else t=i["default"].createElement("div",{className:"fcn-terminal-container__placeholder"},i["default"].createElement("div",{className:"fcn-terminal-container__placeholder__body"},i["default"].createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),i["default"].createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),i["default"].createElement("span",{className:"fcn-terminal-container__placeholder__text"},this.tabsEnabled()?i["default"].createElement("span",null,"Open a new tab by clicking the plus icon"):null)));var h=void 0;this.tabsEnabled()&&(h=i["default"].createElement("div",{className:"fcn-component-header fcn-component-header--tabs"},i["default"].createElement(u["default"],null,i["default"].createElement(d["default"],{className:"fcn-icon fcn-icon-plus fcn-control",key:"terminalTabNew",clickHandler:this.createNewTerminal,isDisabled:this.atMaxTabs(),overflow:!1}),i["default"].createElement("div",{className:"fcn-tabs-container__inner"},e),i["default"].createElement(d["default"],{className:"fcn-control fcn-icon fcn-icon-fullscreen",key:"terminalTabFullscreen",clickHandler:this.props.helpers.toggleFullscreen,overflow:!1,align:"right"}))));var f=(0,m["default"])({"fcn-terminal-container":!0,"fcn-terminal-container--with-header":this.tabsEnabled()});return i["default"].createElement("div",{className:f},h,t)}});t["default"]=b},649:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(1),a=n(o),l=s(760),u=n(l);t["default"]=a["default"].createClass({displayName:"OutputTerminal",mixins:[i["default"].ListenerMixin],getInitialState:function(){return{output:[]}},componentDidMount:function(){this.listenTo(u["default"],this.onChange)},onChange:function(e){this.setState({output:e})},render:function(){return a["default"].createElement("div",{className:"fill-container"},a["default"].createElement("div",{className:"fcn-terminal-container"},a["default"].createElement("div",{className:"fcn-terminal fcn-terminal--active"},a["default"].createElement("div",{className:"jqconsole"},this.state.output.map(function(e,t){return a["default"].createElement("div",{key:"output-line-"+t,className:"jqconsole-"+e.type},e.text)})))))}})},650:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(2),u=n(l),c=s(652),d=n(c),h=s(651),f=n(h),p=s(732),m=n(p),g=s(198),v=n(g),y=s(15),_=n(y),b=s(10),k=n(b),w=a["default"].createClass({displayName:"Terminal",mixins:[m["default"],k["default"].connect(_["default"],"workspaceReady")],propTypes:{presenter:a["default"].PropTypes.object.isRequired,modifiers:a["default"].PropTypes.object.isRequired,broadcast:a["default"].PropTypes.func.isRequired,isActive:a["default"].PropTypes.bool,onReady:a["default"].PropTypes.func,onClose:a["default"].PropTypes.func,terminalId:a["default"].PropTypes.oneOfType([a["default"].PropTypes.string,a["default"].PropTypes.number])},getDefaultProps:function(){return{isActive:!1,hasSpawned:!1}},componentDidMount:function(){this.state.workspaceReady&&this.openFirstShell()},componentDidUpdate:function(e,t){!t.workspaceReady&&this.state.workspaceReady&&this.openFirstShell()},getInitialState:function(){return{fake:void 0!==this.props.presenter.whitelist,title:"bash",history:[]}},ptyCallback:function(e){e.ptyStream&&this.setState(e)},realTerminalText:function(){return this.refs.RealTerminal?this.refs.RealTerminal.text():void 0},resize:function(e){this.refs.RealTerminal&&this.refs.RealTerminal.resize(e)},onClose:function(){i["default"].isFunction(this.props.onClose)&&this.props.onClose(this.props.terminalId)},onFgProcChange:function(e){this.props.onFgProcChange(this.props.terminalId,e)},getTerminalChild:function(){return this.refs.RealTerminal||this.refs.FakeTerminal},getInitialShell:function(){return this.props.presenter.shell||"bash"},focus:function(){var e=this.getTerminalChild();e&&e.focus()},openFirstShell:function(){this.state.hasSpawned||this.openShellIfNeeded()},openShellIfNeeded:function(e){var t=e,s=this.props.presenter.whitelist,n=i["default"].isArray(s)?s.length:s;n||(t=this.getInitialShell()),t&&this.props.broadcast("pty",t,this.ptyCallback),this.setState({title:t,hasSpawned:!0}),i["default"].isFunction(this.props.onReady)&&this.props.onReady(this)},render:function(){var e=void 0,t=(0,u["default"])({"fcn-terminal":!0,"fcn-terminal--active":this.props.isActive});return e=_["default"].state.workspaceReady?this.state.fake?a["default"].createElement(f["default"],{ref:"FakeTerminal",requestShell:this.openShellIfNeeded,history:this.state.history,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast}):a["default"].createElement(d["default"],{ref:"RealTerminal",id:this.props.terminalId,initialShell:this.getInitialShell(),isActive:this.props.isActive,ptyStream:this.state.ptyStream,onStreamEnd:this.onClose,onFgProcChange:this.onFgProcChange,modifiers:this.props.modifiers,broadcast:this.props.broadcast
}):null,a["default"].createElement("div",{className:t},e,a["default"].createElement(v["default"],this.props.presenter.errors))}});t["default"]=w},651:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),s(808);var r=s(3),i=n(r),o=s(7),a=n(o),l=s(1),u=n(l),c=s(17),d=n(c),h={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},f="$ ",p="",m=".. ",g={},v={"{}":"brace","[]":"bracket","()":"paren"},y=function(e,t){t(!1)},_={shortcuts:g,matchings:v,continueLabel:m,promptLabel:f,header:p,multilineCallback:y,evaluator:a["default"].noop},b=u["default"].createClass({displayName:"FakeTerminal",propTypes:{presenter:u["default"].PropTypes.object.isRequired,modifiers:u["default"].PropTypes.object.isRequired,broadcast:u["default"].PropTypes.func.isRequired,ptyStream:u["default"].PropTypes.object,history:u["default"].PropTypes.array},getInitialState:function(){var e=this.props.history||[];return{history:e}},componentDidMount:function(){if(!this.props.modifiers.readonly){var e=d["default"].findDOMNode(this.refs.terminal),t=_,s=(0,a["default"])(e).jqconsole(t.header,t.promptLabel,t.continueLabel);s.SetHistory(i["default"].pluck(this.state.history,"input")),this.setState({console:s}),this._startPrompt(s)}},_startPrompt:function(e){e.Prompt(!0,this._handleInput)},_handleInput:function(e){var t=this.props.presenter.whitelist;if(void 0!==t){var s=i["default"].find(t,function(t){var s=new RegExp(t.matcher);return s.test(e)});s?void 0!==s.fakeresponse?this._handleFakeResponse(e,s.fakeresponse):void 0!==s.shell?i["default"].isFunction(this.props.requestShell)&&this.props.requestShell(s.shell.cmd):this.props.broadcast("input",e,this._handleResult):/^\ *$/.test(e)?this._handleResult(e,"",1):(this._handleResult(e,"command not recognized",1),this.props.broadcast("result"))}else this.props.broadcast("input",e,this._handleResult);return this},_handleResult:function(e,t,s){t&&this.println(t,"stdout"),this._recordHistoryItem(e,t,s),this._startPrompt(this.state.console),this.props.broadcast("result")},_handleFakeResponse:function(e,t,s){this._recordHistoryItem(e,t.output,s),this._printFakeResultOutput(t)},_printFakeResultOutput:function(e){var t=e.delay||0;setTimeout(function(){this.println(e.output,e.type),this._startPrompt(this.state.console),this.props.broadcast("result")}.bind(this),t)},_recordHistoryItem:function(e,t,s){var n={input:e,output:t,exitCode:s};this.state.history.push(n),this.setState({history:this.state.history})},focus:function(){this.state.console.Focus()},println:function(e,t){"\n"!==e[e.length-1]&&(e+="\n"),this.print(e,t)},print:function(e,t){void 0===t&&(t="stdout"),this.state.console.Write(e,h[t])},render:function(){return u["default"].createElement("div",{className:"fcn-fake-container","data-readonly":this.props.modifiers.readonly},u["default"].createElement("div",{id:"terminalComponent",ref:"terminal"},this.props.modifiers.readonly?u["default"].createElement("div",{className:"jqconsole"},u["default"].createElement("div",{className:"jqconsole-stdout"}," Terminal disabled ")):void 0))}});t["default"]=b},652:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(534),a=n(o),l=s(533),u=n(l),c=s(1),d=n(c),h=s(17),f=n(h),p=20,m=d["default"].createClass({displayName:"RealTerminal",propTypes:{modifiers:d["default"].PropTypes.object.isRequired,broadcast:d["default"].PropTypes.func.isRequired,ptyStream:d["default"].PropTypes.object,onStreamEnd:d["default"].PropTypes.func},getInitialState:function(){var e=new a["default"]({cols:60,rows:35,cursorBlink:!1,useFocus:!1});return{term:e,fgCmd:this.props.initialShell}},componentDidMount:function(){var e=f["default"].findDOMNode(this.refs.terminal);this.state.term.open(e),this.state.term.on("keydown",this.onKeydown),this._resize=i["default"].debounce(this.resize,100),this.bindStream()},resize:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.getRowsCols():arguments[0];t.cols<=0||t.rows<=0||this.props.ptyStream.resize(t.cols,t.rows,function(){e.state.term.resize(t.cols,t.rows),e.state.term.refresh(0,t.rows-1)})},text:function(){return this.state.term.asText()},getRowsCols:function(){var e=f["default"].findDOMNode(this.refs.terminal),t=u["default"].getSize(e),s=e.offsetWidth,n=e.offsetHeight,r=Math.floor((s-p)/t.width),i=Math.floor((n-p)/t.height);return{rows:i,cols:r}},onEnter:function(){var e=this;this.props.broadcast("pty_result"),this.props.ptyStream.getFgProcName(function(t,s){if(t);else{var n=s.Content;e.props.onFgProcChange(n)}})},onKeydown:function(e){a["default"].focus&&13===e.keyCode&&this.onEnter()},focus:function(){this.state.term.focus(),f["default"].findDOMNode(this.refs.terminal).focus()},blur:function(){this.state.term.blur(),f["default"].findDOMNode(this.refs.terminal).blur()},bindStream:function(){var e=this;if(void 0!==this.props.ptyStream){var t=this.props.ptyStream,s=this.state.term;t.on("data",this._handleStreamData),t.on("end",function(){s.destroy(),i["default"].isFunction(e.props.onStreamEnd)&&e.props.onStreamEnd()}),s.on("data",function(e){t.write(e)})}},componentDidUpdate:function(e){e.ptyStream!==this.props.ptyStream&&(this.bindStream(),this.resize(this.getRowsCols()))},_handleStreamData:function(e){var t=this;this.state.term.write(e),this._resize&&this._resize(this.getRowsCols()),i["default"].defer(function(){t.state.hasGottenFirstData||(t.blur(),t.setState({hasGottenFirstData:!0}))})},render:function(){return d["default"].createElement("div",{className:"fcn-real-container"},d["default"].createElement("div",{className:"real-terminal",tabIndex:"0",ref:"terminal",onClick:this.focus}))}});t["default"]=m},653:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(2),a=n(o),l=s(10),u=n(l),c=s(15),d=n(c);t["default"]=i["default"].createClass({displayName:"WorkspaceStatusMessage",propTypes:{type:i["default"].PropTypes.string,message:i["default"].PropTypes.string,visible:i["default"].PropTypes.bool},mixins:[u["default"].connect(d["default"],"workspaceStatusType"),u["default"].connect(d["default"],"workspaceStatusMessage")],getInitialState:function(){return{visible:!1,isHovering:!1}},componentDidUpdate:function(e,t){var s=this,n=this.state.workspaceStatusType,r=this.state.workspaceStatusMessage,i=n!==t.workspaceStatusType||r!==t.workspaceStatusMessage;if(i&&this.state.workspaceStatusMessage&&(this.setState({visible:!0}),this.state.hideTimeout&&(clearTimeout(this.state.hideTimeout),this.setState({hideTimeout:null})),"neutral"===this.state.workspaceStatusType||"success"===this.state.workspaceStatusType)){var o=setTimeout(function(){s.setState({visible:!1})},3e3);this.setState({hideTimeout:o})}},_onMouseOver:function(){this.state.isHovering=!0,this.setState({isHovering:this.state.isHovering,visible:!0})},_onMouseLeave:function(){this.setState({visible:!1,isHovering:!1})},render:function(){var e=(0,a["default"])({"fcn-godex-status--hidden":!this.state.visible,"fcn-godex-status":!0,"fcn-godex-status--neutral":"neutral"===this.state.workspaceStatusType,"fcn-godex-status--error":"error"===this.state.workspaceStatusType||"idle"===this.state.workspaceStatusType,"fcn-godex-status--success":"success"===this.state.workspaceStatusType,"fcn-godex-status--stable":this.state.isHovering&&"error"!==this.state.workspaceStatusType});return i["default"].createElement("div",{className:"fcn-godex-status-container",onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseLeave},i["default"].createElement("div",{className:e},i["default"].createElement("span",{ref:"statusMessage"},this.state.workspaceStatusMessage),i["default"].createElement("div",{className:"fcn-godex-status__glow"})))}})},654:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(2),a=n(o);t["default"]=i["default"].createClass({displayName:"badge_alert",getInitialState:function(){return{hidden:!1}},componentDidMount:function(){setTimeout(function(){this.setState({hidden:!0})}.bind(this),8e3)},_hide:function(){this.setState({hidden:!0})},render:function(){var e=(0,a["default"])({"fcn-alert-box":!0,"fcn-alert-box--hidden":this.state.hidden}),t=this.props.icon?"cc-achievement cc-achievement--"+this.props.icon:"cc-achievement cc-achievement--code-achievement";return i["default"].createElement("div",null,i["default"].createElement("div",{className:e,onClick:this._hide},i["default"].createElement("div",{className:"fcn-alert-box__close"},i["default"].createElement("span",{className:"fcn-icon fcn-icon-close"})),i["default"].createElement("div",{className:"grid-row fcn-alert-box__contents"},i["default"].createElement("div",{className:"grid-col-4"},i["default"].createElement("span",{className:t})),i["default"].createElement("div",{className:"grid-col-8 fcn-alert-box__text"},i["default"].createElement("p",null,"Congratulations! You earned a new achievement:"),i["default"].createElement("p",null,i["default"].createElement("strong",null,this.props.name))))))}})},655:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(654),i=n(r),o=s(1),a=n(o);t["default"]=a["default"].createClass({displayName:"badges",_buildAchievements:function(){var e=[],t=this.props.achievements;return t&&t.length>0&&t.forEach(function(t,s){e.push(a["default"].createElement("li",null,a["default"].createElement(i["default"],{name:t.name,slug:t.slug,icon:t.icon,key:t.slug})))}.bind(this)),e},render:function(){return a["default"].createElement("div",{className:"fcn-achievement-alerts"},a["default"].createElement("ul",{className:"fcn-achievement-alerts__list"},this._buildAchievements()))}})},656:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(10),i=n(r),o=s(198),a=n(o),l=s(730),u=n(l),c=s(55),d=n(c),h=s(15),f=n(h),p=s(107),m=n(p),g=s(657),v=n(g),y=s(658),_=n(y),b=s(1),k=n(b),w=s(17),x=n(w),S=s(2),C=n(S),T=k["default"].createClass({displayName:"WebBrowser",mixins:[u["default"],i["default"].connect(m["default"]),i["default"].connect(f["default"],"workspaceReady")],propTypes:{presenter:k["default"].PropTypes.object.isRequired,modifiers:k["default"].PropTypes.object.isRequired,broadcast:k["default"].PropTypes.func.isRequired},getInitialState:function(){return{urlBarValue:""}},_onURLBarKeyDown:function(e){13===e.keyCode&&d["default"].load(this.state.urlBarValue)},_onURLBarChange:function(e){this.setState({urlBarValue:e.target.value})},onUrlFieldBlur:function(){this.setState({urlBarFocused:!1})},onUrlFieldFocus:function(){this.setState({urlBarFocused:!0})},componentDidUpdate:function(e,t){!t.workspaceReady&&this.state.workspaceReady&&this.home()},componentWillUpdate:function(e,t){this.state.urlBarFocused||(x["default"].findDOMNode(this.refs.urlbar).value=t.location.displayUrl)},refreshAndTest:function(){var e=this;d["default"].refresh().then(function(){e.props.broadcast("runTests")})},home:function(){void 0!==this.props.presenter.url&&d["default"].load(this.props.presenter.url)},isBlank:function(){return!this.state.location.internalUrl||!f["default"].state.workspaceObject},renderBody:function(){if(this.isBlank())return k["default"].createElement("div",{className:"fcn-browser__placeholder"},k["default"].createElement("div",{className:"fcn-browser__placeholder__body"},k["default"].createElement("div",{className:"fcn-browser__placeholder__image"}),k["default"].createElement("div",{className:"fcn-browser__placeholder__text"},"Browser Window",k["default"].createElement("br",null),"Use the URL bar to load a website")));switch(f["default"].state.workspaceBackend){case"godex":return k["default"].createElement(_["default"],{src:this.state.location.internalUrl.toString(),modifiers:this.props.modifiers,broadcast:this.props.broadcast,nonce:this.state.nonce,ref:"browser"});case"library":return k["default"].createElement(v["default"],{src:this.state.location.internalUrl,nonce:this.state.nonce,ref:"browser"});default:throw new Error("Unknown workspaceBackend "+f["default"].state.workspaceBackend)}},render:function(){var e=this.props.presenter.errors,t=(0,C["default"])({"fcn-browser__url-bar":!0,"fcn-browser__url-bar--error":e&&e.visible,"fcn-browser__url-bar--pass":e&&!e.visible}),s=(0,C["default"])({"fcn-control":!0,"fcn-icon":!0,"fcn-icon-arrowPrev":!0,"fcn-control--disabled":m["default"].state.historyIndex<1});return k["default"].createElement("div",{className:"fill-container fcn-browser__container"},k["default"].createElement("div",{className:"fcn-browser__chrome"},k["default"].createElement("span",{className:s,onClick:d["default"].navigateBack}),k["default"].createElement("span",{className:"fcn-control fcn-icon fcn-icon-refresh",onClick:this.refreshAndTest}),k["default"].createElement("div",{className:"fcn-browser__chrome__center"},k["default"].createElement("input",{type:"text",className:t,ref:"urlbar",placeholder:"Type URL here",onKeyDown:this._onURLBarKeyDown,onFocus:this.onUrlFieldFocus,onBlur:this.onUrlFieldBlur,onChange:this._onURLBarChange}),this.state.loading?k["default"].createElement("div",{className:"fcn-spinner fcn-spinner--grey"}):null),this.props.presenter.fullscreenButton),k["default"].createElement("div",{className:"fcn-browser__body"},this.renderBody()),k["default"].createElement(a["default"],this.props.presenter.errors))}});t["default"]=T},657:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,s){function n(r,i){try{var o=t[r](i),a=o.value}catch(l){return void s(l)}return o.done?void e(a):Promise.resolve(a).then(function(e){return n("next",e)},function(e){return n("throw",e)})}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(7),o=n(i),a=s(532),l=n(a),u=s(811),c=n(u),d=s(1),h=n(d),f=s(17),p=n(f),m=s(107),g=n(m),v=s(55),y=n(v),_=s(15),b=n(_),k=s(726),w=n(k),x=s(596),S=n(x),C=l["default"].secureSandboxIndex();t["default"]=h["default"].createClass({displayName:"LocalWebBrowser",propTypes:{nonce:h["default"].PropTypes.number.isRequired,src:h["default"].PropTypes.object.isRequired},getInitialState:function(){return{stuffMutex:new S["default"]}},componentDidMount:function(){this.state.container=p["default"].findDOMNode(this),this.fetchAndLoad()},componentWillUnmount:function(){(0,o["default"])(window).off("resize")},componentDidUpdate:function(e){e.nonce!==this.props.nonce&&this.fetchAndLoad()},fetchAndLoad:function(){if("localhost"!==this.props.src.host())return void this._loadHTML("404");var e=new w["default"](b["default"].state.workspaceObject),t=e.GET(this.props.src.toString());switch(t.status){case 200:this._loadHTML(t.body);break;case 404:this._loadHTML("404");break;default:this._loadHTML("Unhandled response")}},_loadHTML:function(e){this._withStuffContext(function(t){t.load(e,function(){g["default"].state.onLoadCallback(),t.on("clickLink",function(e){e&&"#"!==e&&y["default"].load(e)})})})},runLegacySCT:function(e,t){var s=this;this._withStuffContext(function(){s.state.context.evaljs("window.__runner.testWeb("+JSON.stringify(e)+")",function(e,s){e?t(!1,e.message):"string"==typeof s?t(!1,s):t(!0,"")})})},_withStuffContext:function(e){var t=this;return r(regeneratorRuntime.mark(function s(){var n;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.state.stuffMutex.lock();case 2:return n=s.sent,void 0===t.state.context?(0,c["default"])(C,t.state.container,function(s){t.state.context=s,e.call(t,s),n()}):(e.call(t,t.state.context),n()),s.abrupt("return",t);case 5:case"end":return s.stop()}},s,t)}))()},render:function(){return h["default"].createElement("div",{className:"LocalWebBrowser__frame-container"})}})},658:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(17),u=n(l),c=s(107),d=n(c),h=s(55),f=n(h);t["default"]=a["default"].createClass({displayName:"RemoteWebBrowser",propTypes:{src:a["default"].PropTypes.string.isRequired,modifiers:a["default"].PropTypes.object.isRequired,broadcast:a["default"].PropTypes.func.isRequired,nonce:a["default"].PropTypes.number.isRequired},getInitialState:function(){return{init:!1}},componentDidMount:function(){var e=this,t=this.getIframe();t.addEventListener("load",function(){e.props.broadcast("loadExternal")}),window.addEventListener("message",this._handleIframeMessage,!1),t.src="",t.src=this.props.src,t.onload=function(){d["default"].state.onLoadCallback()}},componentWillUnmount:function(){window.removeEventListener("message",this._handleIframeMessage)},_handleIframeMessage:function(e){var t=e.data;t.location&&(/ccterminalcloud/.test(e.origin)||/localhost/.test(e.origin)||/external-dev\.codecademy/.test(e.origin)||/heroku\.com/.test(e.origin)||void 0===e.origin)&&(f["default"].push(t.location),this.state.init||i["default"].isEmpty(this.props.src)?this.props.broadcast("runTests"):this.setState({init:!0}))},getIframe:function(){return u["default"].findDOMNode(this.refs.frame)},componentDidUpdate:function(e){if(e.nonce!==this.props.nonce){var t=u["default"].findDOMNode(this.refs.frame);t.onload=d["default"].state.onLoadCallback,t.src="",t.src=this.props.src}},render:function(){var e={pointerEvents:this.props.modifiers.dragging?"none":"auto"};return a["default"].createElement("iframe",{className:"fill-container",ref:"frame",style:e})}})},659:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(2),a=n(o),l=s(106),u=n(l),c=s(32),d=n(c);t["default"]=i["default"].createClass({displayName:"checkpoint",mixins:[d["default"]],propTypes:{disabled:i["default"].PropTypes.bool.isRequired,status:i["default"].PropTypes.string.isRequired,label:i["default"].PropTypes.string.isRequired,index:i["default"].PropTypes.number.isRequired},getDefaultProps:function(){return{disabled:!1,status:"default"}},render:function(){var e=(0,a["default"])({"fcn-checkpoint":!0,"fcn-checkpoint--satisfied":"satisfied"===this.props.status,"fcn-checkpoint--unsatisfied":"unsatisfied"===this.props.status,"fcn-checkpoint--pending":"pending"===this.props.status,"fcn-checkpoint--disabled":this.props.disabled&&"default"===this.props.status}),t=(0,a["default"])({"fcn-checkpoint__checkbox":!0,"fcn-checkpoint__checkbox--satisfied":"satisfied"===this.props.status,"fcn-checkpoint__checkbox--unsatisfied":"unsatisfied"===this.props.status,"fcn-checkpoint__checkbox--pending":"pending"===this.props.status}),s="fcn-icon-";switch(this.props.status){case"satisfied":s+="checkmark";break;case"unsatisfied":s+="close";break;default:s=""}return i["default"].createElement("div",{className:e},i["default"].createElement("b",{className:"fcn-checkpoint__number"},this.props.index,"."),i["default"].createElement("div",{className:"fcn-checkpoint__body"},i["default"].createElement("span",{dangerouslySetInnerHTML:{__html:(0,u["default"])(this.props.label)}})),i["default"].createElement("div",{className:t},"pending"===this.props.status?i["default"].createElement("div",{className:"fcn-spinner"}):i["default"].createElement("div",{className:"fcn-icon "+s})))}})},660:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(626),i=n(r),o=s(670),a=n(o),l=s(674),u=n(l),c=s(673),d=n(c),h=s(648),f=n(h),p=s(649),m=n(p),g=s(656),v=n(g),y=s(680),_=n(y);t["default"]={PersistentCodeEditor:i["default"],NonPersistentCodeEditor:i["default"],Image:a["default"],Narrative:u["default"],Terminal:f["default"],OutputTerminal:m["default"],WebBrowser:v["default"],Brief:d["default"],SQLPreview:_["default"]}},661:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(663),i=n(r),o=s(666),a=n(o),l=s(42),u=(n(l),s(89)),c=(n(u),s(1)),d=n(c),h=s(2),f=n(h),p=s(312),m=n(p),g=s(667),v=n(g),y=s(10),_=n(y),b=(s(307),s(8)),k=(n(b),s(136)),w=n(k),x=s(311),S=n(x),C=s(40),T=n(C),E=s(14),P=n(E),M=s(15),N=n(M);t["default"]=d["default"].createClass({displayName:"FileTool",mixins:[m["default"],_["default"].connect(N["default"])],propTypes:{broadcast:d["default"].PropTypes.func.isRequired,autoAdd:d["default"].PropTypes.bool.isRequired,tree:d["default"].PropTypes.object,environment:d["default"].PropTypes.string.isRequired,useClickOutside:d["default"].PropTypes.bool},getInitialState:function(){return{openFile:void 0,loading:!1,error:void 0,currentItemPath:"",currentSavePath:void 0,newDirectory:!1,isAddingFiles:!1,isDeletingFiles:!1,openPaths:new Set([])}},componentDidMount:function(){var e=this;this.props.useClickOutside&&(this.props.autoAdd?this.listenForOutsideClick(".file-tool",function(){e.props.toggle()}):this.listenForOutsideClick(".global-modal__container",function(){e.props.toggle()}))},_downloadWorkspace:function(){},onEscapeKey:function(){this.setState({open:!1}),this.stopListeningForOutsideClicks()},_setCurrentItem:function(e,t){t?this.setState({currentSavePath:e}):this.setState({currentSavePath:void 0}),this.setState({currentItemPath:e})},_addOrRemoveOpenPath:function(e){var t=this.state.openPaths;t.has(e)?t["delete"](e):t.add(e),this.setState({openPaths:t})},_forceAddOpenPath:function(e){var t=this.state.openPaths;t.has(e)||(t.add(e),this.setState({openPaths:this.state.openPaths}))},_clearMediaViewer:function(){this.setState({openFile:void 0,currentSavePath:void 0})},setIsDeleting:function(e){this.setState({isDeletingFiles:e})},toggleAddFileState:function(){this.setState({isAddingFiles:!this.state.isAddingFiles}),this.refs.newFileTool.toggleAddFileTool()},updateTree:function(){this.props.broadcast("getFileTree")},_createNewFile:function(e,t){this.setState({isAddingFiles:!0});var s=this.state.currentSavePath?this.state.currentSavePath+"/"+e:e;if(t){var n=new S["default"]({name:e,path:s,files:[],directories:[]});P["default"].createDirectories([n])}else{var r=new w["default"]({name:e,path:s,content:""});P["default"].updateFiles([r]),P["default"].getFile(e),T["default"].openFile(r)}this._setCurrentItem(e,t),this.state.currentSavePath&&this._forceAddOpenPath(this.state.currentSavePath)},_setError:function(e){this.setState({error:e})},_clearError:function(){this.setState({error:void 0})},render:function(){var e=(0,f["default"])({"file-tool":!0,"file-tool--auto-add":this.props.autoAdd,"file-tool--is-adding":this.state.isAddingFiles}),t=(0,f["default"])({"file-tool__error":!0,"file-tool__error--shown":this.state.error,"file-tool__error-isdir":!this.state.openFile&&!this.props.autoAdd&&this.state.newDirectory});return d["default"].createElement("div",{className:e},d["default"].createElement("div",{className:"file-tool__container"},d["default"].createElement("div",{className:"file-tool__container--left"},d["default"].createElement("p",{className:t},this.state.error),d["default"].createElement(v["default"],{ref:"newFileTool",autoAdd:this.props.autoAdd,toggleAddFileState:this.toggleAddFileState,isAddingFiles:this.state.isAddingFiles,isDeletingFiles:this.state.isDeletingFiles,setIsDeleting:this.setIsDeleting,setError:this._setError,clearError:this._clearError,createNewFile:this._createNewFile,broadcast:this.props.broadcast,currentSavePath:this.state.currentSavePath,currentItemPath:this.state.currentItemPath,clearMediaViewer:this._clearMediaViewer}),d["default"].createElement(i["default"],{ref:"fileTree",setCurrentItem:this._setCurrentItem,setError:this._setError,clearError:this._clearError,currentItemPath:this.state.currentItemPath,addOrRemoveOpenPath:this._addOrRemoveOpenPath,forceAddOpenPath:this._forceAddOpenPath,openPaths:this.state.openPaths,broadcast:this.props.broadcast,isAddingFiles:this.state.isAddingFiles||this.props.autoAdd,isDeletingFiles:this.state.isDeletingFiles,newDirectory:this.state.newDirectory,environment:this.props.environment}),null),this.props.useViewer?d["default"].createElement(a["default"],{ref:"mediaViewer",loading:this.state.loading,broadcast:this.props.broadcast}):void 0,d["default"].createElement("div",{className:"fcn-icon fcn-icon-close fcn-button--everyday fcn-control",onClick:this.props.toggle})))}})},662:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(17),a=n(o),l=s(302);n(l);t["default"]=i["default"].createClass({displayName:"FileToolNameInput",getInitialState:function(){return{value:""}},componentDidMount:function(){this.setFocus()},setFocus:function(){a["default"].findDOMNode(this.refs.filenameinput).focus()},clearInput:function(){this.setState({value:""})},_fileNameKeyDown:function(e){var t=e.target.value;this.setState({value:t}),this.props.fileNameKeyDown(t)},render:function(){var e=this.state.value;return i["default"].createElement("form",{onSubmit:this.props.onSubmit},i["default"].createElement("input",{type:"text",className:"file-name-input",ref:"filenameinput",placeholder:this.props.placeHolder,value:e,onChange:this._fileNameKeyDown}))}})},663:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(42),i=n(r),o=s(313),a=n(o),l=s(665),u=n(l),c=s(664),d=n(c),h=s(1),f=n(h),p=s(4),m=n(p),g=s(10),v=n(g),y=s(89),_=n(y),b=s(525),k=(n(b),s(15)),w=n(k),x=s(190),S=n(x),C=s(14),T=n(C);t["default"]=f["default"].createClass({displayName:"FileTree",mixins:[i["default"],a["default"],m["default"].ListenerMixin,v["default"].connect(w["default"])],propTypes:{currentItemPath:f["default"].PropTypes.string.isRequired,openPaths:f["default"].PropTypes.object.isRequired,setError:f["default"].PropTypes.func.isRequired,clearError:f["default"].PropTypes.func.isRequired,setCurrentItem:f["default"].PropTypes.func.isRequired,addOrRemoveOpenPath:f["default"].PropTypes.func.isRequired,isAddingFiles:f["default"].PropTypes.bool.isRequired,environment:f["default"].PropTypes.string.isRequired},getInitialState:function(){return{canDrop:!0,workspace:void 0}},componentDidMount:function(){T["default"].getFileTree()},_preventDrop:function(){this.setState({canDrop:!1})},_enableDrop:function(){this.setState({canDrop:!0})},_shouldHideFileListing:function(e){return"."===e.name[0]?!0:"lessons"!==this.props.environment||"test/"!==e.path.substring(0,"test/".length)&&"spec/"!==e.path.substring(0,"spec/".length)?!1:!0},_shouldHideDirectoryListing:function(e){return"."===e.name[0]?!0:"lessons"!==this.props.environment||"test"!==e.name&&"spec"!==e.name?!1:!0},_writeItem:function(e){if(!this._shouldHideFileListing(e)){var t=e.name,s=e.path;return f["default"].createElement(d["default"],{path:s,key:s,name:t,id:s,broadcast:this.props.broadcast,moveItem:this._moveItem,fileExists:this.fileExists,setError:this.props.setError,clearError:this.props.clearError,setCurrentFile:this._setCurrentFile,currentItemPath:this.props.currentItemPath,isAddingFiles:this.props.isAddingFiles})}},_resetPath:function(){"file-tree__tree-btn"!==event.target.className.split(" ")[0]&&this.props.setCurrentItem("")},_setCurrentFile:function(e,t){if(this.props.clearError(),this.props.setCurrentItem(e),!t){var s=_["default"].contentEncoding(_["default"].extname(e));S["default"].setPreviewFilepath(e,s),T["default"].getFile(e,s).then(S["default"].previewFile)}},_writeFolderItem:function(e){if(!this._shouldHideDirectoryListing(e)){var t=e.name,s=e.path;return f["default"].createElement(u["default"],{newDirectory:this.props.newDirectory,path:s,key:s,name:t,fileExists:this.fileExists,setError:this.props.setError,clearError:this.props.clearError,openPaths:this.props.openPaths,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this._setCurrentFile,addOrRemoveOpenPath:this.props.addOrRemoveOpenPath,forceAddOpenPath:this.props.forceAddOpenPath,preventDrop:this._preventDrop,enableDrop:this._enableDrop,canDrop:this.state.canDrop,currentItemPath:this.props.currentItemPath,isAddingFiles:this.props.isAddingFiles,rename:this.props.renameItem,tree:this._buildTree(e)})}},_buildTree:function(e){var t=[],s=!0,n=!1,r=void 0;try{for(var i,o=e.directories[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var a=i.value;t.push(this._writeFolderItem(a))}}catch(l){n=!0,r=l}finally{try{!s&&o["return"]&&o["return"]()}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h,f=e.files[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;t.push(this._writeItem(p))}}catch(l){c=!0,d=l}finally{try{!u&&f["return"]&&f["return"]()}finally{if(c)throw d}}return t},render:function(){var e={files:[],directories:[]};return this.state.workspaceObject&&(e=this.state.workspaceObject.root),f["default"].createElement("div",{className:"file-tree",onClick:this._resetPath},f["default"].createElement("ul",null,this._buildTree(e)))}})},664:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(17),a=n(o),l=s(4),u=n(l),c=s(2),d=n(c),h=s(89),f=n(h),p=s(303),m=n(p),g=s(14),v=n(g),y=s(40),_=n(y),b=s(316),k=n(b);t["default"]=i["default"].createClass({displayName:"FileTreeFile",mixins:[u["default"].connectFilter(k["default"],"file",function(e){return e.file})],propTypes:{name:i["default"].PropTypes.string.isRequired,path:i["default"].PropTypes.string.isRequired,currentItemPath:i["default"].PropTypes.string.isRequired,setError:i["default"].PropTypes.func.isRequired,clearError:i["default"].PropTypes.func.isRequired,setCurrentFile:i["default"].PropTypes.func.isRequired,isAddingFiles:i["default"].PropTypes.bool.isRequired},getInitialState:function(){return{name:this.props.name,file:null}},_onFileNameChange:function(e){this.setState({name:e.target.value}),this.props.clearError()},_invalidExtension:function(e){return!m["default"].has(e)},_onBlur:function(){this._triggerNameChange()},_forceFocus:function(){a["default"].findDOMNode(this.refs.nameInput).focus(),this.setState({isActive:!0}),this.props.setCurrentFile(this.props.path,!0)},setClickTimeOut:function(){setTimeout(function(){this.state.shouldAcceptDoubleClick=!1,this.setState({shouldAcceptDoubleClick:this.state.shouldAcceptDoubleClick})}.bind(this),500)},_handleClick:function(e){if(e.stopPropagation(),this.props.currentItemPath===this.props.path&&this.state.shouldAcceptDoubleClick){var t=f["default"].extname(this.state.name);switch(t.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return;default:this.state.file&&(this.state.file.canClose=!0,_["default"].openFile(this.state.file),this.props.broadcast("openFileFromViewer",this.state.file),this.props.broadcast("toggleModal"))}}else this.state.shouldAcceptDoubleClick=!0,this.setState({shouldAcceptDoubleClick:this.state.shouldAcceptDoubleClick}),this.setClickTimeOut(),this.props.setCurrentFile(this.props.path)},_triggerNameChange:function(e){if(e&&e.preventDefault(),this.props.name!==this.state.name){var t=this.props.path,s=this.props.path.replace(this.props.name,this.state.name),n=f["default"].extname(this.state.name);""===this.state.name?(this.props.setError("Enter a filename."),this._forceFocus()):this._invalidExtension(n)?(this.props.setError("Invalid extension."),this._forceFocus()):this.props.fileExists(s)?(this.props.setError("File already exists."),this._forceFocus()):v["default"].rename(t,s)}},render:function(){var e=(0,d["default"])({"file-tree__tree-btn":!0,"file-tree__tree-btn--active":this.props.currentItemPath===this.props.path,"file-tree__tree-btn--inactive":this.props.isAddingFiles});return i["default"].createElement("li",{key:this.props.path},i["default"].createElement("div",{className:e,onClick:this._handleClick}),i["default"].createElement("span",{className:"fcn-icon fcn-icon-file"}),i["default"].createElement("form",{
onSubmit:this._triggerNameChange},i["default"].createElement("input",{ref:"nameInput",value:this.state.name,onChange:this._onFileNameChange,onBlur:this._onBlur})))}})},665:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(42),i=n(r),o=s(1),a=n(o),l=s(17),u=n(l),c=s(2),d=n(c),h=s(21),f=(n(h),s(14)),p=n(f);t["default"]=a["default"].createClass({displayName:"FileTreeFolder",mixins:[i["default"]],propTypes:{name:a["default"].PropTypes.string.isRequired,path:a["default"].PropTypes.string.isRequired,openPaths:a["default"].PropTypes.object.isRequired,currentItemPath:a["default"].PropTypes.string.isRequired,addOrRemoveOpenPath:a["default"].PropTypes.func.isRequired,setError:a["default"].PropTypes.func.isRequired,clearError:a["default"].PropTypes.func.isRequired,setCurrentItem:a["default"].PropTypes.func.isRequired,isAddingFiles:a["default"].PropTypes.bool.isRequired,newDirectory:a["default"].PropTypes.bool.isRequired},getInitialState:function(){return{isOpen:!1,isActive:!1,name:this.props.name}},componentDidMount:function(){this.props.currentItemPath===this.props.path&&(this.setState({isActive:!0}),this.setState({isOpen:!0})),this.props.openPaths.has(this.props.path)&&this.setState({isOpen:!0})},componentDidUpdate:function(){this.state.isActive&&this.props.currentItemPath!==this.props.path&&this.setState({isActive:!1})},_toggleFolder:function(){this.props.clearError(),this.setState({isActive:!0,isOpen:!this.state.isOpen}),this.props.addOrRemoveOpenPath(this.props.path),this.props.setCurrentItem(this.props.path,!0)},_openFolderAndLeaveInactive:function(){this.setState({isOpen:!0}),this.props.forceAddOpenPath(this.props.path)},_onFileNameChange:function(e){this.setState({name:e.target.value}),this.props.clearError()},_onBlur:function(){this._triggerNameChange()},_forceFocus:function(){u["default"].findDOMNode(this.refs.nameInput).focus(),this.setState({isActive:!0}),this.props.setCurrentItem(this.props.path,!0)},_triggerNameChange:function(e){if(e&&e.preventDefault(),this.props.name!==this.state.name||"untitled"===this.state.name){var t=this.props.path.replace(this.props.name,this.state.name);""===this.state.name||"untitled"===this.state.name?(this.props.setError("Enter a filename."),this._forceFocus()):this.props.fileExists(t)?(this.props.setError("File already exists."),this._forceFocus()):p["default"].rename(this.props.path,t,!0)}},render:function(){var e=this.state.name,t=(0,d["default"])({"file-tree__tree-btn":!0,"file-tree__tree-btn--active":this.state.isActive}),s=(0,d["default"])({"file-tree__folder":!0,"file-tree__folder--open":this.state.isOpen,"file-tree__folder--while-adding":this.props.isAddingFiles}),n=(0,d["default"])({"fcn-icon":!0,"fcn-icon-nav":!0,"fcn-icon--nav-right":!this.state.isOpen,"fcn-icon-navArrowRight":!this.state.isOpen,"fcn-icon--nav-down":this.state.isOpen,"fcn-icon-navArrowDown":this.state.isOpen}),r=(0,d["default"])({"fcn-icon":!0,"fcn-icon-folderFilled":!0});return a["default"].createElement("li",{key:this.props.path,className:s},a["default"].createElement("div",{className:t,onClick:this._toggleFolder}),a["default"].createElement("span",{className:n}),a["default"].createElement("span",{className:r}),a["default"].createElement("form",{onSubmit:this._triggerNameChange},a["default"].createElement("input",{ref:"nameInput",type:"text",value:e,onChange:this._onFileNameChange,onBlur:this._onBlur})),a["default"].createElement("ul",null,this.props.tree))}})},666:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(4),a=n(o),l=s(316),u=n(l),c=s(190),d=n(c),h=s(40),f=n(h),p=s(2),m=n(p),g=s(133),v=n(g),y=function(e){return e.file},_=function(e){return e.loading};t["default"]=i["default"].createClass({displayName:"MediaViewer",mixins:[a["default"].connectFilter(u["default"],"file",y),a["default"].connectFilter(u["default"],"loading",_)],propTypes:{broadcast:i["default"].PropTypes.func.isRequired},getInitialState:function(){return{file:void 0,loading:!1}},componentWillUnmount:function(){d["default"].clearPreviewFile()},_openFile:function(e){f["default"].openFile(e),this.props.broadcast("toggleModal")},render:function(){var e,t=!1;if(this.state.file)switch(this.state.file.type){case"image":var s="data:image/"+this.state.file.extension+";charset=utf-8;base64,"+this.state.file.contentBase64;t=!0,e=i["default"].createElement("div",{className:"image-preview-container"},i["default"].createElement("img",{src:s}));break;default:e=i["default"].createElement(v["default"],{key:this.state.file.name,filename:this.state.file.name},this.state.file.content)}var n=(0,m["default"])({"fcn-button":!0,"fcn-button--hidden":!this.state.file,"fcn-button--lantern":!t,"fcn-button--inactive":t}),r=(0,m["default"])({"file-preview__empty":!0,"file-preview__empty--hidden":this.state.file||this.state.loading}),o=(0,m["default"])({"fcn-spinner fcn-spinner--large":!0,"fcn-spinner--hidden":!this.state.loading}),a=t?"Read-only":"Open";return i["default"].createElement("div",{className:"file-preview"},i["default"].createElement("div",{className:"file-preview--content"},i["default"].createElement("div",{className:o}),e),i["default"].createElement("div",{className:r},i["default"].createElement("p",{className:"fcn-icon file-preview__icon--large fcn-icon-folderFilled"}),i["default"].createElement("span",{className:"file-preview__icon--large"},"File Navigator"),i["default"].createElement("p",{className:"file-preview__empty--copy"},"The panel on the left shows all the folders and files included in your root directory.  Select a file from the left in order to preview and/or open it.")),i["default"].createElement("div",{className:"file-preview--footer"},i["default"].createElement("div",{className:n,onClick:this._openFile.bind(null,this.state.file)},a),t?i["default"].createElement("span",{className:"readonly-text"},"You cannot open this file because it cannot be edited at this time."):void 0))}})},667:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(42),i=n(r),o=s(313),a=n(o),l=s(1),u=n(l),c=s(4),d=(n(c),s(2)),h=n(d),f=s(312),p=n(f),m=s(303),g=n(m),v=s(662),y=n(v),_=s(10),b=n(_),k=s(14),w=n(k),x=s(15),S=n(x);t["default"]=u["default"].createClass({displayName:"NewFileTool",mixins:[i["default"],a["default"],p["default"],b["default"].connect(S["default"])],propTypes:{currentSavePath:u["default"].PropTypes.string,currentItemPath:u["default"].PropTypes.string.isRequired,createNewFile:u["default"].PropTypes.func.isRequired,broadcast:u["default"].PropTypes.func.isRequired,setError:u["default"].PropTypes.func.isRequired,clearError:u["default"].PropTypes.func.isRequired,setIsDeleting:u["default"].PropTypes.func.isRequired,autoAdd:u["default"].PropTypes.bool.isRequired,isAddingFiles:u["default"].PropTypes.bool.isRequired,isDeletingFiles:u["default"].PropTypes.bool.isRequired},getInitialState:function(){return{fileName:"",isAddingFiles:!1,IsDir:!1,slug:S["default"].getSlug()}},onSubmit:function(e){e.preventDefault(),this._createNewFile()},onEscapeKey:function(){this._toggle()},_reset:function(){this.setState({IsDir:!1,fileName:"",isAddingFiles:!1}),this.refs.fileInput.clearInput()},_validateExtension:function(e){return!g["default"].has(e)},_fileNameKeyDown:function(e){this.setState({name:e}),this.props.clearError()},_createNewFolder:function(){this.refs.fileInput&&this.refs.fileInput.setFocus(),this.state.IsDir=!0,this.setState({IsDir:this.state.IsDir}),this.props.autoAdd||this._toggle()},_deleteFile:function(){var e=this.props.currentItemPath;this.props.clearMediaViewer(),this.props.setIsDeleting(!1),w["default"].deleteFile(e).then(w["default"].updateFileTree)},_toggle:function(){this.stopListeningForOutsideClicks(),this.props.clearError(),this.props.broadcast("toggleFileTool"),this.toggleAddFileTool()},_createNewFile:function(){var e=this.state.IsDir;if(!e)var t=this.state.name.substring(this.state.name.indexOf(".")+1,this.state.name.length);return""===this.state.name?void this.props.setError("Enter a file name."):!e&&this._validateExtension(t)?void this.props.setError("Invalid file extension."):this.fileExists(this.state.name)?void this.props.setError("File already exists."):(this.props.createNewFile(this.state.name,e),(!this.props.autoAdd||this.props.autoAdd&&!e)&&this._toggle(),void this._reset())},toggleAddFileTool:function(){this.setState({isAddingFiles:!this.state.isAddingFiles})},getDeleteConfirmation:function(){var e=this.props.currentSavePath?{title:"Delete Directory?",message:"Are you sure you want to delete this directory?  This will delete all files inside it. You cannot undo this "}:{title:"Delete file?",message:"Are you sure you want to delete this file?  You cannot undo this."};this.props.broadcast("getConfirmation",e,this._deleteFile),this.props.setIsDeleting(!0)},render:function(){var e=this,t=(this.state.hasErrors,(0,h["default"])({"new-file-tool__error":!0,"new-file-tool__error--shown":this.state.hasErrors}),(0,h["default"])({"fcn-icon":!0,"fcn-icon-plus":!0,"fcn-control":!0,"fcn-control--disabled":this.props.isAddingFiles||this.props.isDeletingFiles})),s=(0,h["default"])({"fcn-icon":!0,"fcn-icon-folderAdd":!0,"fcn-control":!0,"fcn-control--disabled":this.props.isAddingFiles||this.props.isDeletingFiles}),n=(0,h["default"])({"fcn-icon":!0,"fcn-icon-trash":!0,"fcn-control":!0,"fcn-control--disabled":this.props.isAddingFiles||this.props.isDeletingFiles||""===this.props.currentItemPath}),r=(0,h["default"])({"select-cta":!0,"select-cta--hidden":!this.props.autoAdd}),i=this.state.IsDir?"Enter Folder Name":"Enter File Name";return u["default"].createElement("div",{className:"fcn-create-file-tool"},this.props.autoAdd?void 0:u["default"].createElement("div",{className:"file-tool__menu"},u["default"].createElement("span",{className:t,onClick:this._toggle}),u["default"].createElement("span",{className:s,onClick:this._createNewFolder}),u["default"].createElement("span",{className:n,onClick:this.getDeleteConfirmation})),this.props.autoAdd||this.state.isAddingFiles?u["default"].createElement("div",null,u["default"].createElement(y["default"],{ref:"fileInput",placeHolder:i,fileNameKeyDown:this._fileNameKeyDown,onSubmit:this.onSubmit}),u["default"].createElement("div",{className:"select-cta-container"},u["default"].createElement("span",{className:r},"Select a directory:"),u["default"].createElement("span",{className:"fcn-icon fcn-icon-folderAdd fcn-control fcn-control--right",onClick:this._createNewFolder})),u["default"].createElement("div",{className:"new-file-tool__footer"},u["default"].createElement("span",{className:"fcn-button fcn-button--lantern",onClick:function(){e._createNewFile()}},"Create"),u["default"].createElement("span",{className:"fcn-button fcn-button--tab",onClick:this._toggle},"Cancel"))):void 0)}})},668:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(302),a=n(o);t["default"]=i["default"].createClass({displayName:"SecondaryModal",propTypes:{secondaryModalContent:i["default"].PropTypes.shape({title:i["default"].PropTypes.string.isRequired,message:i["default"].PropTypes.string.isRequired}).isRequired,cancelAndClose:i["default"].PropTypes.func.isRequired,confirmAndClose:i["default"].PropTypes.func.isRequired},buildButton:function(e,t){return i["default"].createElement("div",{key:e.title+t,className:"fcn-button fcn-button--blast",onClick:e.action},e.title)},buildButtons:function(e){var t=[];return e.forEach(function(e,s){t.push(this.buildButton(e,s))}.bind(this)),t},render:function(){var e;return e=this.props.secondaryModalContent.buttons?this.buildButtons(this.props.secondaryModalContent.buttons):i["default"].createElement(a["default"],{cancelAndClose:this.props.cancelAndClose,confirmAndClose:this.props.confirmAndClose}),i["default"].createElement("div",{className:"secondary-modal"},i["default"].createElement("p",{className:"secondary-modal__title"},this.props.secondaryModalContent.title),i["default"].createElement("p",null,this.props.secondaryModalContent.message),e)}})},669:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r);t["default"]=i["default"].createClass({displayName:"fullscreen_controls",render:function(){var e=this.props.isFullscreen?"minimize":"fullscreen";return i["default"].createElement("div",{"data-cue":"discovery-fullscreen",className:"fcn-control fcn-control--right",onClick:this.props.toggleFullscreen},i["default"].createElement("span",{className:"fcn-icon fcn-icon-"+e}))}})},670:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r);t["default"]=i["default"].createClass({displayName:"Image",render:function(){return i["default"].createElement("div",{className:"francine-image__container"},i["default"].createElement("img",{src:this.props.presenter.url,className:"fit-full francine-image"}))}})},671:function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(306),o=r(i),a=s(3),l=r(a),u=s(1),c=r(u),d=s(4),h=(r(d),s(10)),f=r(h),p=s(2),m=r(p),g=s(308),v=s(41),y=r(v),_=s(21),b=r(_),k=s(128),w=(r(k),s(8)),x=r(w),S=s(135),C=n(S),T=s(743),E=r(T),P=s(738),M=r(P),N=s(734),O=r(N),A=s(655),F=r(A),I=s(300),j=r(I),R=s(295),L=r(R),D=s(294),B=s(672),q=r(B),U=s(685),W=r(U),z=s(304),$=r(z),H=s(301),G=r(H),K=s(632),Q=r(K),V=s(134),J=r(V),Y=s(195),X=r(Y),Z=s(104),ee=r(Z),te=s(14),se=r(te),ne=s(131),re=r(ne);s(314);var ie=s(15),oe=r(ie),ae=s(315),le=r(ae),ue=c["default"].createClass({displayName:"Lessons",mixins:g.LearnMixins.concat([E["default"],M["default"],O["default"],f["default"].connect(oe["default"])]),getInitialState:function(){var e=this.props.initialLesson,t=this.props.course.lessons_order.indexOf(this.props.initialLesson.slug),s=this.props.initialExercise,n=this.props.initialLesson.exercises_order.indexOf(this.props.initialExercise.slug),r=this.getInitialProgress(this.props.progress);return{currentExerciseIndex:n,currentExercise:s,currentLesson:e,currentLessonIndex:t,adapter:this.getAdapter(s),progress:r,errors:{},readonly:!1,drawerOpen:!1,godexStatus:{type:"",message:"",visible:!1},godexReady:!1,fileNavReady:!1,wall:this.anonymousUserWallIfNeeded(),skipTests:!1}},componentDidMount:function(){this.state.adapter.trigger("interface:ready"),this._setWorkspace(this.state.currentExercise),this.state.adapter.extendCache(),this.addExtraComponentsToAdapter(this.state.adapter),this.refreshNav(),window.history.pushState({exerciseIndex:this.state.currentExerciseIndex,lessonIndex:this.state.currentLessonIndex},this.state.currentExercise.title,this.state.currentExercise.path+location.search),window.addEventListener("popstate",function(e){e.state&&this.navigate(e.state.lessonIndex,e.state.exerciseIndex,{push:!1})}.bind(this)),(0,y["default"])("info","Mounted Lessons controller on exercise: "+this.state.currentExercise.slug)},getAdapter:function(e){var t=o["default"].forComponents(e.components);return t.controller=this,this.state&&this.state.adapter&&(t.inheritCache(this.state.adapter),this.state.adapter.destroy()),this.addExtraComponentsToAdapter(t),ee["default"].newAdapter(t),t},setUpWorkspace:function(){var e=this,t=this.state.currentExercise.setup;void 0!==t&&this.isActiveCheckpoint(this.state.currentLessonIndex,this.state.currentExerciseIndex,0)&&re["default"].execute(t.command).then(function(t){b["default"].increment("francine.godexer.setup-exercise","success"),se["default"].persist().then(function(){e.state.adapter.trigger("interface:ready")})},function(t){b["default"].increment("francine.godexer.setup-exercise","error"),e._apologize()})},addExtraComponentsToAdapter:function(e){var t=this;l["default"].defer(function(){void 0!==t.refs.globalModal&&e.registerComponent&&e.registerComponent("GlobalModal",t.refs.globalModal)})},componentWillUpdate:function(e,t){(t.currentExerciseIndex!==this.state.currentExerciseIndex||t.currentLessonIndex!==this.state.currentLessonIndex)&&this._setWorkspace(t.currentExercise)},componentDidUpdate:function(e,t){this.addExtraComponentsToAdapter(this.state.adapter),(t.currentExerciseIndex!==this.state.currentExerciseIndex||t.currentLessonIndex!==this.state.currentLessonIndex)&&(this.isAccessible(this.state.currentLessonIndex,this.state.currentExerciseIndex,0)||this.setProgressToCurrentExercise(),this.state.adapter.trigger("interface:ready"),this.state.adapter.extendCache(),le["default"].setCursor({course:this.props.course,lesson:this.state.currentLesson,exercise:this.state.currentExercise})),!this.state.wall&&this.state.shouldShowCompletionModal&&this.completeLesson()},isExerciseLocked:function(e,t){return void 0===e&&(e=this.state.currentLessonIndex),void 0===t&&(t=this.state.currentExerciseIndex),!this.state.nolock&&!this.isAccessible(e,t,0)},updateExerciseComponent:function(e,t){var s=JSON.parse(JSON.stringify(this.state.currentExercise));return void 0===s.components[e]?(console.warn("Couldn't update exercise component \""+e+'"'),void console.trace()):(s.components[e]=l["default"].extend(s.components[e],t),void this.setState({currentExercise:s}))},_showingFinalExercise:function(){return this.state.currentLessonIndex===this.props.course.lessons_order.length-1&&this.state.currentExerciseIndex===this.state.currentLesson.exercises_order.length-1},completeLesson:function(){if(this.props.segment){var e=C.nextContentFromContentSlug(this.props.segment,this.state.currentLesson.slug);return e.length?void this.setState({wall:c["default"].createElement(J["default"],{type:"screen",nextContent:e})}):void(window.location=l["default"].get(this.props,"exitPaths.back","/learn"))}},_clearWall:function(){this.setState({wall:void 0})},_pickAWall:function(){return this.state.wall?this.state.wall:this.state.workspaceIdle?c["default"].createElement($["default"],null):this.isExerciseLocked()?c["default"].createElement(q["default"],{courseStarted:this.isCourseStarted(),course:this.props.course}):this._showingFinalExercise()&&this.canAccessNextExercise()&&this.props.course.wip?c["default"].createElement(W["default"],null):void 0},setProgressToCurrentExercise:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=this.state.currentExercise.components.Narrative,s=e===!0?"satisfied":"default";if(t){var n=t.checkpoints;if(n){var r=!0,i=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;u.status=s}}catch(c){i=!0,o=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}}}this.setAndUpdateProgressState({lessonIndex:this.state.currentLessonIndex,exerciseIndex:this.state.currentExerciseIndex,checkpointIndex:0})},currentWorkspace:function(){var e={};try{e=this.state.currentExercise.workspace}catch(t){e=this.props.initialExercise.workspace}return e},uploadInitialSavepoint:function(){this.state.adapter.trigger("godmode:uploadInitial")},_mayResetExercise:function(){return void 0!==this.state.adapter&&void 0!==this.state.adapter.checkpoints&&this.state.adapter.checkpoints.length>0&&!x["default"].isAnon()},_contentStudioURL:function(){var e=this.props.revision||"master",t="http://contentstudio.codecademy.com/#/"+e+"/courses",s=this.props.course.slug,n=this.state.currentLesson.unit_slug,r=this.state.currentLesson.slug,i=this.state.currentExercise.slug;return t+"/"+s+"/units/"+n+"/lessons/"+r+"/exercises/"+i},render:function(){var e={isAnon:x["default"].isAnon()},t={readonly:this.state.readonly,fileNavReady:this.state.fileNavReady,isProject:!1,features:this.props.features},s={errors:this.state.errors,wall:this._pickAWall(),groupsLink:this.props.course.meta.qa_forum_url},n={componentShouldBeDisabled:this.componentShouldBeDisabled},r=(0,m["default"])({francine:!0,"francine--butterbar":this.props.hasButterbar});return c["default"].createElement("div",{id:"workspace",className:r},c["default"].createElement(L["default"],{exitPaths:this.props.exitPaths,title:this.props.course.title,godexStatus:this.state.godexStatus,uploadInitialSavepoint:this.uploadInitialSavepoint,setProgressToCurrentExercise:this.setProgressToCurrentExercise,profileImage:this.props.profileImage,currentExercise:this.state.currentExercise,"private":this.state.currentLesson["private"],prerender:this.props.prerender,contentStudioURL:this._contentStudioURL(),nolock:this.state.nolock,uploadSavepoints:this.state.uploadSavepoints}),this.discoveryCues(),c["default"].createElement(G["default"],{ref:"globalModal",broadcast:this.state.adapter.createComponentBroadcastFunction("GlobalModal"),environment:"lessons"}),c["default"].createElement(j["default"],{ref:"componentGrid",key:this.state.currentExercise.slug,components:this.state.currentExercise.components,adapter:this.state.adapter,modifiers:t,helpers:n,presenter:s,user:e}),c["default"].createElement(F["default"],{achievements:this.state.achievements}),c["default"].createElement(D.Footer,{disabled:this.componentShouldBeDisabled("Footer"),course:this.props.course,progress:this.state.progress.current_state,initialUnit:this.state.currentLesson.unit_slug,initialLesson:this.state.currentLesson.slug,initialExercise:this.state.currentExercise.slug,titleRoute:l["default"].get(this.props,"exitPaths.back"),title:this.state.currentExerciseIndex+1+". "+this.state.currentExercise.title,unlockAll:this.state.nolock},c["default"].createElement(D.FooterSection,{position:"center"},c["default"].createElement(Q["default"],{exitPaths:this.props.exitPaths,mayProceed:this.state.nolock||!this.isOnFarthestUnlockedExercise()||this.canAccessNextExercise(),currentLessonIndex:this.state.currentLessonIndex,currentLesson:this.state.currentLesson,currentExerciseIndex:this.state.currentExerciseIndex,currentExercise:this.state.currentExercise,exerciseNames:this.state.currentLesson.exercises_order,navigate:this.navigate,course:this.props.course,farthestCompleteExerciseIndex:this.state.progress.current_state.exercise,farthestCompleteLessonIndex:this.state.progress.current_state.lesson})),c["default"].createElement(D.FooterSection,{position:"right"},c["default"].createElement(X["default"],{noun:"exercise",courseSlug:this.state.currentLesson.course_slug,contentSlug:this.state.currentLesson.slug,contentTitle:this.state.currentLesson.title,allowReset:this._mayResetExercise(),courseMeta:this.props.course.meta}))))}});t["default"]=ue},672:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(80),a=n(o),l=s(20);t["default"]=i["default"].createClass({displayName:"locked_exercise_wall",render:function(){var e=this.props.courseStarted?(0,l.t)("views.learning_environment.components.locked_exercise_wall.continue"):this.props.course.title,t=this.props.courseStarted?(0,l.t)("views.learning_environment.components.locked_exercise_wall.started_text"):(0,l.t)("views.learning_environment.components.locked_exercise_wall.unstarted_text"),s=this.props.courseStarted?(0,l.t)("views.learning_environment.components.locked_exercise_wall.resume"):(0,l.t)("views.learning_environment.components.locked_exercise_wall.start");return i["default"].createElement(a["default"],null,i["default"].createElement("h2",null,e),i["default"].createElement("p",null,t),i["default"].createElement("a",{href:this.props.course.resume_path,className:"button button--alternate fcn-wall__nav"},s))}})},673:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(1),a=n(o),l=s(191),u=n(l),c=s(106),d=n(c),h=s(299),f=n(h),p=s(683),m=n(p),g=s(305),v=n(g),y=s(297),_=n(y),b=s(200),k=n(b),w=s(20);t["default"]=a["default"].createClass({displayName:"Brief",mixins:[k["default"]],propTypes:{broadcast:a["default"].PropTypes.func.isRequired,user:a["default"].PropTypes.object.isRequired,modifiers:a["default"].PropTypes.object.isRequired,presenter:a["default"].PropTypes.object.isRequired},getInitialState:function(){return{hideReportForm:!0,showReportConfirmation:!1,objective:(0,d["default"])(this.props.presenter.objective)}},componentDidUpdate:function(){this.listenForLinkClicks(".task--markdown a")},setTask:function(e,t,s){var n=this.props.modifiers.assessments,r=n[e].tasks[t];u["default"].checkAssessment(r.key,s)},scrollToSupport:function(){this.refs.accordion&&this.refs.accordion.openSection("support")},_onStart:function(){this.props.broadcast("start")},render:function(){var e=[{heading:a["default"].createElement("span",{className:"learn-header"},a["default"].createElement("span",{className:"fcn-icon fcn-icon-objective"}),(0,w.t)("views.learning_environment.components.brief.objective")),content:a["default"].createElement("div",{className:"accordion-section-body__padded task--markdown"},a["default"].createElement("div",{dangerouslySetInnerHTML:{__html:this.state.objective}}),this.props.presenter.progress.status<1?a["default"].createElement("center",{className:"accordion-section-control-container"},a["default"].createElement("div",{className:"fcn-button fcn-button--neutral",onClick:this._onStart},"Start")):void 0),key:"objective"}];if(this.props.presenter.progress.status){var t=(0,i["default"])(this.props.modifiers.assessments).pluck("tasks").flatten().value();e.push({heading:a["default"].createElement("span",{className:"fcn-task-section__header"},a["default"].createElement("span",{className:"fcn-icon fcn-icon-instructions"}),(0,w.t)("views.learning_environment.components.brief.tasks"),a["default"].createElement(v["default"],{total:t.length,complete:i["default"].where(t,{done:!0}).length})),content:a["default"].createElement(m["default"],{tasks:this.props.modifiers.assessments,setTask:this.setTask,broadcast:this.props.broadcast}),key:"selfAssessments"}),e.push({heading:a["default"].createElement("span",{className:"support-header"},a["default"].createElement("div",{className:"fcn-icon fcn-icon-support"}),(0,w.t)("views.learning_environment.components.narrative.report_a_bug")),content:a["default"].createElement(_["default"],null),key:"support"})}return a["default"].createElement("div",null,a["default"].createElement(f["default"],{content:e,ref:"accordion"}))}})},674:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=s(659),o=n(i),a=s(297),l=n(a),u=s(106),c=n(u),d=s(299),h=n(d),f=s(1),p=n(f),m=s(200),g=n(m),v=s(20);t["default"]=p["default"].createClass({displayName:"Narrative",mixins:[g["default"]],getInitialState:function(){var e="",t="";return this.props.presenter.instructions&&(e=(0,c["default"])(this.props.presenter.instructions)),this.props.presenter.content&&(t=(0,c["default"])(this.props.presenter.content)),{content:t,instructions:e}},componentDidUpdate:function(e,t){this.listenForLinkClicks(".narrative--markdown a")},scrollToInstructions:function(){this.refs.accordion&&this.refs.accordion.openSection("instructions")},scrollToSupport:function(){this.refs.accordion&&this.refs.accordion.openSection("support")},render:function(){var e,t,s=this.props.presenter;!s.instructions||s.checkpoints&&0!==s.checkpoints.length||(e=p["default"].createElement("div",{className:"accordion-section-body__padded",dangerouslySetInnerHTML:{__html:this.state.instructions}})),s.checkpoints&&s.checkpoints.length>0&&(t=s.checkpoints.map(function(e,t){var n=s.checkpoints[t-1],i=!1;return n&&"satisfied"!==n.status&&(i=!0),p["default"].createElement(o["default"],r({key:"checkpoint-"+t,index:t+1,disabled:i},e))}));var n=[{heading:p["default"].createElement("span",{className:"learn-header"},p["default"].createElement("span",{className:"fcn-icon fcn-icon-learn"}),(0,v.t)("views.learning_environment.components.narrative.learn")),content:p["default"].createElement("div",{className:"accordion-section-body__padded narrative--markdown",dangerouslySetInnerHTML:{__html:this.state.content}}),key:"learn"}];return(e||t)&&n.push({heading:p["default"].createElement("span",null,p["default"].createElement("span",{className:"fcn-icon fcn-icon-instructions"}),(0,v.t)("views.learning_environment.components.narrative.instructions")),content:p["default"].createElement("div",{className:"narrative--markdown"},t,e),key:"instructions"}),n.push({heading:p["default"].createElement("span",{className:"support-header"},p["default"].createElement("div",{className:"fcn-icon fcn-icon-support"}),(0,v.t)("views.learning_environment.components.narrative.report_a_bug")),content:p["default"].createElement(l["default"],null),key:"support"}),p["default"].createElement("div",null,p["default"].createElement(h["default"],{content:n,ref:"accordion"}))}})},675:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(80),a=n(o),l=s(18),u=n(l),c=i["default"].createClass({displayName:"OutageWall",propTypes:{courseSlug:i["default"].PropTypes.string.isRequired},_sendAway:function(){u["default"].track("action","click",{target:"outageRedirect",skill:this.props.courseSlug}),window.location.replace("/learn")},render:function(){return i["default"].createElement(a["default"],null,i["default"].createElement("h2",null,"Sorry about that!"),i["default"].createElement("p",null,"There are a lot of people taking this course right now! It might be unavailable until the crowd clears."),i["default"].createElement("p",null,"Until then, how about taking one of our other courses?"),i["default"].createElement("button",{onClick:this._sendAway,className:"button button--alernative fcn-wall__nav"},"Browse More Courses"))}});t["default"]=c},676:function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=r(i),a=s(2),l=r(a),u=s(4),c=r(u),d=s(10),h=r(d),f=s(761),p=r(f),m=s(3),g=r(m);s(22);var v=s(18),y=(r(v),s(721),s(8)),_=(r(y),s(128)),b=(r(_),s(308)),k=s(41),w=(r(k),s(306)),x=r(w),S=s(135),C=n(S),T=s(104),E=r(T);s(314);var P=s(295),M=r(P),N=s(300),O=r(N),A=s(301),F=r(A),I=s(134),j=r(I),R=s(643),L=r(R),D=s(304),B=r(D),q=s(742),U=r(q),W=s(15),z=r(W),$=o["default"].createClass({displayName:"Projects",propTypes:{project:o["default"].PropTypes.object,course:o["default"].PropTypes.object,selfAssessments:o["default"].PropTypes.object,features:o["default"].PropTypes.object,skill:o["default"].PropTypes.object,progress:o["default"].PropTypes.object,profileImage:o["default"].PropTypes.string},mixins:b.LearnMixins.concat([U["default"],c["default"].listenTo(p["default"],"onSelfAssessmentChange"),h["default"].connect(z["default"])]),onSelfAssessmentChange:function(e,t){this.setState({selfAssessmentsDone:t,selfAssessments:e}),this.state.godexReady&&this.state.adapter.trigger("interface:persist")},getInitialState:function(){var e=p["default"].getInitialState({userProgress:this.props.selfAssessments,projectAssessments:this.props.project.self_assessments,projectSlug:this.props.project.slug,skillSlug:this.props.course.slug,revision:this.props.course.revision}),t={_schema:"Brief",objective:this.props.project.objective},s=this.props.project.components;s.Brief=t;var n=x["default"].forProjectsWithComponents(s);return n.controller=this,E["default"].newAdapter(n),{adapter:n,godexStatus:{type:"",message:"",visible:!1
},godexReady:!1,fileNavReady:!1,restoringFiles:!1,wall:this.anonymousUserWallIfNeeded(),components:s,selfAssessmentsDone:e.allDone,selfAssessments:e.assessments,progress:this.props.progress}},updateExerciseComponent:function(e,t){return void 0===this.state.components[e]?(console.warn("Tried to update a nonexistent component named ",e),void console.trace()):(this.state.components[e]=g["default"].extend(this.state.components[e],t),void this.setState({components:this.state.components}))},addExtrasToAdapter:function(e){var t=this;g["default"].defer(function(){void 0!==t.refs.globalModal&&e.registerComponent&&e.registerComponent("GlobalModal",t.refs.globalModal)})},componentDidMount:function(){var e=this;g["default"].defer(function(){e.addExtrasToAdapter(e.state.adapter)}),this._setWorkspace(this.props.project),this.state.adapter.trigger("interface:ready"),this.state.adapter.extendCache()},componentDidUpdate:function(e,t){this.addExtrasToAdapter(this.state.adapter)},currentWorkspace:function(){var e=this.props.project.workspace;return e},gridSetup:function(e){0===this.state.progress.status&&e.expandSlotInDirection(25,"left")},setUpWorkspace:function(){},componentsToHide:function(){return Object.keys(this.props.project.components).filter(function(e){return"Brief"!==e&&"WebBrowser"!==e})},revealComponents:function(){var e=!0,t=!1,s=void 0;try{for(var n,r=this.componentsToHide()[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;this.refs.componentGrid.expandSlotByName(i)}}catch(o){t=!0,s=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw s}}this.setState({grid:this.state.grid})},wall:function(){return this.state.wall?this.state.wall:this.state.workspaceIdle?o["default"].createElement(B["default"],null):void 0},_uploadInitialSavepoint:function(){this.state.adapter.trigger("godmode:uploadInitial")},clearWall:function(){this.setState({wall:void 0})},completeProject:function(){if(this.props.segment){var e=C.nextContentFromContentSlug(this.props.segment,this.props.project.slug);return e.length?void this.setState({wall:o["default"].createElement(j["default"],{type:"screen",nextContent:e})}):void(window.location=g["default"].get(this.props,"exitPaths.back"))}},getSelfAssessmentTasks:function(){var e=this.state.selfAssessments||[],t=(0,g["default"])(e).pluck("tasks").flatten().value();return t},_contentStudioURL:function(){var e=this.props.revision||"master",t="http://contentstudio.codecademy.com/#/"+e+"/courses",s=this.props.course.slug,n=this.props.project.unit_slug,r=this.props.project.slug;return t+"/"+s+"/units/"+n+"/projects/"+r},render:function(){var e={componentShouldBeDisabled:this.componentShouldBeDisabled,positionCueSignal:this.positionCueSignal},t={readonly:!1,fileNavReady:!0,isProject:!0,assessments:this.state.selfAssessments,features:this.props.features},s={progress:this.state.progress,wall:this.wall()},n=o["default"].createElement(O["default"],{ref:"componentGrid",components:this.state.components,adapter:this.state.adapter,helpers:e,modifiers:t,presenter:s,gridSetup:this.gridSetup,user:{isAnon:!1}}),r=(0,l["default"])({"fcn-projects":!0,francine:!0,"francine--butterbar":this.props.hasButterbar});(0,l["default"])({"fcn-nav-footer":!0,disabled:this.componentShouldBeDisabled("Footer")});return o["default"].createElement("div",{className:r,id:"workspace"},o["default"].createElement(M["default"],{exitPaths:this.props.exitPaths,title:this.props.exitPaths.title,godexStatus:this.state.godexStatus,onAdminChange:this.handleAdminChange,profileImage:this.props.profileImage,uploadInitialSavepoint:this._uploadInitialSavepoint,currentExercise:this.props.project,prerender:this.props.prerender,contentStudioURL:this._contentStudioURL(),nolock:this.state.nolock,uploadSavepoints:this.state.uploadSavepoints}),this.discoveryCues(),o["default"].createElement(F["default"],{ref:"globalModal",broadcast:this.state.adapter.createComponentBroadcastFunction("GlobalModal"),user:{isAnon:!1},environment:"projects"}),n,o["default"].createElement(L["default"],{course:this.props.course,initialUnit:this.props.project.unit_slug,initialLesson:this.props.project.slug,initialExercise:this.props.project.slug,disabled:this.componentShouldBeDisabled("Footer"),exitPaths:this.props.exitPaths,courseTitle:this.props.course.title,courseSlug:this.props.course.slug,courseMeta:this.props.course.meta,projectSlug:this.props.project.slug,projectTitle:this.props.project.title,"private":this.props.project["private"],tasks:this.getSelfAssessmentTasks(),tasksComplete:this.state.selfAssessmentsDone,title:""+this.props.project.title,onProjectComplete:this.completeProject}))}});t["default"]=$},677:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=n(i),a=s(2),l=n(a);t["default"]=o["default"].createClass({displayName:"slot",render:function(){var e=this,t=this.props.slot.geometry,s={position:"absolute",top:100*t.top()+"%",right:100-100*t.right()+"%",bottom:100-100*t.bottom()+"%",left:100*t.left()+"%"},n=(0,l["default"])({"fcn-component":!0,disabled:this.props.modifiers.disabled||this.props.modifiers.collapsed,collapsed:this.props.modifiers.collapsed}),i=(0,l["default"])({"fcn-slot":!0,"fcn-slot--no-top-neighbor":t.soloEdges().top,"fcn-slot--no-right-neighbor":t.soloEdges().right,"fcn-slot--no-bottom-neighbor":t.soloEdges().bottom,"fcn-slot--no-left-neighbor":t.soloEdges().left,collapsed:this.props.modifiers.collapsed,"fcn-slot--collapsed-x":t.withinCollapseThreshold("x"),"fcn-slot--collapsed-y":t.withinCollapseThreshold("y")});return o["default"].createElement("div",{id:"discovery-resize-"+this.props.locations,className:i,style:s,"data-fcn-arrangement":this.props.slot.arrangement.slots},o["default"].createElement("div",{className:n},o["default"].createElement("div",{className:"overlay"}),o["default"].createElement(this.props.component.constructor,{features:this.props.features,presenter:this.props.component.presenter,user:this.props.user,broadcast:this.props.adapter.createComponentBroadcastFunction(this.props.component.name),modifiers:this.props.modifiers,helpers:this.props.helpers,geometry:this.props.slot.geometry,ref:this.props.component.name})),t.withinCollapseThreshold("x")||t.withinCollapseThreshold("y")?o["default"].createElement("div",{className:(0,l["default"])(r({"fcn-slot-snapped-button":!0},"fcn-slot-snapped-button--"+this.props.component.name,!0)),onClick:function(){e.props.expandSlot(e.props.slot.geometry.id)}},o["default"].createElement("div",{className:(0,l["default"])(r({"fcn-slot-snapped-button__icon":!0,"fcn-icon":!0},"fcn-icon-"+(this.props.component.icon||"learn"),!0))})):void 0)},componentDidMount:function(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.refs[this.props.component.name])},componentDidUpdate:function(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.refs[this.props.component.name])}})},678:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(7),a=n(o),l=i["default"].createClass({displayName:"SQLPreview",propTypes:{result:i["default"].PropTypes.string.isRequired},resultTable:function(){var e,t=(0,a["default"])("<div/>");return(0,a["default"])("<div/>").html(this.props.result).find("tr").each(function(s,n){(0,a["default"])(n).find("th").length>0&&(e=(0,a["default"])("<table/>"),t.append(e)),e.append(n)}),t.html()},results:function(){return""===this.props.result?i["default"].createElement("div",{className:"fcn-sqlpreview--schema--undef"},"Run a query to see results."):i["default"].createElement("div",{className:"fcn-sqlpreview--results-table",dangerouslySetInnerHTML:{__html:this.resultTable()}})},render:function(){return i["default"].createElement("div",{className:"fcn-sqlpreview--results"},i["default"].createElement("h3",null,"Query Results"),this.results())}});t["default"]=l},679:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(3),a=n(o),l=i["default"].createClass({displayName:"SQLPreview",propTypes:{schema:i["default"].PropTypes.array.isRequired},schemaTable:function(){return null==this.props.schema||0===this.props.schema.length?i["default"].createElement("div",{className:"fcn-sqlpreview--schema--undef"},"Schema undefined."):a["default"].map(this.props.schema,function(e){var t=a["default"].map(e.Columns,function(e){return i["default"].createElement("tr",null,i["default"].createElement("td",{className:"fcn-sqlpreview--schema--name"},e.Name),i["default"].createElement("td",{className:"fcn-sqlpreview--schema--type"},e.Type))});return i["default"].createElement("table",null,i["default"].createElement("thead",null,i["default"].createElement("tr",null,i["default"].createElement("th",{colSpan:"2"},e.Name,i["default"].createElement("span",{className:"fcn-sqlpreview--schema--rows"},e.Rows," rows")))),i["default"].createElement("tbody",null,t))})},render:function(){return i["default"].createElement("div",{className:"fcn-sqlpreview--schema"},i["default"].createElement("h3",null,"Database Schema"),i["default"].createElement("div",null,this.schemaTable()))}});t["default"]=l},680:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(679),a=n(o),l=s(678),u=n(l),c=i["default"].createClass({displayName:"SQLPreview",getInitialState:function(){return{result:"",schema:[],dump:{}}},render:function(){return i["default"].createElement("div",{className:"fcn-sqlpreview--container"},i["default"].createElement(a["default"],{schema:this.state.schema}),i["default"].createElement(u["default"],{result:this.state.result}))}});t["default"]=c},681:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o),l=s(2),u=n(l),c=i["default"].createClass({displayName:"TaskCheckBox",mixins:[a["default"]],propTypes:{checked:i["default"].PropTypes.bool.isRequired,broadcast:i["default"].PropTypes.func.isRequired},componentDidMount:function(){this.props.broadcast("taskItemMounted")},render:function(){var e=(0,u["default"])({"fcn-task__check":!0,"fcn-task__check--checked":this.props.checked});return i["default"].createElement("div",{"data-cue":"discovery-checklist",className:e},i["default"].createElement("span",{className:"fcn-icon fcn-icon-checkmark fcn-task__icon"}))}});t["default"]=c},682:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o),l=s(2),u=n(l),c=s(681),d=n(c),h=s(106),f=n(h),p=s(640),m=n(p),g=i["default"].createClass({displayName:"TaskItem",mixins:[a["default"]],propTypes:{done:i["default"].PropTypes.bool.isRequired,text:i["default"].PropTypes.string.isRequired,number:i["default"].PropTypes.number.isRequired,setTask:i["default"].PropTypes.func.isRequired,hint:i["default"].PropTypes.string},getInitialState:function(){return{text:(0,f["default"])(this.props.text)}},handleClick:function(){this.props.setTask(!this.props.done)},render:function(){var e=(0,u["default"])({"fit-full":!0,"fcn-task":!0,"fcn-task--complete":this.props.done});return i["default"].createElement("article",{className:e},i["default"].createElement("div",{className:"grid-row accordion-section-body__padded",onClick:this.handleClick},i["default"].createElement("div",{className:"grid-col-1 grid-col--no-padding"},i["default"].createElement(d["default"],{broadcast:this.props.broadcast,checked:this.props.done})),i["default"].createElement("div",{className:"grid-col-1 grid-col--no-padding"},i["default"].createElement("span",{className:"fcn-task__number"},this.props.number,".")),i["default"].createElement("div",{className:"grid-col-10 grid-col--no-padding"},i["default"].createElement("div",{className:"task--markdown",dangerouslySetInnerHTML:{__html:this.state.text}}))),this.props.hint?i["default"].createElement(m["default"],{hint:this.props.hint}):null)}});t["default"]=g},683:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(200),a=n(o),l=s(682),u=n(l),c=s(684),d=n(c);t["default"]=i["default"].createClass({displayName:"TaskList",mixins:[a["default"]],propTypes:{broadcast:i["default"].PropTypes.func.isRequired,tasks:i["default"].PropTypes.array.isRequired,setTask:i["default"].PropTypes.func.isRequired},componentDidUpdate:function(e,t){this.listenForLinkClicks(".task--markdown a")},makeTaskItems:function(e,t,s){var n=this,r=[];return e.forEach(function(e,o){r.push(i["default"].createElement(u["default"],{text:e.text,number:o+1+t,key:"task-"+e.key,hint:e.hint,done:e.done,broadcast:n.props.broadcast,setTask:function(e){n.props.setTask(s,o,e)}}))}),i["default"].createElement("div",null,r)},render:function(){var e=this,t=[],s=0;return this.props.tasks.forEach(function(n,r){n.heading&&n.heading.length>0&&t.push(i["default"].createElement(d["default"],{key:"task-heading-"+r,heading:n.heading})),t.push(e.makeTaskItems(n.tasks,s,r)),s+=n.tasks.length}),i["default"].createElement("div",{className:"fcn-tasks"},i["default"].createElement("span",{className:"fcn-tasks__help"},"Mark the tasks as complete by checking them off"),t)}})},684:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o),l=i["default"].createClass({displayName:"TaskListHeader",mixins:[a["default"]],propTypes:{heading:i["default"].PropTypes.string.isRequired,broadcast:i["default"].PropTypes.func.isRequired},render:function(){return i["default"].createElement("article",{className:"fit-full fcn-task-header"},this.props.heading)}});t["default"]=l},685:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o),l=s(80),u=n(l),c=s(20),d=i["default"].createClass({displayName:"ComingSoonWall",propTypes:{dismiss:i["default"].PropTypes.func.isRequired},mixins:[a["default"]],render:function(){return i["default"].createElement(u["default"],{dismiss:this.props.dismiss},i["default"].createElement("div",null,i["default"].createElement("h2",null,(0,c.t)("views.learning_environment.components.coming_soon_wall.more_coming_soon")),i["default"].createElement("p",null,(0,c.t)("views.learning_environment.components.coming_soon_wall.body_text")),i["default"].createElement("a",{href:"/learn",className:"button button--alternate fcn-wall__nav"},(0,c.t)("views.learning_environment.components.coming_soon_wall.see_more_courses"))))}});t["default"]=d},686:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(32),a=n(o),l=s(80),u=n(l),c=i["default"].createClass({displayName:"CourseCompleteWall",propTypes:{courseName:i["default"].PropTypes.string.isRequired,courseSlug:i["default"].PropTypes.string.isRequired,achievements:i["default"].PropTypes.array.isRequired,dismiss:i["default"].PropTypes.func.isRequired},mixins:[a["default"]],render:function(){var e=this.props.achievements,t=void 0;e.forEach(function(e){/^skill-/.test(e.slug)&&(t=e)});var s=void 0;return s=t?"cc-achievement cc-achievement--"+t.icon:"cc-achievement cc-achievement--code-achievement",i["default"].createElement(u["default"],{dismiss:this.props.dismiss},i["default"].createElement("div",null,i["default"].createElement("h2",null,"Congratulations!"),i["default"].createElement("p",null,i["default"].createElement("span",{className:s})),i["default"].createElement("p",null,"Congratulations on completing the course ",i["default"].createElement("strong",null,this.props.courseName),"! You've learned a new skill and should be proud!"),i["default"].createElement("p",null,"Want to take a look at your profile and see what you've accomplished?"),i["default"].createElement("a",{href:"/profiles/me",className:"button button--alternate fcn-wall__nav"},"SEE YOUR ACHIEVEMENTS")))}});t["default"]=c},687:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(281),i=n(r);t["default"]=i["default"].extend({initialize:function(){},createComponentBroadcastFunction:function(e){return function(){var t=arguments[0],s=["component",e,t].join(":"),n=Array.prototype.slice.call(arguments,1),r=[s].concat(n);this.trigger.apply(this,r)}.bind(this)},_handle:function(e){this._handlers[e].forEach(function(e){e.call(this)}.bind(this))},registerComponent:function(e,t){this._components[e]=t},destroy:function(){this._handle("destroy");for(var e in this._events)this.off(e)},inheritCache:function(e){this._cache=e._cache},extendCache:function(){this._handle("extendCache")}})},688:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(){function t(e,t){void 0!==e[t]&&(l[t].push(e[t]),delete e[t])}var s=i["default"].extend(!0,{mixins:[]},e),n={},r=s.mixins,o=[s.events],l={destroy:[],extendCache:[]};delete s.events,t(s,"destroy"),t(s,"extendCache"),n=a["default"].extend(n,s),void 0!==r&&r.forEach(function(e){t(e,"destroy"),t(e,"extendCache"),o.push(a["default"].extend({},e.events)),delete e.events,n=a["default"].extend(n,e)});var c=u["default"].extend(n),d=new c;return d._handlers=l,d._components={},d._state={},d._cache={},o.forEach(function(e){for(var t in e)d.on(t,e[t].bind(d))}),d}};var r=s(7),i=n(r),o=s(3),a=n(o),l=s(687),u=n(l)},689:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(7);n(r);s(22);var i=s(18),o=(n(i),s(14)),a=n(o);t["default"]={events:{"interface:persist":function(){a["default"].persist()},"component:Brief:start":function(){var e=this;this._components.WebBrowser&&this._components.WebBrowser.home(),this.controller.updateProgress(1,{success:function(){e.controller.revealComponents(),e.controller.setState({progress:{status:1}})}})}}}},690:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:NonPersistentCodeEditor:update":function(e){this.controller.updateExerciseComponent("FullWebPreview",e)},"component:PersistentCodeEditor:update":function(e){this.controller.updateExerciseComponent("FullWebPreview",e)}}}},691:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(21),i=n(r);t["default"]={events:{"component:PersistentCodeEditor:showFileNav":function(e){this._components.GlobalModal.toggleModal("FileTool")},"component:PersistentCodeEditor:openMissingFilesDialog":function(e){this.openMissingFilesDialog(e)},"component:GlobalModal:toggleModal":function(){this._components.GlobalModal.toggleModal("FileTool")},"component:GlobalModal:toggleFileTool":function(){this._components.GlobalModal.closeAddFileTool()},"component:GlobalModal:getConfirmation":function(e,t){this._components.GlobalModal.setState({secondaryModalContent:e,confirmationCB:t})}},openMissingFilesDialog:function(e){var t=e.slice(e.lastIndexOf("/")+1||0,e.length),s=this._components.GlobalModal.resetFilesContent(e,t);this._components.GlobalModal.openSecondaryModal(s),i["default"].increment("francine.filenav.move-file","error")}}},692:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:NonPersistentCodeEditor:update":function(e){this.controller.updateExerciseComponent("NonPersistentCodeEditor",e)}}}},693:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:PersistentCodeEditor:toggleFileTool":function(){this._components.PersistentCodeEditor.toggleFileTool()},"component:PersistentCodeEditor:submit":function(){this.handleWorkspaceSaveAfterSubmit()}}}},694:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={_buildTemplatedFile:function(e){var t=this._components.PresetTemplatedWebPreview.props.presenter.source;return t=t.replace("{{{snippet}}}",e.content),{files:[{filename:"index.html",content:t}]}},events:{"component:PresetTemplatedWebPreview:selectSnippet":function(e){this.controller.updateExerciseComponent("PresetTemplatedWebPreview",this._buildTemplatedFile(e))}}}},695:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(34),i=n(r);t["default"]={events:{"godex:ready":function(){var e=this;i["default"].state.client.on("sql:stdout",function(t){e._components.SQLPreview.setState({result:t.result,schema:t.schema}),""!=t.error?e.controller.setState({errors:{visible:!0,timestamp:(new Date).valueOf(),friendly:t.error,component:"PersistentCodeEditor"},skipTests:!0}):e.controller.setState({skipTests:!1})})}}}},696:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:NonPersistentEditor:update":function(e){},"interface:ready":function(){}}}},697:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(34),i=n(r),o=s(15),a=n(o),l=s(3);n(l);t["default"]={events:{"godex:ready":function(){i["default"].state.client.on("RailsErr",function(e){this._components.Terminal.getActiveTerminal().print(e.RailsError+"\n")}.bind(this))},"lifesaver:restored":function(e){this._components.Terminal&&this._components.Terminal.resetTerminals()},"interface:resized":function(){this._components.Terminal&&this._components.Terminal.onResize()},"component:Terminal:pty":function(e,t){var s=e.split(" "),n=s[0],r=s.slice(1);i["default"].state.client.spawnPty(a["default"].state.workspaceSlug,{Name:n,Args:r},function(e,s){t({fake:!1,ptyStream:s}),s.on("end",function(){t({fake:!0})})})},"component:Terminal:input":function(e,t){i["default"].state.client.execute(a["default"].state.workspaceObject.slug,e,function(s,n){t(e,n.Content,n.Error?1:0)}.bind(this))}}}},698:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={}},699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:PersistentCodeEditor:openedFile":function(){this.dirtyUIState()}},submit:function(){void 0!==this.checkpoints&&this.checkpoints.length>0&&this.controller.refs.componentGrid.expandSlotByName("Narrative"),this.handleWorkspaceSaveAfterSubmit()},handleWorkspaceSaveAfterSubmit:function(){void 0===this.checkpoints||0===this.checkpoints.length||this.controller.state.skipTests?this.cleanUp():(this.dirtyWorkspaceState(),this.runCheckpointTests())}}},700:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:Terminal:result":function(){this.dirtyUIState(),this.dirtyWorkspaceState(),this.runCheckpointTests()},"component:Terminal:pty_result":function(){this.dirtyUIState(),this.dirtyWorkspaceState(),this.runCheckpointTests()}}}},701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={events:{"component:WebBrowser:runTests":function(){this.dirtyUIState(),this.runCheckpointTests()},"component:Narrative:navigateToURL":function(e){this.dirtyUIState(),this.runCheckpointTests()}}}},702:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(55),i=n(r),o=s(14);n(o);t["default"]={handleWorkspaceSaveAfterSubmit:function(){i["default"].refresh()}}},703:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={}},704:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(132),i=n(r);t["default"]={events:{"interface:resized":function(){i["default"].resized()},"interface:resizing":function(){i["default"].resizing()},"component:Brief:taskItemMounted":function(){i["default"].resized()}}}},705:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(18),i=n(r),o=s(41),a=n(o),l=s(104),u=(n(l),s(15)),c=n(u),d=s(14),h=n(d);t["default"]={events:{"component:Narrative:showWall":function(e){this.controller.setState({wall:e})},"component:Narrative:hideWall":function(){this.controller.setState({wall:void 0})},"component:Narrative:fixFiles":function(){this.fixFiles()},"component:GlobalModal:fixFiles":function(){this.fixFiles()},"component:Reflux:fixFiles":function(){this.fixFiles()},"component:PersistentCodeEditor:keepTrying":function(){i["default"].track("exercise","offer_support",{skill:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,failures:this._totalFailures,user_response:"keep_trying"}),this._failures=0},"component:PersistentCodeEditor:showAnswer":function(){i["default"].track("exercise","offer_support",{skill:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,failures:this._totalFailures,user_response:"get_answer"}),this.controller.setState({godexReady:!1}),h["default"].setStatus("Fetching code...","neutral");var e=this.finalSavepointSlug(),t=function(e,t){e?h["default"].setStatus("Something went wrong.","error"):(h["default"].setStatus("Successfully retrieved code.","success"),(0,a["default"])("info","Successfully fetched answer files using Lakitu")),this.controller.setState({godexReady:!0})}.bind(this);this._failures=0,(0,a["default"])("info","Fetching answer files using Lakitu"),this.restoreWorkspace(e,t)},"tester:tested":function(e,t){if(e&&this.controller.state.uploadSavepoints){var s=this.finalSavepointSlug();h["default"].setStatus("Saving workspace checkpoint: "+s+"...","neutral"),this.checkpointWorkspace(s)}e||t||(this._failures++,this._totalFailures++,this._failures===this._cache.failureThreshold&&void 0!==this._components.PersistentCodeEditor&&this._components.PersistentCodeEditor.offerAnswer())},"lifesaver:restored":function(e){this.controller.hideErrors();var t="final"===e;this.controller.setProgressToCurrentExercise(t),"initial"===e&&this._components.WebBrowser&&this._components.WebBrowser.home(),this.dirtyWorkspaceState()}},initialSavepointSlug:function(){return this.controller.state.currentExercise.slug+"-initial"},finalSavepointSlug:function(){return this.controller.state.currentExercise.slug+"-final"},fixFiles:function(){if(!c["default"].isOwner()){var e=confirm("You are not the owner of this workspace. Are you sure you want to restore it?");if(!e)return}i["default"].track("exercise","fix_files",{skill:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,failures:this._totalFailures});var t=this.initialSavepointSlug(),s=function(e,t){e?h["default"].setStatus("Something went wrong","error"):(h["default"].setStatus("Fixed your files","success"),this.controller.setProgressToCurrentExercise(),this.controller.refreshNav()),this.controller.setState({godexReady:!0})}.bind(this);this.controller.setState({godexReady:!1}),h["default"].setStatus("Fixing your files...","neutral"),this.restoreWorkspace(t,s)}}},706:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=(n(r),s(4)),o=(n(i),s(18)),a=(n(o),s(8)),l=(n(a),s(130)),u=(n(l),s(41)),c=n(u),d=s(34),h=n(d),f=s(15),p=n(f),m=s(138),g=n(m),v=s(14),y=n(v),_=s(55),b=n(_),k=4;t["default"]={extendCache:function(){void 0===this._cache.failureThreshold&&(this._cache.failureThreshold=k)},events:{"interface:ready":function(){this._failures=0,this._totalFailures=0},"godex:ready":function(){this.controller.state.uploadSavepoints&&this.uploadInitialSavepoint()},"godmode:uploadInitial":function(){this.uploadInitialSavepoint()}},uploadInitialSavepoint:function(){var e=this.initialSavepointSlug();y["default"].setStatus("Saving workspace checkpoint: "+e+"...","neutral"),this.checkpointWorkspace(e)},restoreWorkspace:function(e,t){var s=this,n=e.split("-").pop();switch((0,c["default"])("info","Restoring workspace using Lakitu: "+e),p["default"].state.workspaceBackend){case"godex":h["default"].state.client.restoreWorkspace(p["default"].state.workspaceSlug,e,function(e,s,n){if(t&&t(s,n),!s){(0,c["default"])("info","Successfully restored workspace using Lakitu"),this.trigger("lifesaver:restored",e);var r=!0,i=!1,o=void 0;try{for(var a,l=g["default"].files[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;y["default"].getFile(u)}}catch(s){i=!0,o=s}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}b["default"].refresh()}}.bind(this,n));break;case"library":p["default"]["interface"].client.restore(p["default"].state.workspaceSlug,e).then(function(){y["default"].initialize().then(function(){var e=!0,t=!1,r=void 0;try{for(var i,o=g["default"].files[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;y["default"].getFile(a)}}catch(l){t=!0,r=l}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw r}}s.trigger("lifesaver:restored",n),b["default"].refresh()},function(e){throw new Error(e)})},function(e){throw new Error(e)});break;default:throw new Error("Unknown workspaceBackend "+p["default"].state.workspaceBackend)}},checkpointWorkspace:function(e){switch(p["default"].state.workspaceBackend){case"godex":h["default"].state.client.checkpointWorkspace(p["default"].state.workspaceSlug,e,function(e){e?y["default"].setStatus("Something went wrong.","error"):y["default"].setStatus("Saved workspace!","success")}.bind(this));break;case"library":y["default"].setStatus("Saving solution to Lakitu","neutral"),p["default"]["interface"].client.solution(p["default"].state.workspaceSlug,e).then(function(){y["default"].setStatus("Saved solution to Lakitu","completed")},function(e){throw y["default"].setStatus("Failed to save solution to Lakitu","error"),new Error(e)});break;default:throw new Error("Unknown workspaceBackend "+p["default"].state.workspaceBackend)}}}},707:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(18),i=n(r),o=s(191),a=n(o),l=s(15),u=(n(l),s(14)),c=n(u);t["default"]={events:{"component:Reflux:fixFiles":function(){var e=this;i["default"].track("project","reset",{project:this.controller.props.project.slug}),a["default"].resetProject();var t=this.initialSavepointSlug(),s=function(t,s){t?c["default"].setStatus("Something went wrong","error"):(c["default"].setStatus("Your project was reset","success"),e.controller.updateProgress(0,{success:function(){e.controller.setProps({progress:{status:0}})}})),e.controller.setState({godexReady:!0})};this.controller.setState({godexReady:!1}),c["default"].setStatus("Resetting your project...","neutral"),this.restoreWorkspace(t,s)},"component:Brief:showWall":function(e){this.controller.setState({wall:e})},"component:Brief:hideWall":function(e){this.controller.setState({wall:void 0})}},initialSavepointSlug:function(){return""}}},708:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _problem_reporter=__webpack_require__(310),_problem_reporter2=_interopRequireDefault(_problem_reporter),_event_tracking=__webpack_require__(18),_event_tracking2=_interopRequireDefault(_event_tracking),_statsd=__webpack_require__(21),_statsd2=_interopRequireDefault(_statsd),_webSCT=__webpack_require__(716),_webSCT2=_interopRequireDefault(_webSCT),_rubySCT=__webpack_require__(715),_rubySCT2=_interopRequireDefault(_rubySCT),_rspecTest=__webpack_require__(714),_rspecTest2=_interopRequireDefault(_rspecTest),_karmaTest=__webpack_require__(713),_karmaTest2=_interopRequireDefault(_karmaTest),_batsTest=__webpack_require__(709),_batsTest2=_interopRequireDefault(_batsTest),_componentTest=__webpack_require__(710),_componentTest2=_interopRequireDefault(_componentTest),_workspaceTest=__webpack_require__(717),_workspaceTest2=_interopRequireDefault(_workspaceTest),_executeFileTest=__webpack_require__(711),_executeFileTest2=_interopRequireDefault(_executeFileTest),_executeTest=__webpack_require__(712),_executeTest2=_interopRequireDefault(_executeTest),_error_recognition=__webpack_require__(725),_logger=__webpack_require__(30),_logger2=_interopRequireDefault(_logger),_activityLogger=__webpack_require__(41),_activityLogger2=_interopRequireDefault(_activityLogger),_WorkspaceActions=__webpack_require__(14),_WorkspaceActions2=_interopRequireDefault(_WorkspaceActions),_WorkspaceStore=__webpack_require__(15),_WorkspaceStore2=_interopRequireDefault(_WorkspaceStore),_WebBrowserActions=__webpack_require__(55),_WebBrowserActions2=_interopRequireDefault(_WebBrowserActions),_userAttributes=__webpack_require__(8),_userAttributes2=_interopRequireDefault(_userAttributes),Testers={
webSCT:_webSCT2["default"],rubySCT:_rubySCT2["default"],rspecTest:_rspecTest2["default"],karmaTest:_karmaTest2["default"],componentTest:_componentTest2["default"],workspaceTest:_workspaceTest2["default"],batsTest:_batsTest2["default"],executeFileTest:_executeFileTest2["default"],executeTest:_executeTest2["default"]},COMPONENT_HINT_ORDER=["PersistentCodeEditor","Terminal","WebBrowser"],evalErrorStacksReported=[];exports["default"]={events:{"interface:ready":function interfaceReady(){this._untestedState={dirtyWorkspace:!1,dirtyUI:!1},this.checkpoints=[],this.controller.setState({adapter:this});var checkpoint=this._loadCheckpoint.bind(this);try{eval(this.controller.state.currentExercise.tests.checkpoints)}catch(e){_statsd2["default"].increment("francine.tester.checkpoints","eval-error"),_WorkspaceActions2["default"].setStatus("Aw, snap! There's an error in the exercise. Please try again later.","error"),this._reportEvalError(e,"Eval error when parsing checkpoints")}0!==this.checkpoints.length||this.controller.state.readonly?(this.checkpoints.forEach(function(e,t){var s=this.controller.isCheckpointComplete(this.controller.state.currentLessonIndex,this.controller.state.currentExerciseIndex,t);e.status=s?"satisfied":"default"},this),this.controller.updateExerciseComponent("Narrative",{checkpoints:this.checkpoints}),this.controller.refreshNav()):this.controller.isExerciseComplete(this.controller.state.currentLessonIndex,this.controller.state.currentExerciseIndex)||this.controller.handleCheckpointUpdate({checkpointIndex:-1})}},_loadCheckpoint:function(e,t){void 0===this.checkpoints&&(this.checkpoints=[]),this.checkpoints.push({label:e,test:t.bind(this),status:"default",message:""})},dirtyWorkspaceState:function(){this._untestedState.dirtyWorkspace=!0},dirtyUIState:function(){this._untestedState.dirtyUI=!0},clearUntestedState:function(){this._untestedState={dirtyUI:!1,dirtyWorkspace:!1}},runCheckpointTests:function(){var e=this;if(!this._cache.runningCheckpointTests&&!_userAttributes2["default"].isAnon()&&!this.controller.state.readonly)if(this._cache.runningCheckpointTests=!0,this._cache.abort=!1,this._components.WebBrowser&&this._untestedState.dirtyWorkspace){var t=!1;_WebBrowserActions2["default"].refresh().then(function(){t=!0,setTimeout(function(){e._startRunningCheckpoints()},750)}),setTimeout(function(){return e._cache.abort?e.cleanUp():void(t||e._startRunningCheckpoints())},1e4)}else this._startRunningCheckpoints()},_startRunningCheckpoints:function(){if(0===this.checkpoints.length)return void this.cleanUp();this._setupBeforeRunning();for(var e=-1,t=0;t<this.checkpoints.length;t++)if("satisfied"!==this.checkpoints[t].status){e=t;break}return-1===e?void this.cleanUp():((0,_activityLogger2["default"])("info","Running checkpoints starting with index "+e),void this._runCheckpointTest(e))},abortCheckpoints:function(){this._cache.runningCheckpointTests&&(this._cache.abort=!0)},_checkForAllPassed:function(){return this.checkpoints.every(function(e){return"satisfied"===e.status})},_getTestsForCheckpoint:function(e){var t={componentTest:Testers.componentTest.bind(this),workspaceTest:Testers.workspaceTest.bind(this),executeFileTest:Testers.executeFileTest.bind(this),webSCT:Testers.webSCT.bind(this),rubySCT:Testers.rubySCT.bind(this),rspecTest:Testers.rspecTest.bind(this),karmaTest:Testers.karmaTest.bind(this),activeBatsTest:Testers.batsTest.bind(this,!1),passiveBatsTest:Testers.batsTest.bind(this,!0),executeTest:Testers.executeTest.bind(this),batsTest:Testers.batsTest.bind(this,!0)},s=function(e,t){t.result({pass:!1,errors:{tool:"",component:""}},"autoFailTest")};return this._state.farthestProgressionAfterRun>this._state.farthestProgressionBeforeRun&&(this._untestedState.dirtyWorkspace||(t.rspecTest=s,t.karmaTest=s,t.webSCT=s,t.rubySCT=s,t.workspaceTest=s,t.executeFileTest=s),this._untestedState.dirtyUI||(t.componentTest=s)),t},_runCheckpointTest:function(e){var t=this;if(void 0===this.checkpoints)return console.warn("No checkpoints found for this exercise."),void this.cleanUp();if(this._cache.abort)return console.info("Aborted running checkpoints at index",e),this.cleanUp();var s=this.checkpoints[e],n={checkpointIndex:e,showPending:function(){t.checkpoints[e].status="pending",t.controller.updateExerciseComponent("Narrative",{checkpoints:t.checkpoints})},result:function(n,r){if(t._cache.abort)return console.info("Aborted running checkpoints at index",e),t.cleanUp();if(s.status=n.pass?"satisfied":"unsatisfied",t.controller.updateExerciseComponent("Narrative",{checkpoints:t.checkpoints}),n.pass)return t.controller.hideErrors(),t._state.farthestProgressionAfterRun=e,e<t.checkpoints.length-1?void t._runCheckpointTest(e+1):((0,_activityLogger2["default"])("info","Ran all checkpoints successfully"),void t.cleanUp());n.errors.component||(n.errors.component=t._chooseComponentForHint());var i=t._state.farthestProgressionAfterRun>t._state.farthestProgressionBeforeRun;if(i){for(var o=e;o<t.checkpoints.length;o++)t._unsetCheckpointState(t.checkpoints[o]);t._state.gotActiveFeedback=!0}else{n.passive?t._unsetCheckpointState(t.checkpoints[e]):t._state.gotActiveFeedback=!0;for(var o=e+1;o<t.checkpoints.length;o++)t._unsetCheckpointState(t.checkpoints[o]);if(n.errors.tool){var a=(0,_error_recognition.recognize)(n.errors.tool);switch(a.probableCause){case _error_recognition.causes.NETWORK_ISSUES:n.errors.friendly="Sorry, it looks like we're experiencing a temporary problem. Please try again!";break;case _error_recognition.causes.BAD_TERMINAL_INSTANCE:n.errors.friendly="Sorry, it looks like we're experiencing a temporary problem. Please try again!",t.incrementSuspicionThatInstanceIsBad();break;case _error_recognition.causes.UNKNOWN_CAUSE:n.errors.friendly="Something has gone wrong. Please try again in a little while.";break;case _error_recognition.causes.USER_ERROR:}t._instrumentRecognizedToolError(a),_logger2["default"].error({message:n.errors.tool,id:a.id,cause:a.probableCause},"platform_tool_errors")}n.passive||t.controller.showErrors(n.errors)}t.controller.updateExerciseComponent("Narrative",{checkpoints:t.checkpoints}),(0,_activityLogger2["default"])("info","Failed on checkpoint index "+e),t.cleanUp()}},r=this._getTestsForCheckpoint(e);if(!_WorkspaceStore2["default"].state.workspaceReady)return void(0,_activityLogger2["default"])("info","Workspace is not ready; aborting checkpoint run at index "+e);try{s.test(r,n),_statsd2["default"].increment("francine.tester.checkpoints","test-eval-success")}catch(i){console.error("Checkpoint test run error:\n"+i),_statsd2["default"].increment("francine.tester.checkpoints","test-eval-error"),n.result({pass:!1,errors:{}}),_WorkspaceActions2["default"].setStatus("Aw, snap! There's an error in the exercise. Please try again later.","error"),this._reportEvalError(i,"Eval error when running checkpoint "+e+": "+i.toString()+"\n"+i.stack)}},_chooseComponentForHint:function(){var e=!0,t=!1,s=void 0;try{for(var n,r=COMPONENT_HINT_ORDER[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;if(this.controller.state.currentExercise.components[i])return i}}catch(o){t=!0,s=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw s}}var a=Object.keys(this.controller.state.currentExercise.components).filter(function(e){return"Narrative"!==e});return a.length>0?a[0]:null},_setupBeforeRunning:function(){this._state.farthestProgressionBeforeRun=-1;for(var e=0;e<this.checkpoints.length;e++)"satisfied"===this.checkpoints[e].status&&(this._state.farthestProgressionBeforeRun=e);this._state.gotActiveFeedback=!1,this._state.farthestProgressionAfterRun=-1,this._state.testerSetupState={}},_runTesterWithSetup:function(e,t,s){var n=this;this._state.testerSetupState[e]!==!0?t.call(this,function(){n._state.testerSetupState[e]=!0,s.call(n)}):s.call(this)},cleanUp:function(){var e=-1;this.checkpoints.forEach(function(t,s){"satisfied"===t.status&&(e=s)},this),1>e&&this._state.gotActiveFeedback&&this._components.Narrative&&this._components.Narrative.scrollToInstructions();var t=this._state.farthestProgressionAfterRun>this._state.farthestProgressionBeforeRun,s=this._checkForAllPassed();_event_tracking2["default"].track("action","submit",{skill:this.controller.props.course.slug,curriculum:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,number_checkpoints:this.checkpoints.length,last_passing_checkpoint_index:e,completed:s,correct:t,submit_type:"exercise_submit"}),this.trigger("tester:tested",s,t),this.clearUntestedState(),this._cache.runningCheckpointTests=!1,this._cache.abort=!1,this.controller.handleCheckpointUpdate({checkpointIndex:this._state.farthestProgressionAfterRun?this._state.farthestProgressionAfterRun:0})},_unsetCheckpointState:function(e){this._updateCheckpointState(e,"default")},_updateCheckpointState:function(e,t){e.status=t},_reportEvalError:function(e,t){-1===evalErrorStacksReported.indexOf(e.stack)&&(_problem_reporter2["default"].report({error:e,preface:t,type:"checkpoint-eval"}),(0,_activityLogger2["default"])("error",t+": '"+e.message.replace('"','"')+"'"),evalErrorStacksReported.push(e.stack))},_instrumentRecognizedToolError:function(e){_statsd2["default"].increment("francine.tester.recognized-errors.id",e.id),_statsd2["default"].increment("francine.tester.recognized-errors.cause",e.probableCause)}}},709:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,s){var n=this;if(void 0===a["default"].state.client)throw new Error("Not connected to Godex; can't run bats test");var r=(new Date).valueOf();a["default"].state.client.updateFiles(this.controller.state.currentExercise.workspace.slug,[{Filename:".test.bats",Content:this.controller.state.currentExercise.tests.files[t]}],function(){a["default"].state.client.execute(n.controller.state.currentExercise.workspace.slug,"bats .test.bats",function(t,n){i["default"].timing("francine.godexer.testers","batsTest",(new Date).valueOf()-r.valueOf());var o="";if(n.Error){var a=n.Content.split("\n"),l=a.filter(function(e){return/not ok/gi.test(e)});l.length>0?o=l[0].replace(/not ok \d/,""):(console.error("Warning: bats error output not as expected. You may have a malformed test file."),console.error(n.Content))}s.result({pass:!n.Error,passive:e,errors:{friendly:o}},"batsTest")}.bind(n))})};var r=s(21),i=n(r),o=s(34),a=n(o),l=s(15);n(l)},710:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var s=this;if(void 0===t)throw new Error("Callback missing from componentTest.");var n={FullWebPreview:this._components.FullWebPreview,WebBrowser:this._components.WebBrowser,CodeEditor:this._components.PersistentCodeEditor};if(this._components.Terminal)!function(){var r=s._components.Terminal.getActiveTerminal();if(r)n.Terminal=r;else{console.info("No active terminal; using noop");var o=function(){return!1};n.Terminal={ranOneOfWithExitCode:o,didRunCommand:o,didRunOneOf:o}}s._terminalPollingID&&window.clearInterval(s._terminalPollingID);var a=100,l=2e3/a,u=0;s._terminalPollingID=window.setInterval(function(){var r=void 0;try{r=e(n,t)}catch(o){r={pass:!1,passive:!0},i["default"].error(o)}void 0===r.passive&&(r.passive=!1),r.pass||u>l?(window.clearInterval(s._terminalPollingID),delete s._terminalPollingID,t.result(r,"componentTest")):u++},a)}();else{var r=e(n,t);void 0===r.passive&&(r.passive=!1),t.result(r,"componentTest")}};var r=s(30),i=n(r)},711:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,s,n,r){if(void 0===i["default"].state.client)throw new Error("Not connected to Godex; can't run bats test");var o=this.controller.state.currentExercise.workspace.slug,l=i["default"].state.client,u=(new Date).valueOf();l.updateFiles(o,[{Filename:e,Content:this.controller.state.currentExercise.tests.files[e]}],function(){l.execute(o,t,function(t,i){a["default"].timing("francine.godexer.testers","executeFileTest",(new Date).valueOf()-u.valueOf()),l.deleteFile(o,e,function(){r.result({pass:!i.Error,passive:n,errors:{friendly:s}},"executeFileTest")})})})};var r=s(34),i=n(r),o=s(21),a=n(o)},712:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,s){if(void 0===i["default"].state.client)throw new Error("Not connected to Godex; can't run SCT");i["default"].state.client.execute(this.controller.currentWorkspace().slug,e,function(e,n){var r=t(n.Error,n.Content);s.result(r,"executeTest")})};var r=s(34),i=n(r),o=s(21);n(o)},713:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(136),a=n(o),l=s(21),u=n(l),c=s(14),d=n(c),h=s(34),f=n(h),p=s(131),m=n(p),g=function(e,t){if(!f["default"].state.ready)throw new Error("Not connected to Godex; can't run karma test");t.showPending();var s=(i["default"].get(this.controller,"state.currentExercise.workspace.slug"),(new Date).valueOf());d["default"].updateFiles([new a["default"]({path:"test/test.js",content:this.controller.state.currentExercise.tests.files[e]})]).then(function(){m["default"].execute("/usr/local/lib/node_modules/karma/bin/karma start .karma.conf.js").then(function(e){u["default"].timing("francine.godexer.testers","karmaTest",(new Date).valueOf()-s.valueOf());var n=e.Content.trim().split("\n"),r=void 0,i=void 0,o="",a="",l={};try{if(r=JSON.parse(n[n.length-1]),r.summary.failed>0)for(var c=r.result[Object.keys(r.result)[0]],d=0;d<c.length;d++)if(!c[d].success){var h=c[d].description;o+=h+"\n"}0===r.summary.failed&&r.summary.success>0?i=!0:0===r.summary.failed&&0===r.summary.success?(i=!1,a=n.slice(4,n.length-1).join()):r.summary.failed>0&&(i=!1),o?l.friendly=o:a&&(l.tool=a),t.result({pass:i,errors:Object.assign({},l)},"karmaTest")}catch(f){var p=e.Content.split("\n")[0];t.result({pass:!1,errors:{tool:p}},"karmaTest")}},function(e){t.result({pass:!1,errors:{tool:"Failed to test your code"}}),u["default"].increment("francine.godexer.testers.karmaTest","executeErr")})},function(){})};t["default"]=g},714:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(void 0===i["default"].state.client)throw new Error("Not connected to Godex; can't run rspec test");t.showPending();var s=(new Date).valueOf();i["default"].state.client.updateFiles(this.controller.state.currentExercise.workspace.slug,[{Filename:"spec/spec.rb",Content:this.controller.state.currentExercise.tests.files[e]}],function(e,n){i["default"].state.client.execute(this.controller.state.currentExercise.workspace.slug,"bundle exec rspec --format j spec/spec.rb",function(e,n){a["default"].timing("francine.godexer.testers","rspecTest",(new Date).valueOf()-s.valueOf());var r,i=n.Content.split("\n");try{r=JSON.parse(i[i.length-1]);var o="";if(r.summary.failure_count>0)for(var l=0;l<r.examples.length;l++)if("failed"===r.examples[l].status){var u=r.examples[l].exception.message;o+=u+"\n"}o=o.split("Diff:")[0];var c=0===r.summary.failure_count;t.result({pass:c,errors:{friendly:o}},"rspecTest")}catch(d){var h=n.Content.split("\n");h=h.filter(function(e){return!/warning/gi.test(e)});var f=new RegExp("/.*"+this.controller.currentWorkspace().slug+"/","g");h[0]=h[0].replace(f,""),t.result({pass:!1,errors:{tool:h[0]}},"rspecTest")}}.bind(this))}.bind(this))};var r=s(34),i=n(r),o=s(21),a=n(o)},715:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(void 0===i["default"].state.client)throw new Error("Not connected to Godex; can't run SCT");var s=(new Date).valueOf();this._runTesterWithSetup("rubySCT",function(e){var t=this._components.PersistentCodeEditor.props.presenter.files;i["default"].state.client.run(a["default"].state.workspaceSlug,t[0].filename,function(t,s){e.call(this)})},function(){i["default"].state.client.updateFiles(a["default"].state.workspaceSlug,[{Filename:e,Content:this.controller.state.currentExercise.tests.files[e]}],function(){i["default"].state.client.sct(this.controller.state.currentExercise.workspace.slug,e,function(e,n){u["default"].timing("francine.godexer.testers","rubySCT",(new Date).valueOf()-s.valueOf()),t.result({pass:n.Pass,errors:{friendly:n.Hint}},"rubySCT")})}.bind(this))})};var r=s(34),i=n(r),o=s(15),a=n(o),l=s(21),u=n(l)},716:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var s=this.controller.state.currentExercise.tests.files[e],n=!1,r=this._components.WebBrowser.refs.browser;if(void 0===r)return void t.result({pass:!1,errors:{friendly:"Oops! Something went wrong. Please try again."}},"webSCT");switch(t.showPending(),u["default"].state.workspaceBackend){case"godex":if(0===d["default"].state.history.length)return void t.result({pass:!1,errors:{friendly:"Oops! Something went wrong. Please try again."}},"webSCT");var i=function o(e){var s=e.data;"webSCT:response"===s.event&&(e.target.removeEventListener(e.type,o),t.result({pass:void 0===s.error,errors:{friendly:s.error}},"webSCT"),n=!0)};window.addEventListener("message",i),r.getIframe().contentWindow.postMessage({event:"webSCT:request",code:s},"*"),setTimeout(function(){n||(a["default"].increment("francine.tester.webSCT","timeout"),t.result({pass:!1,errors:{friendly:"No response received from web browser"}},"webSCT"))},2e3);break;case"library":r.runLegacySCT(s,function(e,s){e?t.result({pass:!0,errors:{}},"webSCT"):t.result({pass:!1,errors:{friendly:s}},"webSCT")});break;default:throw new Error("Can't handle workspaceBackend \""+u["default"].state.workspaceBackend+'"')}};var r=s(1),i=(n(r),s(17)),o=(n(i),s(21)),a=n(o),l=s(15),u=n(l),c=s(107),d=n(c)},717:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t={fileContains:function(e,t,s){i["default"].state.client.getFile(a["default"].state.workspaceSlug,e,"text",function(e,n){if(e)s(!1);else{var r=new RegExp(t).test(n.Content);s(r)}})},fileExists:function(e,t){i["default"].state.client.getFile(a["default"].state.workspaceSlug,e,"text",function(e,s){t(!e)})}};e(t)};var r=s(34),i=n(r),o=s(15),a=n(o)},718:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(281),i=n(r),o={PersistentCodeEditor:"CodeEditor",NonPersistentCodeEditor:"CodeEditor",FullWebPreview:"Preview",TemplatedWebPreview:"Preview",PresetTemplatedWebPreview:"Preview",WebBrowser:"Preview",Terminal:"Terminal",OutputTerminal:"Terminal",Brief:"Narrative",SQLPreview:"SQLPreview"};t["default"]=i["default"].extend({initialize:function(){this.arrangements={},this.registerLayouts([{Narrative:"03"},{Narrative:"03",CodeEditor:"1245"},{Narrative:"03",Preview:"1245"},{Narrative:"03",Terminal:"1245"},{Narrative:"03",Image:"1245"},{Narrative:"03",SQLPreview:"1245"},{Narrative:"03",CodeEditor:"14",Preview:"25"},{Narrative:"03",CodeEditor:"14",Image:"25"},{Narrative:"03",CodeEditor:"14",Terminal:"25"},{Narrative:"03",CodeEditor:"14",SQLPreview:"25"},{Narrative:"03",CodeEditor:"1",Preview:"25",Terminal:"4"},{Narrative:"03",CodeEditor:"1",Image:"25",Terminal:"4"},{Narrative:"03",Preview:"14",Image:"25"},{Narrative:"03",Preview:"25",Terminal:"14"},{Narrative:"03",Terminal:"45",Image:"12"}])},registerLayouts:function(e){e.forEach(function(e){this.registerLayout(e)}.bind(this))},registerLayout:function(e){var t=Object.keys(e).sort().join("_"),s={};for(var n in e)s[n]={slots:""+e[n],cols:this._determineColForSlots(e[n])};this.arrangements[t]=s},_determineColForSlots:function(e){e+="";var t="";return/[03]/.test(e)&&(t+="1"),/[14]/.test(e)&&(t+="2"),/[25]/.test(e)&&(t+="3"),t},getArrangement:function(e){return this.arrangements[this.buildComponentName(e)]},arrangementAmong:function(e,t){var s=this.getArrangement(t);if(void 0===s)throw new Error("Couldn't find layout for "+this.buildComponentName(t));return s[o[e._schema]]||s[e._schema]},buildComponentName:function(e){return Object.keys(e).map(function(e){return o[e]||e}).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).join("_")}})},719:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=s(1),u=n(l),c=s(1031),d=n(c),h=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){return u["default"].createElement("section",{className:d["default"].platform},this.props.Header,this.props.Main,this.props.children,this.props.Footer)}}]),t}(u["default"].Component);h.propTypes={platformPage:u["default"].PropTypes.object,Main:u["default"].PropTypes.node,Header:u["default"].PropTypes.node,Footer:u["default"].PropTypes.node,children:u["default"].PropTypes.node},t["default"]=h},720:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){window.__debug__[e]=t},window.__debug__={}},721:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Experiment=void 0;var o=s(1115),a=n(o);t.Experiment=function(){function e(t,s,n){r(this,e),this.slug=t+"",this.buckets=s,this.bucket=this._getBucket(this.slug,s,n)}return i(e,[{key:"_getBucket",value:function(e,t,s){for(var n=(0,a["default"])(s+e),r=parseInt(n.substring(0,10),16)%100,i=0,o=0;o<t.length;o++){if(r>=i&&r<i+t[o])return o;i+=t[o]}return t.length-1}}]),e}()},722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={disableScrolling:function(){document.addEventListener("touchmove",function(e){e.preventDefault()})},fixHeight:function(){if(navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&window.innerHeight!=document.documentElement.clientHeight){var e=function(){document.documentElement.style.height=window.innerHeight+"px",0!==document.body.scrollTop&&window.scrollTo(0,0)};window.addEventListener("scroll",e,!1),window.addEventListener("orientationchange",e,!1),e(),document.body.style.webkitTransform="translate3d(0,0,0)"}}}},723:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=s(30),a=n(o),l=s(3),u=n(l),c=["navigationStart","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventEnd","domComplete","loadEventEnd"],d=["firstPaintTime","firstPaintAfterLoadTime"],h=["getGodexInstanceStart","godexConnectStart","godexConnectEnd","godexReady"],f=c.concat(d).concat(h),p=c.concat(h),m=function(){function e(t){r(this,e),this.measurements=[],this.measurementsIndex={},this._measurementsRegistered={},this.zero=window.performance.timing[c[0]],this.facets=t}return i(e,[{key:"sort",value:function(){this.measurements.sort(function(e,t){return e.value-t.value})}},{key:"fetchStandardEvents",value:function(){if(!window.performance||!window.performance.timing)return null;var e=window.performance.timing,t=!0,s=!1,n=void 0;try{for(var r,i=c[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,a=e[o];if(0!==a){var l=a-this.zero;this.registerEvent(o,l)}}}catch(u){s=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}if(window.chrome&&window.chrome.loadTimes){var h=window.chrome.loadTimes(),f=!0,p=!1,m=void 0;try{for(var g,v=d[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var o=g.value,a=1e3*h[o];if(0!==a){var l=Math.round(a-this.zero);this.registerEvent(o,l)}}}catch(u){p=!0,m=u}finally{try{!f&&v["return"]&&v["return"]()}finally{if(p)throw m}}}}},{key:"registerEvent",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?(new Date).valueOf()-this.zero:arguments[1];if(-1===f.indexOf(e))throw new Error("Unexpected custom event '"+e+"'");return void 0!==this.measurementsIndex[e]?void console.warn("Attempt to register event '"+e+"' more than once"):(this.measurementsIndex[e]=t,this.measurements.push({event:e,value:t}),void this._uploadIfComplete())}},{key:"get",value:function(){return this.sort(),this.measurements}},{key:"_uploadIfComplete",value:function(){var e=this;if(!this._uploaded){var t=!0,s=!1,n=void 0;try{for(var r,i=p[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(void 0===this.measurementsIndex[o])return}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}setTimeout(function(){e._upload()},5e3),this._uploaded=!0}}},{key:"_upload",value:function(){var e={metric:"TTG"},t=!0,s=!1,n=void 0;try{for(var r,i=f[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,l=this.measurementsIndex[o];void 0===l&&(l=""),e[o]=l}}catch(c){s=!0,n=c}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}e=u["default"].extend(e,this.facets);var d=f.concat(Object.keys(this.facets).sort());a["default"].info(e,"learning_environment_performance",d)}}],[{key:"supported",value:function(){return window.performance&&window.performance.timing}}]),e}();t["default"]=m},724:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=null,n=null;t["default"]={save:function(){if(s=document.activeElement,s&&window.getSelection){var e=window.getSelection();n="Range"===e.type?e.getRangeAt(0):null}},restore:function(){if(s&&(s.focus(),n&&window.getSelection)){var e=window.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(n)}}}},725:function(e,t){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=!0,s=!1,n=void 0;try{for(var r,i=o[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(a.test(e))return a}}catch(e){s=!0,n=e}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}return null}var r=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.recognize=n;var i=t.causes={USER_ERROR:"USER_ERROR",BAD_TERMINAL_INSTANCE:"BAD_TERMINAL_INSTANCE",NETWORK_ISSUES:"NETWORK_ISSUES",UNKNOWN_CAUSE:"UNKNOWN_CAUSE"},o=[],a=function(){function e(t,n,r){s(this,e),this.id=t,this.matcher=n,this.probableCause=r}return r(e,[{key:"test",value:function(e){return this.matcher.test(e)}}]),e}();o.push(new a("PHANTOMJS_TIMEOUT",/Trying to start PhantomJS again/,i.BAD_TERMINAL_INSTANCE)),o.push(new a("UNKNOWN_ERROR",/.*/,i.UNKNOWN_CAUSE))},726:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=s(597),a=n(o),l=s(72),u=n(l),c=function h(e,t){r(this,h),this.status=e,this.body=t},d=function(){function e(t){r(this,e),this.workspace=t}return i(e,[{key:"GET",value:function(e){if(""===e)return"";var t=new u["default"](e).path();t=t.replace(/^\//,"").replace(/\/$/,"");var s=this.resolve(t);return s=s.replace(/^\//,"").replace(/\/$/,""),this.workspace.exists(s)?new c(200,(0,a["default"])(this.workspace,s,{})):new c(404,"Page Not Found")}},{key:"resolve",value:function(e){switch(e){case"":case"/":return"/index.html";default:return e}}}]),e}();t["default"]=d},727:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(624),a=n(o),l=s(8),u=n(l);t["default"]={anonymousUserWallIfNeeded:function(){return u["default"].isAnon()?i["default"].createElement(a["default"],{signUpForm:this.props.modals.signUp,signInForm:this.props.modals.signIn}):null}}},728:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(8),i=n(r);t["default"]={componentShouldBeDisabled:function(e){switch(e){case"Terminal":case"OutputTerminal":case"WebBrowser":case"PersistentCodeEditor":if(!this.state.workspaceReady)return!0;default:if(this.isExerciseLocked&&this.isExerciseLocked()||i["default"].isAnon())return!0}return!1}}},729:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r);t["default"]={getInitialState:function(){},debugWireframe:function(){var e=["red","green","blue","orange","purple","pink"];return this.state.grid.slotsList.map(function(t,s){return i["default"].createElement("div",{key:"slotWireframe"+s,style:{border:"1px solid "+e[s],color:e[s],position:"absolute",pointerEvents:"none",top:100*t.top()+"%",left:100*t.left()+"%",bottom:100-100*t.bottom()+"%",right:100-100*t.right()+"%",padding:10}},i["default"].createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}},t.id))})},renderDebugLayer:function(){return this.state.showDebugWireframe?this.debugWireframe():null}}},730:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(72),i=n(r),o=s(107),a=n(o);t["default"]={loadedURL:function(e,t){void 0===t&&(t=1);var s=new i["default"](e),n=a["default"].state.history.filter(function(e){return e.displayUrl.path()===s.path()});return n.length>=t},loadedOneOf:function(e,t){for(var s=0;s<e.length;s++)if(this.loadedURL(e[s],t))return!0}}},731:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(202),i=n(r),o=s(756),a=n(o);t["default"]={codeContains:function(e,t){var s=i["default"].getFiles().filter(function(t){return t.path==e||new RegExp(e).test(t.path)});if(1!==s.length||void 0===s||void 0===s[0].content)return!1;
s=s[0];var n=new RegExp(t);return n.test(s.content)},hasOpened:function(e){return a["default"].hasOpened(e)}}},732:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={didRunOneOf:function(e){var t=!0,s=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(this.didRunCommand(o))return!0}}catch(a){s=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}},didRunCommand:function(e){return this.state.fake?this.state.history.some(function(t){return e instanceof RegExp?e.test(t.input):t.input==e},this):this.realTerminalText().search(e)>=0},ranOneOfWithExitCode:function(e,t){return this.didRunOneOf(e)}}},733:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(631),i=n(r),o=s(1),a=n(o),l=s(4),u=n(l),c=s(755),d=n(c);t["default"]={mixins:[u["default"].connect(d["default"],"activeDiscoveryCues")],getInitialState:function(){return{activeDiscoveryCues:d["default"].getActiveCues()}},componentDidMount:function(){this.unsubscribe=d["default"].listen(this.onCueChange)},componentWillUnmount:function(){this.unsubscribe()},onCueChange:function(e){this.setState({activeDiscoveryCues:e})},discoveryCues:function(){for(var e=[],t=this.state.activeDiscoveryCues,s=0;s<t.length;s++)e.push(a["default"].createElement(i["default"],{key:"cue-"+t[s].target,cue:t[s]}));return e}}},734:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={showErrors:function(e){e&&(e.visible=!0,e.timestamp=(new Date).valueOf(),this.setState({errors:e}))},hideErrors:function(){this.state.errors.visible=!1,this.state.errors.timestamp=(new Date).valueOf(),this.setState({errors:this.state.errors})}}},735:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(722),i=n(r),o=s(42);n(o);t["default"]={componentWillMount:function(){var e=this;i["default"].disableScrolling(),i["default"].fixHeight(),window.addEventListener("resize",function(){void 0!==e.state.adapter&&e.state.adapter.trigger("interface:resized")})}}},736:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={resetFilesContent:function(e,t){return{title:"Whoa there!",message:t+" has been moved. This will cause problems with this exercise. Please move "+t+" back to "+e+", or reset your files.",buttons:[{title:"Reset Files",action:function(){var e=this.resetFilesConfirmationContent();this.openSecondaryModal(e)}.bind(this)},{title:"ok",action:this.cancelAndCloseSecondaryModal}]}},resetFilesConfirmationContent:function(){return{title:"Reset Your Files?",message:"This will overwrite your existing files, and reset your progress to the beginning of this exercise",buttons:[{title:"Confirm",action:function(){this.toggleModal("FileTool"),this.props.broadcast("fixFiles")}.bind(this)},{title:"Cancel",action:this.cancelAndCloseSecondaryModal}]}}}},737:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=(n(r),s(17)),o=n(i),a=s(309);t["default"]={componentDidMount:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},componentWillUnmount:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},onMouseDown:function(e){0===e.button&&this.handleMouseDown&&(this._buildPosns(e),this.handleMouseDown(e))},onMouseUp:function(e){if(this.handleMouseUp){if(void 0!==e._dispatchIDs)return;this._buildPosns(e),this.handleMouseUp(e)}},onMouseMove:function(e){if(this.handleMouseMove){if(void 0!==e._dispatchIDs)return;this._buildPosns(e),this.handleMouseMove(e,this.state.lastMouseMoveEvent),this.state.lastMouseMoveEvent=e}},_buildPosns:function(e){var t=o["default"].findDOMNode(this).getBoundingClientRect();e.offsetPosn=new a.Posn(e.pageX-t.left,e.offsetY-t.top),e.pagePosn=new a.Posn(e.pageX,e.pageY)}}},738:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=n(r),o=s(18),a=n(o),l=s(41),u=n(l);t["default"]={refreshNav:function(){this.setState({mayProceed:this.canAccessNextExercise()})},navigate:function(e,t,s){this.state.adapter.abortCheckpoints(),0>t&&(e--,t=this.props.course.lessons[this.props.course.lessons_order[e]].exercises_order.length-1);var n=this.props.course.lessons[this.props.course.lessons_order[e]],r=n.exercises[n.exercises_order[t]],o=this.isAccessible(e,t,0);if(o||t===this.state.currentExerciseIndex+1&&this.canAccessNextExercise()){if(t>=this.state.currentLesson.exercises_order.length&&e>=this.state.currentLessonIndex){if(this.props.segment)return this.setState({shouldShowCompletionModal:!0});e++,n=this.props.course.lessons[this.props.course.lessons_order[e]],t=0,r=n.exercises[n.exercises_order[t]],(0,u["default"])("info","No path segment found for '"+this.props.course.slug+"'")}var l=!this.isOnFarthestUnlockedExercise(this.state.progress,e,t);if(l&&o&&this.state.uploadSavepoints)return this.closeDrawer(),void alert("Going backwards with the Upload Savepoints box checked is BAD. Don't do that. :(");var c=this.getAdapter(r);s=i["default"].extend({push:!0},s),s.push&&window.history.pushState({exerciseIndex:t,lessonIndex:e},r.title,r.path+location.search),this.setState({currentExerciseIndex:t,currentExercise:r,currentLessonIndex:e,currentLesson:n,adapter:c,disabled:!1,wall:void 0}),a["default"].track("visit","exercise",{skill:this.props.course.slug,lesson:n.slug,exercise:r.slug}),(0,u["default"])("info","Navigated to exercise '"+r.slug+"'")}else console.warn("Advancement blocked due to insufficient progress")}}},739:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),i=n(r),o=s(675),a=n(o),l=s(759),u=n(l),c=s(18),d=n(c);t["default"]={componentDidMount:function(){u["default"].listen(this.apologizeForOutage)},apologizeForOutage:function(){d["default"].track("visit","outage_apology",{course:this.props.course.slug}),this.setState({wall:i["default"].createElement(a["default"],{courseSlug:this.props.course.slug})})}}},740:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(723),i=n(r);t["default"]={getInitialState:function(){var e=this;if(!i["default"].supported())return{};var t=new i["default"]({workspace:this.currentWorkspace().slug});return window.onload=function(){setTimeout(function(){e.state.performanceMeasurements.fetchStandardEvents()},5e3)},{performanceMeasurements:t}},registerPerformanceMeasurement:function(e,t){this.state.performanceMeasurements&&this.state.performanceMeasurements.registerEvent(e,t)},getPerformanceMeasurements:function(){return this.state.performanceMeasurements?this.state.performanceMeasurements.get():null}}},741:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return{init:function(){this.getDefaultState?e||i["default"].error({message:"PersistLocal mixin requires a string key to be passed in."},"javascript_errors"):i["default"].error({message:"PersistLocal mixin requires method: getDefaultState"},"javascript_errors")},getInitialState:function(){var e=this.getPersistedState();return e?e:this.getDefaultState()},getPersistedState:function(){try{var t=localStorage.getItem("PersistLocalStore-"+e);if(t)return JSON.parse(t)}catch(s){i["default"].error({message:"Cannot get persisted state for "+e},"javascript_errors")}return null},preEmit:function(t){try{localStorage.setItem("PersistLocalStore-"+e,JSON.stringify(t))}catch(s){i["default"].error({message:"Cannot set persisted state for "+e},"javascript_errors")}}}};var r=s(30),i=n(r)},742:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(7),i=n(r);s(22),t["default"]={updateProgress:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i["default"].extend({success:function(){},error:function(){}},t),i["default"].ajax({type:"POST",url:"/courses/"+this.props.course.slug+"/projects/"+this.props.project.slug+"/progress",data:{status:e,r:this.props.course.revision},success:t.success,error:t.error})}}},743:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(7),i=n(r);s(22);var o=s(18),a=(n(o),s(8)),l=n(a),u=s(1),c=n(u),d=s(686),h=n(d);t["default"]={getInitialProgress:function(e){return(void 0===e||void 0===e.current_state||void 0===e.current_state.lesson)&&(e={current_state:{lesson:0,exercise:0,checkpoint:0}}),e},_isStateInOrder:function(e,t){return e.lesson!=t.lesson?e.lesson<t.lesson:e.exercise!=t.exercise?e.exercise<t.exercise:e.checkpoint<t.checkpoint},_isStateEqual:function(e,t){return e.lesson==t.lesson&&e.exercise==t.exercise&&e.checkpoint==t.checkpoint},_compareState:function(e,t){return this._isStateEqual(e,t)?0:this._isStateInOrder(e,t)?-1:1},_compareWithCurrentProgress:function(e,t,s){var n={lesson:e,exercise:t,checkpoint:s};return this._compareState(n,this.state.progress.current_state)},_uploadProgress:function(e,t,s,n,r){var o="/learn/update_progress";i["default"].ajax({type:"POST",url:o,data:{course_id:e.slug,r:e.revision,new_progress:s,old_progress:t},success:function(e){e&&e.achievements&&e.achievements.length>0?(this.setState({achievements:e.achievements}),e.achievements.filter(function(e){return/Course Completed/.test(e.name)}).length>0&&this.setState({wall:c["default"].createElement(h["default"],{courseSlug:this.props.course.slug,courseName:this.props.course.title,achievements:e.achievements,dismiss:this._clearWall})})):this.setState({acheivements:{}})}.bind(this),error:r})},getAchievements:function(){return this.state.achievements},farthestCompleteExerciseIndex:function(){return this.props.progress.current_state.exercise},farthestCompleteLessonIndex:function(){return this.props.progress.current_state.lesson},isActiveCheckpoint:function(e,t,s){var n=this.state.progress.current_state;return e===n.lesson&&t===n.exercise&&s===n.checkpoint},isAccessible:function(e,t,s){return this.state.nolock?!0:this._compareWithCurrentProgress(e,t,s)<=0},isCourseStarted:function(){if(void 0===this.state.progress)return!1;var e=this.state.progress.current_state;return!(0===e.lesson&&0===e.exercise&&0===e.checkpoint)},isExerciseComplete:function(e,t){return this.isAccessible(e,t+1,0)},isCheckpointComplete:function(e,t,s){return this._compareWithCurrentProgress(e,t,s)<0},canAccessNextExercise:function(){return this.isAccessible(this.state.currentLessonIndex,this.state.currentExerciseIndex+1,0)},isOnFarthestUnlockedExercise:function(){var e=arguments.length<=0||void 0===arguments[0]?this.state.progress:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.state.currentLessonIndex:arguments[1],s=arguments.length<=2||void 0===arguments[2]?this.state.currentExerciseIndex:arguments[2];return e.current_state.exercise===s&&e.current_state.lesson===t},numCompletedExercisesForLesson:function(e){var t=this.props.course.lessons_order[e],t=this.props.course.lessons[t];return e<this.state.progress.current_state.lesson?t.exercises_order.length:e===this.state.progress.current_state.lesson?this.state.progress.current_state.exercise:0},handleCheckpointUpdate:function(e){if(this.isOnFarthestUnlockedExercise()){e.state=this.state,e.skill=this.props.course;var t=e.state.currentLessonIndex,s=e.state.adapter.checkpoints||[],n=e.state.currentExerciseIndex,t=e.state.currentLessonIndex,r=0;e.checkpointIndex+1==s.length?e.state.currentExerciseIndex+1>e.state.currentLesson.exercises_order.length-1?(t++,n=0):n=e.state.currentExerciseIndex+1:r=e.checkpointIndex+1,this.setAndUpdateProgressState({lessonIndex:t,exerciseIndex:n,checkpointIndex:r,course:e.course,oldProgress:e.state.progress,success:e.success,error:e.error})}},setAndUpdateProgressState:function(e){e.course=this.props.course,e.oldProgress=this.state.progress;var t={lesson:e.lessonIndex,exercise:e.exerciseIndex,checkpoint:e.checkpointIndex},s={current_state:t};return l["default"].isAnon()||this._uploadProgress(e.course,this.state.progress,s,e.success,e.error),this.state.progress=s,this.setState({progress:s}),s}}},744:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(130),i=n(r),o=s(55),a=n(o),l=s(14),u=n(l),c=s(8),d=n(c);t["default"]={_setWorkspace:function(e){var t=this;if(!d["default"].isAnon()){var s=e.workspace;s.user_id=this.props.collaborationSession.userId||window.CCDATA.current_user._id,e?e.components.PersistentCodeEditor&&i["default"].publishFilenames(e.components.PersistentCodeEditor.files):this.props.project&&this.props.project.components.PersistentCodeEditor&&i["default"].publishFilenames(this.props.project.components.PersistentCodeEditor.files),u["default"].setWorkspace(s).then(function(){e&&e.components.WebBrowser&&(a["default"].clearHistory(),e.components.WebBrowser.url&&a["default"].load(e.components.WebBrowser.url)),t.state.adapter.trigger("godex:ready"),t.setUpWorkspace()},function(){})}}}},745:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=s(1),d=n(c),h=s(671),f=n(h),p=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.platformPage,s=e.exercisePage,n=r(e,["platformPage","exercisePage"]);return d["default"].createElement(f["default"],l({},n,t,s))}}]),t}(d["default"].Component);p.propTypes={platformPage:d["default"].PropTypes.object,exercisePage:d["default"].PropTypes.object},t["default"]=p},746:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=s(1),d=n(c),h=s(676),f=n(h),p=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.platformPage,s=e.projectPage,n=r(e,["platformPage","projectPage"]);return d["default"].createElement(f["default"],l({},n,t,s))}}]),t}(d["default"].Component);p.propTypes={platformPage:d["default"].PropTypes.object,projectPage:d["default"].PropTypes.object},t["default"]=p},747:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Quiz=void 0;var i=s(4),o=n(i),a=s(1),l=n(a),u=s(17),c=n(u),d=s(26),h=s(133),f=n(h),p=s(748),m=n(p),g=s(751),v=n(g),y=s(2),_=n(y),b=s(1027),k=n(b),w=s(201),x=n(w),S=s(137),C=n(S),T=s(90),E=n(T),P=s(25),M=t.Quiz=l["default"].createClass({displayName:"Quiz",mixins:[o["default"].connect(x["default"])],propTypes:{quiz:l["default"].PropTypes.object.isRequired,quizId:l["default"].PropTypes.string.isRequired,unitSlug:l["default"].PropTypes.string.isRequired,taken:l["default"].PropTypes.bool,scoreUrl:l["default"].PropTypes.string.isRequired,exitPaths:l["default"].PropTypes.object.isRequired},componentDidMount:function(){this._resizeQuizElements(),window.addEventListener("resize",this._handleResize)},componentWillUnmount:function(){window.removeEventListener("resize",this._handleResize)},componentDidUpdate:function(){this._hasCodeBlock()&&this._resizeQuizElements(!1)},_handleResize:function(){this._resizeQuizElements(!0)},_resizeQuizElements:function(e){if(e||!this.state.hasResized){var t=c["default"].findDOMNode(this.refs.answers);null!==t&&this.setState({answersHeight:{height:t.clientHeight-16+"px"}});var s=c["default"].findDOMNode(this.refs.quizContainer);null!==s&&this.setState({containerHeight:{height:s.clientHeight+"px"}}),this.setState({hasResized:!0})}},_formatQuestion:function(){return this.state.questions[this.state.questionIndex].question.text},_hasCodeBlock:function(){return void 0!==this.state.snippet&&null!==this.state.snippet&&this.state.snippet.length>0&&this.state.snippet[0].length>0},_formatAnswers:function(){return this.state.questions[this.state.questionIndex].answers},_hasPrev:function(){return 0!==this.state.questionIndex},_isAnswered:function(e){return this.state.selectedAnswers[e]>=0},_checkAnswer:function(e){var t=e.target.dataset.id;this._isAnswered(this.state.questionIndex)||C["default"].registerAnswer(parseInt(t,10))},_renderCodeBlock:function(e){return l["default"].createElement(d.Col,{cols:e,left:!0,spacing:!1},l["default"].createElement("div",{className:k["default"].codeBlock,style:this.state.answersHeight},l["default"].createElement(f["default"],{language:this.state.snippetLang},this.state.snippet[0])))},_dismissWarning:function(){C["default"].dismissWarning()},_goBack:function(){window.location=this.props.exitPaths.back},_renderChoices:function(){var e,t,s,n=this,i=this._isAnswered(this.state.questionIndex),o=(0,_["default"])((e={},r(e,k["default"].quizButton,!0),r(e,k["default"].quizButtonActive,!i),e)),a=(0,_["default"])((t={},r(t,k["default"].quizButton,!0),r(t,k["default"].quizAnswer,!0),r(t,k["default"].quizAnswerCorrect,this.state.isCorrect),r(t,k["default"].quizAnswerIncorrect,!this.state.isCorrect),t)),u=(0,_["default"])((s={},r(s,k["default"].quizButtonCorrect,this.state.isCorrect),r(s,k["default"].quizButtonIncorrect,!this.state.isCorrect),r(s,k["default"].quizButtonIndicator,!0),s)),c=this.state.isCorrect?"check-thin":"close-thin",h=this._formatAnswers(),f=12,p="";return this._hasCodeBlock()&&(f=6,p=this._renderCodeBlock(f)),l["default"].createElement(d.Row,null,p,l["default"].createElement(d.Col,{cols:f,spacing:!1,ref:"answers"},h.map(function(e,t){var s=t+1;return n.state.selectedAnswers[n.state.questionIndex]===s?l["default"].createElement(d.Row,{key:s,spacing:!1},l["default"].createElement(d.Col,{cols:12,center:!0,spacing:!1},l["default"].createElement("div",{"data-id":s,className:a,onClick:n._checkAnswer},l["default"].createElement(E["default"],{name:c,className:u}),e.text,e.reason?l["default"].createElement("p",{className:k["default"].quizButtonReason},"Reason: ",e.reason):null))):l["default"].createElement(d.Row,{key:s,spacing:!1},l["default"].createElement(d.Col,{cols:12,center:!0,spacing:!1},l["default"].createElement("div",{"data-id":s,className:o,onClick:n._checkAnswer},e.text)))})))},renderContent:function(){return this.state.showRetakeWarning?l["default"].createElement(v["default"],{onCancel:this._goBack,onDismiss:this._dismissWarning}):this.state.isComplete?l["default"].createElement(m["default"],{styles:this.state.containerHeight,quizTitle:this.state.quizTitle,pathUrl:this.props.exitPaths.back,score:this.state.score}):l["default"].createElement(P.Container,{column:!0,className:k["default"].quizContainer,ref:"quizContainer"},l["default"].createElement(P.Item,{className:k["default"].quizQuestion},this._formatQuestion()),this._renderChoices())},render:function(){return l["default"].createElement("div",{className:k["default"].container},this.renderContent())}});t["default"]=M},748:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=n(i),a=s(2),l=n(a),u=s(25),c=n(u),d=s(90),h=n(d),f=s(37),p=n(f),m=s(1028),g=n(m),v=s(137),y=n(v),_=s(20),b=o["default"].createClass({displayName:"QuizCompletedPage",propTypes:{quizTitle:o["default"].PropTypes.string.isRequired,pathUrl:o["default"].PropTypes.string.isRequired,score:o["default"].PropTypes.object},_loadQuizPage:function(){y["default"].resetQuiz()},_isPassing:function(){return this.props.score.pct>=70},_renderComment:function(){return this._isPassing()?(0,_.t)("views.quiz.pass_msg"):(0,_.t)("views.quiz.fail_msg")},render:function(){var e,t=(0,l["default"])((e={},r(e,g["default"].quizPassing,this._isPassing()),r(e,g["default"].quizFailing,!this._isPassing()),e)),s=this.props.score.correct,n=this.props.score.total-s;return o["default"].createElement(c["default"],{column:!0,center:!0},o["default"].createElement("div",{className:g["default"].dialogSection},o["default"].createElement("div",{className:g["default"].dialogHeading},"You made it!"),o["default"].createElement("p",null,"Here's how you scored:")),o["default"].createElement("div",{className:(0,l["default"])(g["default"].dialog,g["default"].dialogSection)},o["default"].createElement("div",{className:(0,l["default"])(g["default"].scorecardBox,g["default"].borderBottom)},"Quiz Scorecard"),o["default"].createElement("div",{className:(0,l["default"])(g["default"].scorecardBox,g["default"].borderBottom,g["default"].flexCol)},o["default"].createElement("div",{className:g["default"].quizScorePercent},o["default"].createElement("span",{className:t},this.props.score.pct,"%")),o["default"].createElement("div",{className:g["default"].quizScoreText},this._renderComment())),o["default"].createElement("div",{className:g["default"].flexRow},o["default"].createElement("div",{className:g["default"].scorecardBox},o["default"].createElement(h["default"],{name:"close-thin",className:(0,l["default"])(g["default"].scorecardBoxIcon,g["default"].quizIncorrect)}),o["default"].createElement("div",{className:g["default"].quizSplit},n)),o["default"].createElement("div",{className:(0,l["default"])(g["default"].scorecardBox,g["default"].borderLeft)},o["default"].createElement(h["default"],{name:"check-thin",className:(0,l["default"])(g["default"].scorecardBoxIcon,g["default"].quizCorrect)}),o["default"].createElement("div",{className:g["default"].quizSplit},s)))),o["default"].createElement("div",{className:(0,l["default"])(g["default"].dialogButtonGroup,g["default"].buttonGroup)},o["default"].createElement(p["default"],{onClick:this._loadQuizPage,theme:"mint"},"Retake Quiz"),o["default"].createElement(p["default"],{href:this.props.pathUrl,theme:"platform"},"Back to Course")))}});t["default"]=b},749:function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(3),o=r(i),a=s(1),l=r(a),u=s(4),c=r(u),d=s(124),h=s(25),f=s(20),p=s(135),m=n(p),g=s(134),v=r(g),y=s(201),_=r(y),b=s(137),k=r(b),w=s(37),x=r(w),S=s(1029),C=r(S),T=l["default"].createClass({displayName:"QuizFooter",mixins:[c["default"].connect(_["default"])],propTypes:{platformPage:l["default"].PropTypes.object},getInitialState:function(){return{showCompletionModal:!1}},isAnswered:function(e){return this.state.selectedAnswers[e]>=0},canGoBack:function(){return 0!==this.state.questionIndex},canContinue:function(){return this.state.isComplete||this.state.showRetakeWarning},handleNextQuestion:function(){this.canContinue()?this.setState({showCompletionModal:!0}):k["default"].nextQuestion()},renderCompletionModal:function(){if(!this.state.showCompletionModal)return null;var e=this.props.platformPage,t=e.segment,s=e.exitPaths;if(!t)return null;var n=m.nextContentFromContentSlug(t,this.state.quizId);return n.length?l["default"].createElement(v["default"],{type:"screen",nextContent:n}):(window.location=o["default"].get(s,"back","/learn"),null)},nextButtonText:function(){return this.canContinue()?(0,f.t)("views.learning_environment.components.exercise_navigation.up_next"):(0,f.t)("views.learning_environment.components.exercise_navigation.next")},render:function(){var e=this.isAnswered(this.state.questionIndex)||this.canContinue();return l["default"].createElement(d.Footer,null,l["default"].createElement(d.FooterSection,{position:"center"},l["default"].createElement(h.Container,{row:!0,center:!0,className:C["default"].footerCenter},l["default"].createElement(x["default"],{theme:"platform",disabled:!this.canGoBack(),onClick:k["default"].prevQuestion},(0,f.t)("views.learning_environment.components.exercise_navigation.back")),l["default"].createElement(h.Item,{grow:1,className:C["default"].quizProgress},this.state.questionIndex+1," / ",this.state.numQuestions),l["default"].createElement(x["default"],{theme:e?"lantern":"platform",disabled:!e,go:e,onClick:this.handleNextQuestion},this.nextButtonText()))),this.renderCompletionModal())}});t["default"]=T},750:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=s(3),u=n(l),c=s(126),d=n(c),h=s(8),f=n(h),p=s(1),m=n(p),g=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=u["default"].get(this.props,"quizPage.quiz.title"),t=u["default"].get(this.props,"platformPage.exitPaths.back");return m["default"].createElement(d["default"],{theme:"dark",showNav:!1,title:e,titleRoute:t,profileImage:f["default"].get("profile_image_url")})}}]),t}(m["default"].Component);g.propTypes={quizPage:m["default"].PropTypes.object},t["default"]=g},751:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=s(1),u=n(l),c=s(1030),d=n(c),h=s(37),f=n(h),p=s(25),m=n(p),g=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){return u["default"].createElement(m["default"],{column:!0,center:!0,className:d["default"].dialog},u["default"].createElement("div",{className:d["default"].dialogSection},u["default"].createElement("div",{className:d["default"].dialogHeading},"Retake Quiz"),u["default"].createElement("div",null,"Retaking a quiz will reset your score.")),u["default"].createElement("div",{className:d["default"].dialogButtonGroup},u["default"].createElement(f["default"],{theme:"secondary",onClick:this.props.onDismiss},"Retake Quiz"),u["default"].createElement(f["default"],{theme:"platform",onClick:this.props.onCancel},"Cancel")))}}]),t}(u["default"].Component);g.propTypes={onDismiss:u["default"].PropTypes.func.isRequired,onCancel:u["default"].PropTypes.func.isRequired},t["default"]=g},752:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QuizRouteComponents=t.QuizPage=void 0;var c=s(1),d=n(c),h=s(747),f=n(h),p=s(201),m=n(p),g=s(750),v=n(g),y=s(749),_=n(y),b=t.QuizPage=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.quizPage&&m["default"].setInitialData(this.props.quizPage);
}},{key:"render",value:function(){var e=this.props,t=e.platformPage,s=e.quizPage,n=r(e,["platformPage","quizPage"]);return d["default"].createElement(f["default"],l({},n,t,s))}}]),t}(d["default"].Component);b.propTypes={platformPage:d["default"].PropTypes.object,quizPage:d["default"].PropTypes.object};t.QuizRouteComponents={Main:b,Header:v["default"],Footer:_["default"]};t["default"]=b},753:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformRouter=t.PlatformRoutes=void 0;var r=s(3),i=n(r),o=s(1),a=n(o),l=s(166),u=s(283),c=n(u),d=s(129),h=s(719),f=n(h),p=s(745),m=n(p),g=s(746),v=n(g),y=s(752);s(66);var _=s(143),b=n(_),k=s(108),w=n(k),x=t.PlatformRoutes=(0,d.defaultRoutes)(f["default"],[a["default"].createElement(l.Route,{path:"courses/:course/lessons/:lesson/exercises/:exercise",name:"exercise",component:m["default"]}),a["default"].createElement(l.Route,{path:"courses/:course/projects/:project",name:"project",component:v["default"]}),a["default"].createElement(l.Route,{path:"courses/:course/units/:unit/quizzes/:quiz",name:"quiz",components:y.QuizRouteComponents})]),S=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.proData&&b["default"].setData(e.proData),e.routesData&&w["default"].setInitialData(e.routesData)};t.PlatformRouter=(0,c["default"])(x,i["default"].once(S));t["default"]=x},754:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(10),a=n(o),l=s(187),u=n(l),c=s(741),d=n(c);t["default"]=i["default"].createStore({mixins:[a["default"].store,(0,d["default"])("adminStore")],getDefaultState:function(){return{uploadSavepoints:!1,nolock:!1}},init:function(){this.listenTo(u["default"].adminChange,this.onAdminChange)},onAdminChange:function(e,t){var s=JSON.parse(JSON.stringify(this.state));s[e]=t,this.setState(s)}})},755:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(132),a=n(o),l=s(7),u=n(l);s(22);var c=[{target:"course-navigator",orientation:"right-above",content:"Click here to navigate the course."},{target:"discovery-resize-14",orientation_special:"middle-edge",content:"Drag the edges to resize the window."},{target:"discovery-fullscreen",content:"Click here to make this window fullscreen."},{target:"discovery-checklist",content:"In Projects, you can keep track of your progress as you go throught the tasks. Check each item as you complete it!"}];t["default"]=i["default"].createStore({init:function(){this.listenToMany({onCueSeen:a["default"].cueSeen}),this._activeCues=[],this._calculateActives()},onCueSeen:function(e){CCDATA&&CCDATA.current_user&&(CCDATA.current_user.ui_tour_elements[e]=!0,u["default"].post("/users/ui_tour_elements",{ui_tour_item:e},"json")),this._calculateActives(),this.trigger(this._activeCues)},_calculateActives:function(){var e=c;if(CCDATA&&CCDATA.current_user){for(var t in CCDATA.current_user.ui_tour_elements){var s=e.map(function(e){return e.target}).indexOf(t);e.splice(s,1)}this._activeCues=e}},getActiveCues:function(){return this._activeCues}})},756:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(40),a=n(o),l=s(138),u=(n(l),s(3));n(u);t["default"]=i["default"].createStore({init:function(){this.history=[],this.listenTo(a["default"].openFile,this.openFile)},openFile:function(e){this.history.push(e.name)},hasOpened:function(e){return this.history.some(function(t){return t==e})}})},757:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(132),a=n(o);t["default"]=i["default"].createStore({init:function(){this.listenToMany({onResized:a["default"].resized,onResizing:a["default"].resizing})},onResized:function(){this.trigger()},onResizing:function(){this.trigger()}})},758:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),i=(n(r),s(4)),o=n(i),a=s(15),l=n(a),u=s(130),c=n(u);t["default"]=o["default"].createStore({init:function(){this.watching=[],this.workspaceSlug=null,l["default"].listen(this.checkWatchedFiles),this.listenTo(c["default"].publishFilenames,this.setDefaultFiles),this.listenTo(c["default"].loadFiles,this.resetOrphanedFiles)},setDefaultFiles:function(e){this.watching=e.map(function(e){return e.filename})},resetOrphanedFiles:function(){this.watching=[],this.trigger([])},checkWatchedFiles:function(e){if(e.workspaceObject&&e.workspaceReady){var t=[],s=!0,n=!1,r=void 0;try{for(var i,o=this.watching[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var a=i.value;void 0===e.workspaceObject.getFile(a)&&t.push(a)}}catch(l){n=!0,r=l}finally{try{!s&&o["return"]&&o["return"]()}finally{if(n)throw r}}this.trigger(t)}}})},759:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(286),a=n(o);t["default"]=i["default"].createStore({init:function(){this.listenToMany(a["default"])},onApologize:function(){this.trigger(!0)}})},760:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(287),i=n(r),o=s(40),a=n(o),l=s(4),u=n(l);t["default"]=u["default"].createStore({init:function(){this.output=[],this.listenToMany({onClear:a["default"].saveFiles,onStdout:i["default"].stdout,onStderr:i["default"].stderr})},onClear:function(){this.output=[],this.trigger(this.output)},onStdout:function(e){this.output.push({type:"stdout",text:e}),this.trigger(this.output)},onStderr:function(e){this.output.push({type:"stderr",text:e}),this.trigger(this.output)}})},761:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),i=n(r),o=s(191),a=n(o),l=s(7),u=n(l),c=s(18),d=n(c),h="/practice/self_assessment_checklist";t["default"]=i["default"].createStore({init:function(){this.listenToMany({onCheckAssessment:a["default"].checkAssessment,onResetProject:a["default"].resetProject})},getInitialState:function(e){this.allDone=!0,this.assessments=e.projectAssessments,this.projectSlug=e.projectSlug,this.skillSlug=e.skillSlug,this.revision=e.revision,this.userProgress=e.userProgress;var t=!0,s=!1,n=void 0;try{for(var r,i=this.assessments[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,a=!0,l=!1,u=void 0;try{for(var c,d=o.tasks[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value;h.done=void 0!==e.userProgress[h.key]&&"true"===e.userProgress[h.key],h.done||(this.allDone=!1)}}catch(f){l=!0,u=f}finally{try{!a&&d["return"]&&d["return"]()}finally{if(l)throw u}}}}catch(f){s=!0,n=f}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}return{assessments:this.assessments,allDone:this.allDone}},onCheckAssessment:function(e,t){var s=!1;void 0===this.userProgress[e]&&(s=!0,d["default"].track("project","checklist_click",{project:this.projectSlug,skill:this.skillSlug,self_assessment:e}),d["default"].track("action","submit",{project:this.projectSlug,skill:this.skillSlug,curriculum:this.skillSlug,self_assessment:e,submit_type:"project_checklist_submit"})),this.userProgress[e]=t;var n=!0,r=!0,i=!1,o=void 0;try{for(var a,l=this.assessments[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,c=!0,h=!1,f=void 0;try{for(var p,m=u.tasks[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;g.key===e&&(g.done=t),g.done||(n=!1)}}catch(v){h=!0,f=v}finally{try{!c&&m["return"]&&m["return"]()}finally{if(h)throw f}}}}catch(v){i=!0,o=v}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}n&&!this.allDone&&s&&d["default"].track("project","checklist_complete",{project:this.projectSlug,skill:this.skillSlug}),this.allDone=n,this._updateStore()},onResetProject:function(){var e=!0,t=!1,s=void 0;try{for(var n,r=this.assessments[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,a=!1,l=void 0;try{for(var u,c=i.tasks[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;d.done=!1}}catch(h){a=!0,l=h}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw l}}}}catch(h){t=!0,s=h}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw s}}this.allDone=!1,this._updateStore()},_updateStore:function(){var e={},t=!0,s=!1,n=void 0;try{for(var r,i=this.assessments[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,a=!0,l=!1,c=void 0;try{for(var d,f=o.tasks[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var p=d.value;e[p.key]=p.done}}catch(m){l=!0,c=m}finally{try{!a&&f["return"]&&f["return"]()}finally{if(l)throw c}}}}catch(m){s=!0,n=m}finally{try{!t&&i["return"]&&i["return"]()}finally{if(s)throw n}}u["default"].ajax({type:"POST",url:h,data:{id:this.projectSlug,course_id:this.skillSlug,r:this.revision,tasks:e}}),this.trigger(this.assessments,this.allDone)}})},762:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=s(3),a=n(o),l=s(34),u=n(l),c=s(131),d=n(c),h=s(15),f=s(14),p=n(f),m=s(287),g=n(m),v=s(188),y=n(v),_=s(189),b=n(_),k=s(79),w=s(8),x=n(w),S=s(30),C=n(S),T=s(40),E=n(T),P=s(41),M=n(P),N=s(199),O=function(){function e(t){r(this,e),this.contentWorkspace=t,this.slug=t.slug,this.type=t.type,this.hasLostConnection=!1,u["default"].listen(this.onGodexClientChange)}return i(e,[{key:"persist",value:function(){return d["default"].persist().then(function(){p["default"].persist.completed()},function(e){p["default"].persist.failed(e)})}},{key:"initialize",value:function(){var e=this;return new Promise(function(t,s){void 0===window.WebSocket&&s("Browser unsupported"),d["default"].getClient.completed.listen(function(t){e.setUpFileSystemEventCallback(t),e.setUpIdleEventCallback(t),t.removeAllListeners("output"),t.removeAllListeners("error"),t.on("output",function(e){g["default"].stdout(e.Output)}),t.on("error",function(e){g["default"].stderr(e.Error)}),t.removeAllListeners("stdout"),t.removeAllListeners("stderr"),t.on("stdout",function(e){g["default"].stdout(e.Output)}),t.on("stderr",function(e){g["default"].stderr(e.Error)}),t.removeAllListeners("peer:open_file"),t.removeAllListeners("peer:edit_file"),t.removeAllListeners("peer:join"),t.removeAllListeners("peer:leave"),t.on("peer:open_file",function(e){b["default"].update("has opened ",e)}),t.on("peer:edit_file",function(e){b["default"].update("is editing ",e)}),t.on("peer:join",function(e){y["default"].update(e.Peers);var t=e.Peers.filter(function(e){return e.Username!==x["default"].get("username")}),s="";t.forEach(function(e){s+=e.Username+" "}),x["default"].isAdvisor()||(0,k.trackEvent)("advisor-joined-collaboration",{advisors:s})}),t.on("peer:leave",function(e){y["default"].update(e.Peers),x["default"].isAdvisor()?(0,k.trackEvent)("learner-left-collaboration"):(0,k.trackEvent)("advisor-left-collaboration")}),t.removeAllListeners("workspace:lock"),t.removeAllListeners("workspace:unlock"),t.on("workspace:lock",function(e){p["default"].peerLock(e.User)}),t.on("workspace:unlock",function(e){p["default"].peerUnlock(e.User)})}),d["default"].getClient(e.contentWorkspace).then(function(n){e.getFileTree().then(t,s)},function(e){s("Failed to get Godex client: "+e)})})}},{key:"broadcast",value:function(e,t){u["default"].state.client.broadcast(this.slug,e,t)}},{key:"onGodexClientChange",value:function(e){switch(e.status){case"connecting":p["default"].setStatus(h.STATUSES.CONNECTING);break;case"available":p["default"].setStatus(h.STATUSES.AVAILABLE);break;case"unavailable":p["default"].setStatus(h.STATUSES.UNAVAILABLE);break;case"disconnected":p["default"].setStatus(h.STATUSES.DISCONNECTED);break;case"idle":p["default"].setStatus(h.STATUSES.IDLE);break;default:C["default"].error("Unhandled godexClientState.status: "+e.status)}"disconnected"===e.status&&(this.hasLostConnection=!0,p["default"].setReadyState(!1)),p["default"].setReadyState(e.ready)}},{key:"setUpFileSystemEventCallback",value:function(e){var t={},s=a["default"].debounce(function(){p["default"].getFileTree()},500);e.removeAllListeners("fs"),e.on("fs",function(e){var n=e.path;void 0===t[n]&&(t[n]=a["default"].debounce(function(){p["default"].getFile(n)},500)),t[n](),s()})}},{key:"setUpIdleEventCallback",value:function(e){e.on("idle",function(){p["default"].setReadyState(!1),p["default"].setIdleState(!0),E["default"].saveFiles().then(function(){e.removeAllListeners("disconnected"),e.close(1e3,"Client Went Idle.")})})}},{key:"getFileTree",value:function(){var e=this;return d["default"].getFileTree().then(function(t){t.Files=[t.Files],e.workspace=(0,N.GodexFileTreeToWorkspace)(t),p["default"].getFileTree.completed(e.workspace)},function(e){p["default"].getFileTree.failed(e)})}},{key:"getFiles",value:function(e){var t=this;return e=e.filter(function(e){return t.workspace.exists(e)}),new Promise(function(s,n){u["default"].state.client.getFilesByNames(t.slug,e,function(e,t){e?n(e):s(t)})}).then(function(s){s.Files.forEach(function(e){t.workspace.updateFile((0,N.GodexFileToWorkspaceFile)(e))}),p["default"].getFiles.completed(t.workspace.getFiles(e))},function(e){p["default"].getFiles.failed(e)})}},{key:"getFile",value:function(e,t){var s=this;return new Promise(function(n,r){u["default"].state.client.getFile(s.slug,e,t,function(e,t){e?r(e):n(t)})}).then(function(t){var n=(0,N.GodexFileToWorkspaceFile)({fileName:e,content:t.Content});s.workspace.updateFile(n),p["default"].getFile.completed(n)},function(e){p["default"].getFile.failed(e)})}},{key:"deleteFile",value:function(e){var t=this;return new Promise(function(s,n){u["default"].state.client.deleteFile(t.slug,e,function(t){t?n(t):s(e)})}).then(function(e){t.workspace.deleteFile(e),p["default"].deleteFile.completed(e)},function(e){p["default"].deleteFile.failed(e)})}},{key:"updateFiles",value:function(e){var t=this,s=e.map(N.WorkspaceFileToGodexFile);return new Promise(function(n,r){u["default"].state.client.updateFiles(t.slug,s,function(t){t?r(t):n(e)})}).then(function(e){t.workspace.updateFiles(e),p["default"].updateFiles.completed(e)},function(e){(0,M["default"])("error","Failed to save files: "+e),p["default"].updateFiles.failed(e)})}},{key:"createDirectories",value:function(e){var t=this,s=e.map(N.WorkspaceDirectoryToGodexDirectory);return new Promise(function(n,r){u["default"].state.client.updateFiles(t.slug,s,function(t){t?r(t):n(e)})}).then(function(e){t.workspace.createDirectories(e.map(function(e){return e.path})),p["default"].createDirectories.completed(e)},function(e){(0,M["default"])("error","Failed to create directories: "+e),p["default"].createDirectories.failed(e)})}},{key:"rename",value:function(e,t){var s=this;return new Promise(function(n,r){u["default"].state.client.renameFile(s.slug,e,t,function(e,t){e?r(e):n(t)})}).then(function(n){s.workspace.rename(e,t),p["default"].rename.completed(e,t)},function(e){p["default"].rename.failed(e)})}}]),e}();t["default"]=O},763:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=s(41),a=n(o),l=s(8),u=n(l),c=s(307),d=n(c),h=s(14),f=n(h),p=s(15),m=s(199),g=(n(m),function(){function e(t){r(this,e),this.slug=t,this.client=new d["default"](u["default"].get("_id"),u["default"].get("authentication_token"))}return i(e,[{key:"persist",value:function(){return this.client.persist(this.workspace).then(function(){f["default"].persist.completed()},function(e){f["default"].persist.failed(e)})}},{key:"initialize",value:function(){var e=this;return this.client.fetch(this.slug).then(function(t){e.workspace=t,f["default"].setStatus(p.STATUSES.AVAILABLE),f["default"].setReadyState(!0)},function(e){f["default"].setStatus(p.STATUSES.UNAVAILABLE),f["default"].setReadyState(!1)})}},{key:"getFileTree",value:function(){return f["default"].getFileTree.completed(this.workspace.getFileTree())}},{key:"getFiles",value:function(e){return f["default"].getFiles.completed(this.workspace.getFiles(e))}},{key:"getFile",value:function(e,t){return f["default"].getFile.completed(this.workspace.getFile(e,t))}},{key:"deleteFile",value:function(e){return this.workspace.deleteFile(e),this.client.persist(this.workspace).then(function(){f["default"].deleteFile.completed(e)},function(e){f["default"].deleteFile.failed(e)})}},{key:"updateFiles",value:function(e){return this.workspace.updateFiles(e),f["default"].updateFiles.completed(e),Promise.resolve()}},{key:"createDirectories",value:function(e){return this.workspace.createDirectories(e),this.client.persist(this.workspace).then(function(){f["default"].createDirectories.completed(e)},function(t){f["default"].createDirectories.failed(e)})}},{key:"rename",value:function(e,t){var s=this;return this.workspace.rename(e,t),this.client.persist(this.workspace).then(function(){var n=s.workspace.getFile(t);f["default"].rename.completed(e,t,n)},function(e){f["default"].rename.failed(e),(0,a["default"])("error","Failed to rename file: "+e)})}}]),e}());t["default"]=g},808:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=s(7),i=n(r);s(809),function(){var e,t,s,n,r,o,a,l,u,c,d,h,f,p,m,g,v,y,_,b,k,w,x,S,C,T,E,P,M,N,O,A,F,I,j,R,L=function(e,t){return function(){return e.apply(t,arguments)}},D=[].slice;F=0,I=1,j=2,S=13,N=9,k=46,b=8,T=37,M=39,O=38,w=40,C=36,x=35,P=33,E=34,l="jqconsole-",n=""+l+"cursor",r=""+l+"header",u=""+l+"prompt",a=""+l+"old-prompt",o=""+l+"input",s=""+l+"blurred",y="keypress",m="<span/>",f="<div/>",p=":empty",A="\n",h=">>> ",d="... ",c=2,t=""+l+"ansi-",g="",v=/\[(\d*)(?:;(\d*))*m/,e=function(){function e(){this.stylize=L(this.stylize,this),this._closeSpan=L(this._closeSpan,this),this._openSpan=L(this._openSpan,this),this.getClasses=L(this.getClasses,this),this._style=L(this._style,this),this._color=L(this._color,this),this._remove=L(this._remove,this),this._append=L(this._append,this),this.klasses=[]}return e.prototype.COLORS=["black","red","green","yellow","blue","magenta","cyan","white"],e.prototype._append=function(e){return e=""+t+e,-1===this.klasses.indexOf(e)?this.klasses.push(e):void 0},e.prototype._remove=function(){var e,s,n,r,i,o;for(n=1<=arguments.length?D.call(arguments,0):[],o=[],r=0,i=n.length;i>r;r++)s=n[r],"fonts"===s||"color"===s||"background-color"===s?o.push(this.klasses=function(){var n,r,i,o;for(i=this.klasses,o=[],n=0,r=i.length;r>n;n++)e=i[n],e.indexOf(s)!==t.length&&o.push(e);return o}.call(this)):(s=""+t+s,o.push(this.klasses=function(){var t,n,r,i;for(r=this.klasses,i=[],t=0,n=r.length;n>t;t++)e=r[t],e!==s&&i.push(e);return i}.call(this)));return o},e.prototype._color=function(e){return this.COLORS[e]},e.prototype._style=function(e){if(""===e&&(e=0),e=parseInt(e),!isNaN(e))switch(e){case 0:return this.klasses=[];case 1:return this._append("bold");case 2:return this._append("lighter");case 3:return this._append("italic");case 4:return this._append("underline");case 5:return this._append("blink");case 6:return this._append("blink-rapid");case 8:return this._append("hidden");case 9:return this._append("line-through");case 10:return this._remove("fonts");case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:return this._remove("fonts"),this._append("fonts-"+(e-10));case 20:return this._append("fraktur");case 21:return this._remove("bold","lighter");case 22:return this._remove("bold","lighter");case 23:return this._remove("italic","fraktur");case 24:return this._remove("underline");case 25:return this._remove("blink","blink-rapid");case 28:return this._remove("hidden");case 29:return this._remove("line-through");case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return this._remove("color"),this._append("color-"+this._color(e-30));case 39:return this._remove("color");case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return this._remove("background-color"),this._append("background-color-"+this._color(e-40));case 49:return this._remove("background-color");case 51:return this._append("framed");case 53:return this._append("overline");case 54:return this._remove("framed");case 55:return this._remove("overline")}},e.prototype.getClasses=function(){return this.klasses.join(" ")},e.prototype._openSpan=function(e){return'<span class="'+this.getClasses()+'">'+e},e.prototype._closeSpan=function(e){return""+e+"</span>"},e.prototype.stylize=function(e){var t,s,n,r,i,o;for(e=this._openSpan(e),n=0;(n=e.indexOf(g,n))&&-1!==n;)if(s=e.slice(n).match(v)){for(o=s.slice(1),r=0,i=o.length;i>r;r++)t=o[r],this._style(t);e=this._closeSpan(e.slice(0,n))+this._openSpan(e.slice(n+1+s[0].length))}else n++;return this._closeSpan(e)},e}(),R=function(e,t){return'<span class="'+e+'">'+(t||"")+"</span>"},_=function(){function t(t,s,n,o){this.container=t,this._HideComposition=L(this._HideComposition,this),this._ShowComposition=L(this._ShowComposition,this),this._UpdateComposition=L(this._UpdateComposition,this),this._EndComposition=L(this._EndComposition,this),this._StartComposition=L(this._StartComposition,this),this._CheckComposition=L(this._CheckComposition,this),this._ProcessMatch=L(this._ProcessMatch,this),this._HandleKey=L(this._HandleKey,this),this._HandleChar=L(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.$window=(0,i["default"])(window),this.header=s||"",this.prompt_label_main="string"==typeof n?n:h,this.prompt_label_continue=o||d,this.indent_width=c,this.state=I,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$console=(0,i["default"])('<pre class="jqconsole"/>').appendTo(this.container),this.$console.css({position:"absolute",top:0,bottom:0,right:0,left:0,margin:0,overflow:"auto"}),this.$console_focused=!0,this.$input_container=(0,i["default"])(f).appendTo(this.container),this.$input_container.css({position:"relative",width:1,height:0,top:-999999,overflow:"hidden"}),this.$input_source=(0,i["default"])("<textarea/>"),this.$input_source.attr({wrap:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",autocomplete:"off"}),this.$input_source.css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=(0,i["default"])(f),this.$composition.addClass(""+l+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this.ansi=new e,this._InitPrompt(),this._SetupEvents(),this.Write(this.header,r),(0,i["default"])(this.container).data("jqconsole",this)}return t.prototype.ResetHistory=function(){return this.SetHistory([])},t.prototype.ResetShortcuts=function(){return this.shortcuts={}},t.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},t.prototype.Reset=function(){this.state!==I&&this.ClearPromptText(!0),this.state=I,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.container),this.Write(this.header,r)},t.prototype.GetHistory=function(){return this.history},t.prototype.SetHistory=function(e){return this.history=e.slice(),this.history_index=this.history.length},t.prototype._CheckKeyCode=function(e){if(e=isNaN(e)?e.charCodeAt(0):parseInt(e,10),!(e>0&&256>e)||isNaN(e))throw new Error("Key code must be a number between 0 and 256 exclusive.");return e},t.prototype._LetterCaseHelper=function(e,t){return t(e),e>=65&&90>=e&&t(e+32),e>=97&&122>=e?t(e-32):void 0},t.prototype.RegisterShortcut=function(e,t){var s,n=this;if(e=this._CheckKeyCode(e),"function"!=typeof t)throw new Error("Callback must be a function, not "+t+".");s=function(e){return e in n.shortcuts||(n.shortcuts[e]=[]),n.shortcuts[e].push(t)},this._LetterCaseHelper(e,s)},t.prototype.UnRegisterShortcut=function(e,t){var s,n=this;e=this._CheckKeyCode(e),s=function(e){return e in n.shortcuts?t?n.shortcuts[e].splice(n.shortcuts[e].indexOf(t),1):delete n.shortcuts[e]:void 0},this._LetterCaseHelper(e,s)},t.prototype.GetColumn=function(){var e;return this.$prompt_cursor.text(""),e=this.$console.text().split(A),this.$prompt_cursor.html("&nbsp;"),e[e.length-1].length},t.prototype.GetLine=function(){return this.$console.text().split(A).length-1},t.prototype.ClearPromptText=function(e){if(this.state===I)throw new Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(e?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},t.prototype.GetPromptText=function(e){var t,s,n,r,o;if(this.state===I)throw new Error("GetPromptText() is not allowed in output state.");return e?(this.$prompt_cursor.text(""),o=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),o):(r=function(e){var t;return t=[],e.children().each(function(){return t.push((0,i["default"])(this).children().last().text())}),t.join(A)},s=r(this.$prompt_before),s&&(s+=A),n=this.$prompt_left.text()+this.$prompt_right.text(),t=r(this.$prompt_after),t&&(t=A+t),s+n+t)},t.prototype.SetPromptText=function(e){if(this.state===I)throw new Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(e),this._ScrollToEnd()},t.prototype.SetPromptLabel=function(e,t){this.prompt_label_main=e,null!=t&&(this.prompt_label_continue=t)},t.prototype.Write=function(e,t,s){var n;return null==s&&(s=!0),s&&(e=this.ansi.stylize((0,i["default"])(m).text(e).html())),n=(0,i["default"])(m).html(e),null!=t&&n.addClass(t),this.Append(n)},t.prototype.Append=function(e){var t;return t=(0,i["default"])(e).insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left),t},t.prototype.Input=function(e){var t,s,n,r,i=this;if(this.state===j)n=this.input_callback,r=this.multiline_callback,s=this.history_active,t=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift(function(){return i.Prompt(s,n,r,t)});else if(this.state!==I)return void this.input_queue.push(function(){return i.Input(e)});this.history_active=!1,this.input_callback=e,this.multiline_callback=null,this.state=F,this.$prompt.attr("class",o),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},t.prototype.Prompt=function(e,t,s,n){var r=this;return this.state!==I?void this.input_queue.push(function(){return r.Prompt(e,t,s,n)}):(this.history_active=e,this.input_callback=t,this.multiline_callback=s,this.async_multiline=n,this.state=j,this.$prompt.attr("class",u+" "+this.ansi.getClasses()),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),void this._ScrollToEnd())},t.prototype.AbortPrompt=function(){if(this.state!==j)throw new Error("Cannot abort prompt when not in prompt state.");this.Write(this.GetPromptText(!0)+A,a),this.ClearPromptText(!0),this.state=I,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},t.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},t.prototype.SetIndentWidth=function(e){return this.indent_width=e},t.prototype.GetIndentWidth=function(){return this.indent_width},t.prototype.RegisterMatching=function(e,t,s){var n;return n={opening_char:e,closing_char:t,cls:s},this.matchings.clss.push(s),this.matchings.openings[e]=n,this.matchings.closings[t]=n},t.prototype.UnRegisterMatching=function(e,t){var s;return s=this.matchings.openings[e].cls,delete this.matchings.openings[e],delete this.matchings.closings[t],this.matchings.clss.splice(this.matchings.clss.indexOf(s),1)},t.prototype.Dump=function(){var e,t;return e=this.$console.find("."+r).nextUntil("."+u),function(){var s,n,r;for(r=[],s=0,n=e.length;n>s;s++)t=e[s],(0,i["default"])(t).is("."+a)?r.push((0,i["default"])(t).text().replace(/^\s+/,">>> ")):r.push((0,i["default"])(t).text());return r}().join(" ")},t.prototype.GetState=function(){return this.state===F?"input":this.state===I?"output":"prompt"},t.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},t.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},t.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},t.prototype.MoveToStart=function(e){this._MoveTo(e,!0)},t.prototype.MoveToEnd=function(e){this._MoveTo(e,!1)},t.prototype._CheckInputQueue=function(){return this.input_queue.length?this.input_queue.shift()():void 0},t.prototype._InitPrompt=function(){return this.$prompt=(0,i["default"])(R(o)).appendTo(this.$console),this.$prompt_before=(0,i["default"])(m).appendTo(this.$prompt),this.$prompt_current=(0,i["default"])(m).appendTo(this.$prompt),this.$prompt_after=(0,i["default"])(m).appendTo(this.$prompt),this.$prompt_label=(0,i["default"])(m).appendTo(this.$prompt_current),this.$prompt_left=(0,i["default"])(m).appendTo(this.$prompt_current),this.$prompt_right=(0,i["default"])(m).appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_cursor=(0,i["default"])(R(n,"&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0}),this.isMobile?void 0:this.$prompt_cursor.css("position","absolute")},t.prototype._SetupEvents=function(){var e,t,n=this;return this.isMobile?this.$console.click(function(e){return e.preventDefault(),n.Focus()}):this.$console.mouseup(function(e){var t;return 2===e.which?n.Focus():(t=function(){return window.getSelection().toString()?void 0:(e.preventDefault(),n.Focus())},setTimeout(t,0))}),this.$input_source.focus(function(){var e,t;return n._ScrollToEnd(),n.$console_focused=!0,n.$console.removeClass(s),t=function(){return n.$console_focused?n.$console.removeClass(s):void 0},setTimeout(t,100),e=function(){return n.isIos&&n.$console_focused?n.$input_source.hide():void 0},setTimeout(e,500)}),this.$input_source.blur(function(){var e;return n.$console_focused=!1,n.isIos&&n.$input_source.show(),e=function(){return n.$console_focused?void 0:n.$console.addClass(s)},setTimeout(e,100)}),t=i["default"].browser.opera?"input":"paste",this.$input_source.bind(t,function(){var e;return e=function(){return n.in_composition?void 0:(n._AppendPromptText(n.$input_source.val()),n.$input_source.val(""),n.Focus())},setTimeout(e,0)}),this.$input_source.keypress(this._HandleChar),this.$input_source.keydown(this._HandleKey),this.$input_source.keydown(this._CheckComposition),null!=i["default"].browser.mozilla&&(this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",this._EndCommposition),this.$input_source.bind("text",this._UpdateComposition)),null!=i["default"].browser.opera?(e=function(){return n.in_composition?void 0:n.$input_source.val().length?n._StartComposition():void 0},setInterval(e,200)):void 0;
},t.prototype._HandleChar=function(e){var t,s;return this.state===I||e.metaKey||e.ctrlKey?!0:(t=e.which,8===t||9===t||13===t?!1:(s=String.fromCharCode(t),0===s.length?!0:(this.$prompt_left.text(this.$prompt_left.text()+s),this._ScrollToEnd(),!1)))},t.prototype._HandleKey=function(e){var t;if(this.state===I)return!0;if(t=e.keyCode||e.which,setTimeout(i["default"].proxy(this._CheckMatchings,this),0),e.altKey)return!0;if(e.ctrlKey||e.metaKey)return this._HandleCtrlShortcut(t);if(e.shiftKey){switch(t){case S:this._HandleEnter(!0);break;case N:this._Unindent();break;case O:this._MoveUp();break;case w:this._MoveDown();break;case P:this._ScrollUp();break;case E:this._ScrollDown();break;default:return!0}return!1}switch(t){case S:this._HandleEnter(!1);break;case N:this._Indent();break;case k:this._Delete(!1);break;case b:this._Backspace(!1);break;case T:this._MoveLeft(!1);break;case M:this._MoveRight(!1);break;case O:this._HistoryPrevious();break;case w:this._HistoryNext();break;case C:this.MoveToStart(!1);break;case x:this.MoveToEnd(!1);break;case P:this._ScrollUp();break;case E:this._ScrollDown();break;default:return!0}return!1},t.prototype._HandleCtrlShortcut=function(e){var t,s,n,r;switch(e){case k:this._Delete(!0);break;case b:this._Backspace(!0);break;case T:this._MoveLeft(!0);break;case M:this._MoveRight(!0);break;case O:this._MoveUp();break;case w:this._MoveDown();break;case x:this.MoveToEnd(!0);break;case C:this.MoveToStart(!0);break;default:if(e in this.shortcuts){for(r=this.shortcuts[e],s=0,n=r.length;n>s;s++)t=r[s],t.call(this);return!1}return!0}return!1},t.prototype._HandleEnter=function(e){var t,s,n=this;return e?this._InsertNewLine(!0):(s=this.GetPromptText(),t=function(e){var t,r,i,o,a,u;if(e!==!1){for(n.MoveToEnd(!0),n._InsertNewLine(!0),u=[],i=o=0,a=Math.abs(e);a>=0?a>o:o>a;i=a>=0?++o:--o)e>0?u.push(n._Indent()):u.push(n._Unindent());return u}return r=n.state===F?"input":"prompt",n.Write(n.GetPromptText(!0)+A,""+l+"old-"+r),n.ClearPromptText(!0),n.history_active&&(n.history.length&&n.history[n.history.length-1]===s||n.history.push(s),n.history_index=n.history.length),n.state=I,t=n.input_callback,n.input_callback=null,t&&t(s),n._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(s,t):t(this.multiline_callback(s)):t(!1))},t.prototype._GetDirectionals=function(e){var t,s,n,r,o,a,l,u;return r=e?this.$prompt_left:this.$prompt_right,t=e?this.$prompt_right:this.$prompt_left,n=e?this.$prompt_before:this.$prompt_after,s=e?this.$prompt_after:this.$prompt_before,a=e?i["default"].proxy(this.MoveToStart,this):i["default"].proxy(this.MoveToEnd,this),o=e?i["default"].proxy(this._MoveLeft,this):i["default"].proxy(this._MoveRight,this),u=e?"last":"first",l=e?"prependTo":"appendTo",{$prompt_which:r,$prompt_opposite:t,$prompt_relative:n,$prompt_rel_opposite:s,MoveToLimit:a,MoveDirection:o,which_end:u,where_append:l}},t.prototype._VerticalMove=function(e){var t,s,n,r,i,o,a,l;return l=this._GetDirectionals(e),n=l.$prompt_which,t=l.$prompt_opposite,s=l.$prompt_relative,i=l.MoveToLimit,r=l.MoveDirection,s.is(p)?void 0:(o=this.$prompt_left.text().length,i(),r(),a=n.text(),t.text(e?a.slice(o):a.slice(0,o)),n.text(e?a.slice(0,o):a.slice(o)))},t.prototype._MoveUp=function(){return this._VerticalMove(!0)},t.prototype._MoveDown=function(){return this._VerticalMove()},t.prototype._HorizontalMove=function(e,t){var s,n,r,o,a,l,u,c,d,h,f,g,v,y;if(y=this._GetDirectionals(t),a=y.$prompt_which,n=y.$prompt_opposite,o=y.$prompt_relative,r=y.$prompt_rel_opposite,g=y.which_end,f=y.where_append,c=t?/\w*\W*$/:/^\w*\W*/,d=a.text()){if(e){if(v=d.match(c),!v)return;return v=v[0],h=n.text(),n.text(t?v+h:h+v),u=v.length,a.text(t?d.slice(0,-u):d.slice(u))}return h=n.text(),n.text(t?d.slice(-1)+h:h+d[0]),a.text(t?d.slice(0,-1):d.slice(1))}return o.is(p)?void 0:(l=(0,i["default"])(m)[f](r),l.append((0,i["default"])(m).text(this.$prompt_label.text())),l.append((0,i["default"])(m).text(n.text())),s=o.children()[g]().detach(),this.$prompt_label.text(s.children().first().text()),a.text(s.children().last().text()),n.text(""))},t.prototype._MoveLeft=function(e){return this._HorizontalMove(e,!0)},t.prototype._MoveRight=function(e){return this._HorizontalMove(e)},t.prototype._MoveTo=function(e,t){var s,n,r,i,o,a,l;if(a=this._GetDirectionals(t),r=a.$prompt_which,s=a.$prompt_opposite,n=a.$prompt_relative,o=a.MoveToLimit,i=a.MoveDirection,e){for(l=[];!n.is(p)||""!==r.text();)o(!1),l.push(i(!1));return l}return s.text(this.$prompt_left.text()+this.$prompt_right.text()),r.text("")},t.prototype._Delete=function(e){var t,s,n;if(s=this.$prompt_right.text()){if(e){if(n=s.match(/^\w*\W*/),!n)return;return n=n[0],this.$prompt_right.text(s.slice(n.length))}return this.$prompt_right.text(s.slice(1))}return this.$prompt_after.is(p)?void 0:(t=this.$prompt_after.children().first().detach(),this.$prompt_right.text(t.children().last().text()))},t.prototype._Backspace=function(e){var t,s,n;if(setTimeout(i["default"].proxy(this._ScrollToEnd,this),0),s=this.$prompt_left.text()){if(e){if(n=s.match(/\w*\W*$/),!n)return;return n=n[0],this.$prompt_left.text(s.slice(0,-n.length))}return this.$prompt_left.text(s.slice(0,-1))}return this.$prompt_before.is(p)?void 0:(t=this.$prompt_before.children().last().detach(),this.$prompt_label.text(t.children().first().text()),this.$prompt_left.text(t.children().last().text()))},t.prototype._Indent=function(){var e;return this.$prompt_left.prepend(function(){var t,s,n;for(n=[],e=t=1,s=this.indent_width;s>=1?s>=t:t>=s;e=s>=1?++t:--t)n.push(" ");return n}.call(this).join(""))},t.prototype._Unindent=function(){var e,t,s,n,r;for(e=this.$prompt_left.text()+this.$prompt_right.text(),r=[],t=s=1,n=this.indent_width;(n>=1?n>=s:s>=n)&&/^ /.test(e);t=n>=1?++s:--s)this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),r.push(e=e.slice(1));return r},t.prototype._InsertNewLine=function(e){var t,s,n;return null==e&&(e=!1),n=this._SelectPromptLabel(!this.$prompt_before.is(p)),t=(0,i["default"])(m).appendTo(this.$prompt_before),t.append((0,i["default"])(m).text(n)),t.append((0,i["default"])(m).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),e&&(s=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(s[0]):this.$prompt_left.text(""),this._ScrollToEnd()},t.prototype._AppendPromptText=function(e){var t,s,n,r,i,o;for(s=e.split(A),this.$prompt_left.text(this.$prompt_left.text()+s[0]),i=s.slice(1),o=[],n=0,r=i.length;r>n;n++)t=i[n],this._InsertNewLine(),o.push(this.$prompt_left.text(t));return o},t.prototype._ScrollUp=function(){var e;return e=this.$console[0].scrollTop-this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},t.prototype._ScrollDown=function(){var e;return e=this.$console[0].scrollTop+this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},t.prototype._ScrollToEnd=function(){var e,t=this;return this.$console.scrollTop(this.$console[0].scrollHeight),e=function(){var e,s,n,r,i,o,a;if(s=t.$prompt_cursor.height(),a=t.$window.scrollTop(),o=t.$window.scrollLeft(),e=document.documentElement.clientHeight,r=t.$prompt_cursor.offset(),i=t.$prompt_cursor.position(),t.$input_container.css({left:i.left,top:i.top-999999}),n=r.top-2*s,t.isMobile&&"undefined"!=typeof orientation&&null!==orientation){if(a<r.top||a>r.top)return t.$window.scrollTop(n)}else{if(a+e<r.top)return t.$window.scrollTop(r.top-e+s);if(a>n)return t.$window.scrollTop(r.top)}},setTimeout(e,0)},t.prototype._SelectPromptLabel=function(e){return this.state===j?e?" \n"+this.prompt_label_continue:this.prompt_label_main:e?"\n ":" "},t.prototype._outerHTML=function(e){return document.body.outerHTML?e.get(0).outerHTML:(0,i["default"])(f).append(e.eq(0).clone()).html()},t.prototype._Wrap=function(e,t,s){var n,r;return r=e.html(),n=r.slice(0,t)+R(s,r[t])+r.slice(t+1),e.html(n)},t.prototype._WalkCharacters=function(e,t,s,n,r){var i,o,a;for(o=r?e.length:0,e=e.split(""),a=function(){var t,s,n,i;return r?(n=e,e=2<=n.length?D.call(n,0,s=n.length-1):(s=0,[]),t=n[s++]):(i=e,t=i[0],e=2<=i.length?D.call(i,1):[]),t&&(o+=r?-1:1),t};i=a();)if(i===t?n++:i===s&&n--,0===n)return{index:o,current_count:n};return{index:-1,current_count:n}},t.prototype._ProcessMatch=function(e,t,s){var n,r,o,a,l,u,c,d,h,f,p,m,g=this;return f=t?[e.closing_char,e.opening_char]:[e.opening_char,e.closing_char],a=f[0],d=f[1],p=this._GetDirectionals(t),o=p.$prompt_which,r=p.$prompt_relative,l=1,u=!1,h=o.html(),t||(h=h.slice(1)),s&&t&&(h=h.slice(0,-1)),m=this._WalkCharacters(h,a,d,l,t),c=m.index,l=m.current_count,c>-1?(this._Wrap(o,c,e.cls),u=!0):(n=r.children(),n=t?Array.prototype.reverse.call(n):n,n.each(function(s,n){var r,o;return r=(0,i["default"])(n).children().last(),h=r.html(),o=g._WalkCharacters(h,a,d,l,t),c=o.index,l=o.current_count,c>-1?(t||c--,g._Wrap(r,c,e.cls),u=!0,!1):void 0})),u},t.prototype._CheckMatchings=function(e){var t,s,n,r,o,a,l;for(n=e?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],l=this.matchings.clss,o=0,a=l.length;a>o;o++)t=l[o],(0,i["default"])("."+t,this.$console).contents().unwrap();if((s=this.matchings.closings[n])?r=this._ProcessMatch(s,!0,e):(s=this.matchings.openings[n])?r=this._ProcessMatch(s,!1,e):e||this._CheckMatchings(!0),e){if(r)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,s.cls)}else if(r)return this._Wrap(this.$prompt_right,0,s.cls)},t.prototype._HistoryPrevious=function(){return!this.history_active||this.history_index<=0?void 0:(this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index]))},t.prototype._HistoryNext=function(){return!this.history_active||this.history_index>=this.history.length?void 0:this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index])},t.prototype._CheckComposition=function(e){var t;return t=e.keyCode||e.which,null!=i["default"].browser.opera&&this.in_composition&&this._UpdateComposition(),229===t?this.in_composition?this._UpdateComposition():this._StartComposition():void 0},t.prototype._StartComposition=function(){return this.$input_source.bind(y,this._EndComposition),this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},t.prototype._EndComposition=function(){return this.$input_source.unbind(y,this._EndComposition),this.in_composition=!1,this._HideComposition(),this.$input_source.val("")},t.prototype._UpdateComposition=function(e){var t,s=this;return t=function(){return s.in_composition?s.$composition.text(s.$input_source.val()):void 0},setTimeout(t,0)},t.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},t.prototype._HideComposition=function(){return this.$composition.detach()},t}(),i["default"].fn.jqconsole=function(e,t,s){return new _(this,e,t,s)},i["default"].fn.jqconsole.JQConsole=_,i["default"].fn.jqconsole.Ansi=e}.call(void 0)},809:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=s(7),i=n(r);!function(e,t,s){function n(s){i[s]||(i[s]=!0,e.migrateWarnings.push(s),t.console&&console.warn&&!e.migrateMute&&console.warn("JQMIGRATE: "+s))}function r(t,s,r,i){if(Object.defineProperty)try{return void Object.defineProperty(t,s,{configurable:!0,enumerable:!0,get:function(){return n(i),r},set:function(e){n(i),r=e}})}catch(o){}e._definePropertyBroken=!0,t[s]=r}var i={};e.migrateWarnings=[],e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var o={},a=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){return s},c=/^(?:input|button)$/i,d=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;r(e,"attrFn",o,"jQuery.attrFn is deprecated"),e.attr=function(t,r,i,o){var l=r.toLowerCase(),u=t&&t.nodeType;return o&&(n("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(u)&&e.isFunction(e.fn[r]))?e(t)[r](i):("type"===r&&i!==s&&c.test(t.nodeName)&&n("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&h.test(l)&&(e.attrHooks[l]={get:function(t,n){var r,i=e.prop(t,n);return i===!0||"boolean"!=typeof i&&(r=t.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():s},set:function(t,s,n){var r;return s===!1?e.removeAttr(t,n):(r=e.propFix[n]||n,r in t&&(t[r]=!0),t.setAttribute(n,n.toLowerCase())),n}},f.test(l)&&n("jQuery.fn.attr("+l+") may use property instead of attribute")),a.call(e,t,r,i))},e.attrHooks.value={get:function(e,t){var s=(e.nodeName||"").toLowerCase();return"button"===s?l.apply(this,arguments):("input"!==s&&"option"!==s&&n("property-based jQuery.fn.attr('value') is deprecated"),t in e?e.value:null)},set:function(e,t){var s=(e.nodeName||"").toLowerCase();return"button"===s?u.apply(this,arguments):("input"!==s&&"option"!==s&&n("property-based jQuery.fn.attr('value', val) is deprecated"),void(e.value=t))}};var p,m,g=e.fn.init,v=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,s,r){var i;return t&&"string"==typeof t&&!e.isPlainObject(s)&&(i=v.exec(t))&&i[1]&&("<"!==t.charAt(0)&&n("$(html) HTML strings must start with '<' character"),s&&s.context&&(s=s.context),e.parseHTML)?g.call(this,e.parseHTML(e.trim(t),s,!0),s,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},p=e.uaMatch(navigator.userAgent),m={},p.browser&&(m[p.browser]=!0,m.version=p.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m,r(e,"browser",m,"jQuery.browser is deprecated"),e.sub=function(){function t(e,s){return new t.fn.init(e,s)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,n,r,s)},t.fn.init.prototype=t.fn;var s=t(document);return n("jQuery.sub() is deprecated"),t};var y=e.fn.data;e.fn.data=function(t){var r,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(r=e.data(o,t),i=e._data(o,t),r!==s&&r!==i||i===s)?y.apply(this,arguments):(n("Use of jQuery.fn.data('events') is deprecated"),i)};var _=/\/(java|ecma)script/i,b=e.fn.andSelf||e.fn.addBack,k=e.buildFragment;e.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),b.apply(this,arguments)},e.clean||(e.clean=function(t,s,r,i){s=s||document,s=!s.nodeType&&s[0]||s,s=s.ownerDocument||s,n("jQuery.clean() is deprecated");var o,a,l,u,c=[];if(e.merge(c,e.buildFragment(t,s).childNodes),r)for(l=function(e){return!e.type||_.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e):void 0},o=0;null!=(a=c[o]);o++)e.nodeName(a,"script")&&l(a)||(r.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(u=e.grep(e.merge([],a.getElementsByTagName("script")),l),c.splice.apply(c,[o+1,0].concat(u)),o+=u.length));return c}),e.buildFragment=function(t,s,i,o){var a,l="jQuery.buildFragment() is deprecated";s=s||document,s=!s.nodeType&&s[0]||s,s=s.ownerDocument||s;try{a=k.call(e,t,s,i,o)}catch(u){a=k.call(e,t,s.nodeType?[s]:s[0],i,o),n(l)}return a.fragment||(r(a,"fragment",a,l),r(a,"cacheable",!1,l)),a};var w=e.event.add,x=e.event.remove,S=e.event.trigger,C=e.fn.toggle,T=e.fn.live,E=e.fn.die,P="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",M=new RegExp("\\b(?:"+P+")\\b"),N=/(?:^|\s)hover(\.\S+|)\b/,O=function(t){return"string"!=typeof t||e.event.special.hover?t:(N.test(t)&&n("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(N,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,s,r,i){e!==document&&M.test(t)&&n("AJAX events should be attached to document: "+t),w.call(this,e,O(t||""),s,r,i)},e.event.remove=function(e,t,s,n,r){x.call(this,e,O(t)||"",s,n,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return n("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,s){if(!e.isFunction(t)||!e.isFunction(s))return C.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,i=t.guid||e.guid++,o=0,a=function(s){var n=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,n+1),s.preventDefault(),r[n].apply(this,arguments)||!1};for(a.guid=i;o<r.length;)r[o++].guid=i;return this.click(a)},e.fn.live=function(t,s,r){return n("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,s,r),this)},e.fn.die=function(t,s){return n("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(e(this.context).off(t,this.selector||"**",s),this)},e.event.trigger=function(e,t,s,r){return!s&!M.test(e)&&n("Global events are undocumented and deprecated"),S.call(this,e,t,s||document,r)},e.each(P.split("|"),function(t,s){e.event.special[s]={setup:function(){var t=this;return t!==document&&(e.event.add(document,s+"."+e.guid,function(){e.event.trigger(s,null,t,!0)}),e._data(this,s,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,s+"."+e._data(this,s)),!1}}})}(i["default"],window)},811:function(e,t){"use strict";function s(e,t,s,o){function a(){u.handshake(),d||(s(u),d=!0)}if(s=s||i,o=o||{},!t)throw new Error("Stuff: el not found.");var l=document.createElement("iframe"),u=new n(l,{el:t});u.config=o,window.addEventListener("message",u.messageHandler.bind(u),!1),r.push(l),l.setAttribute("scrolling","no"),l.setAttribute("src",e);for(var c in o.callbacks)o.callbacks.hasOwnProperty(c)&&u.on(c,o.callbacks[c].bind(u));var d=!1;l.addEventListener("load",a,!1),t.appendChild(l)}function n(e,t){if(this.iframe=e,this.callbacks={once:{},always:{}},t.sandbox===!0)this.sandbox="allow-scripts allow-same-origin";else if("string"==typeof t.sandbox){var s=t.sandbox;-1===s.indexOf("allow-scripts")&&(s+=" allow-scripts"),-1===s.indexOf("allow-same-origin")&&(s+=" allow-same-origin"),this.sandbox=s}else this.sandbox=null;this.secret=Math.ceil(999999999*Math.random())+1}Object.defineProperty(t,"__esModule",{value:!0});var r=[],i=function(){};s.clear=function(){r.forEach(function(e){var t=e.parentElement;t&&t.removeChild(e)}),r=[]},n.prototype={trigger:function(e,t){var s,n,r=this;if(s=this.callbacks.once[e],void 0!==s&&s.length>0){var i=s.shift();i.call(i.thisArg||this,t)}n=this.callbacks.always[e],n&&n.forEach(function(e){e.call(e.thisArg||r,t)})},messageHandler:function(e){var t;try{t=JSON.parse(e.data)}catch(s){return}if(t.secret===this.secret){var n=t.data,r=t.type;this.trigger(r,n)}},post:function(e,t){this.iframe.contentWindow.postMessage(JSON.stringify({type:e,data:t,secret:this.secret}),"*")},evaljs:function(e,t,s){var n=function(e){var s,n=e.error,r=n;n&&(s=window[n.__errorType__])&&(r=new s(n.message),r.stack=n.stack,r.type=n.type,r.arguments=n.arguments),(t||i).call(this,r,e.result)};n.thisArg=s,this.once("evaljs",n),this.post("evaljs",e)},transformHTTPToHTTPS:function(e){for(var t=["googleapis.com","herokuapp.com"],s=["s3.amazonaws.com","cdnjs.cloudflare.com","code.jquery.com","www.codecademy.com","www.google.com","bitly.com","bit.ly","js.live.net","firebase.github.io","www.parsecdn.com","connect.soundcloud.com","goog.gl","dl.dropboxusercontent.com","i.imgur.com","api.npr.org"],n=0;n<s.length;n++){var r=s[n];e=e.replace(new RegExp("http://"+r,"g"),"https://"+r)}for(var n=0;n<t.length;n++){var r=t[n],i=new RegExp("http://[^.]*."+r,"g");e=e.replace(i,function(e){return e.replace("http:","https:")}),e=e.replace(new RegExp("http://"+r,"g"),"https://"+r)}return e},load:function(e,t,s){t=t||i,t.thisArg=s,e=this.transformHTTPToHTTPS(e),this.once("load",t),this.post("disableFunctions",this.config.disabledFunctions||[]),this.post("load",e)},html:function(e,t){e=e||i,e.thisArg=t,this.once("html",e),this.post("html",null)},handshake:function(){this.post("handshake",this.sandbox)},once:function(e,t,s){t=t||i,t.thisArg=s,this.callbacks.once[e]=this._pushOrCreate(this.callbacks.once[e],t)},on:function(e,t,s){t=t||i,t.thisArg=s,this.callbacks.always[e]=this._pushOrCreate(this.callbacks.always[e],t)},_pushOrCreate:function(e,t){return e?e.push(t):e=[t],e},off:function(e,t){var s=this.callbacks[e];if(s){var n=s.indexOf(t);-1!==n&&s.splice(n,1)}else this.callbacks[e]=[]}},s.Context=n,t["default"]=s},819:function(e,t,s){var n,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(s.apply(this,n));else if("object"===r)for(var o in n)i.call(n,o)&&n[o]&&e.push(this&&this[o]||o)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=s:(n=[],r=function(){return s}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},981:function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&s.rotl(e,8)|4278255360&s.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=s.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],s=0,n=0;s<e.length;s++,n+=8)t[n>>>5]|=e[s]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],s=0;s<32*e.length;s+=8)t.push(e[s>>>5]>>>24-s%32&255);return t},bytesToHex:function(e){for(var t=[],s=0;s<e.length;s++)t.push((e[s]>>>4).toString(16)),t.push((15&e[s]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(parseInt(e.substr(s,2),16));return t},bytesToBase64:function(e){for(var s=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],i=0;4>i;i++)8*n+6*i<=8*e.length?s.push(t.charAt(r>>>6*(3-i)&63)):s.push("=");return s.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&s.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(n))>>>6-2*r);return s}};e.exports=s}()},1015:function(e,t){},1018:function(e,t){e.exports={disabled:"index__disabled___CT5P9"}},1020:function(e,t){e.exports={hint:"index__hint___19uc6",hintHeader:"index__hintHeader___3jc7L",toggleArrow:"index__toggleArrow___a0-jG",hintHeaderText:"index__hintHeaderText___1gCLv",hintHeaderIcon:"index__hintHeaderIcon___IZjHz",hintBody:"index__hintBody___3kg2J",hintBodyShown:"index__hintBodyShown___1ms0a"}},1021:function(e,t){e.exports={peer:"index__peer___14lMS",useForComponent:"index__useForComponent___29Fx9","status-pulse":"index__status-pulse___3LFqs",userIcon:"index__userIcon___3gmIL",clicked:"index__clicked___2hfzl",none:"index__none___2I8HV",sleeve:"index__sleeve___3BE3l",useElipse:"index__useElipse___2BgeK"}},1022:function(e,t){e.exports={peerStatus:"index__peerStatus___1R-qX",statusMessage:"index__statusMessage___1Redd",statusMessageLink:"index__statusMessageLink___2SLVh",doneBtn:"index__doneBtn___2aCI9"}},1023:function(e,t){e.exports={peers:"index__peers___2wOMz",transitionWrapper:"index__transitionWrapper___3F9fF"}},1024:function(e,t){e.exports={formInputs:"index__formInputs___2Befg",radioOption:"index__radioOption___Kxuxm",optionsTitle:"index__optionsTitle___3FStD",reportForm:"index__reportForm___36ZoF",reportFormText:"index__reportFormText___GmCJB",reportFormTextDisabled:"index__reportFormTextDisabled___aKQLs",reportFormIntroText:"index__reportFormIntroText___3H23t",reportFormIntroLink:"index__reportFormIntroLink___1GzhQ",reportFormButton:"index__reportFormButton___2Cps1",reportFormButtonDisabled:"index__reportFormButtonDisabled___1o9B1",formButtonWrapper:"index__formButtonWrapper___2Xaer",formButton:"index__formButton___1U4ic",errorMessage:"index__errorMessage___284tX",helpText:"index__helpText___3fP43"}},1025:function(e,t){e.exports={shareCodeControl:"index__shareCodeControl___EEmSE",cta:"index__cta___1Md8Y",ctaArrow:"index__ctaArrow___2_jSO"}},1027:function(e,t){e.exports={container:"index__container___3LUzO",quizContainer:"index__quizContainer___2GrhV",quizQuestion:"index__quizQuestion___Tg4W0",codeBlock:"index__codeBlock___1EqN4",quizButton:"index__quizButton___3lWSS",quizButtonActive:"index__quizButtonActive___h3Nb2",quizButtonIndicator:"index__quizButtonIndicator___3-6A6",quizButtonCorrect:"index__quizButtonCorrect___3YGIG",quizButtonIncorrect:"index__quizButtonIncorrect___3g3W_",quizButtonReason:"index__quizButtonReason___1ik3W",quizAnswer:"index__quizAnswer___1werz",quizAnswerCorrect:"index__quizAnswerCorrect___1p9DR",quizAnswerIncorrect:"index__quizAnswerIncorrect___IHLCc"}},1028:function(e,t){e.exports={dialog:"index__dialog___8Gm4R",dialogSection:"index__dialogSection___QPuRe",dialogHeading:"index__dialogHeading___gECTV",dialogButtonGroup:"index__dialogButtonGroup___3MIgJ",quizScoreContainer:"index__quizScoreContainer___3n00d",scorecardBox:"index__scorecardBox___3qND4",quizScoreText:"index__quizScoreText___rl4b-",flexRow:"index__flexRow___1Hd6y",flexCol:"index__flexCol___kJzUi",scorecardBoxIcon:"index__scorecardBoxIcon___2uDxZ",borderLeft:"index__borderLeft___lKGeW",borderBottom:"index__borderBottom___2-g3z",quizScorePercent:"index__quizScorePercent___5j-Uz",quizCorrect:"index__quizCorrect___3oN2A",quizPassing:"index__quizPassing___3hTaJ",quizIncorrect:"index__quizIncorrect___zMuDL",quizFailing:"index__quizFailing___qFeg-",quizSplit:"index__quizSplit___2Ky1v",buttonGroup:"index__buttonGroup___2PVVl"}},1029:function(e,t){e.exports={quizProgress:"index__quizProgress___e9S19",footerCenter:"index__footerCenter___2Ud0k"}},1030:function(e,t){e.exports={dialog:"index__dialog___qXyM4",dialogSection:"index__dialogSection___a4tfE",dialogHeading:"index__dialogHeading___BbG-w",dialogButtonGroup:"index__dialogButtonGroup___2kdix"}},1031:function(e,t){e.exports={platform:"index__platform___2eEvX"}},1044:function(e,t){e.exports={editor:"index__editor___OmgoU"}},1064:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}},1115:function(e,t,s){!function(){var t=s(981),n=s(328).utf8,r=s(1116),i=s(328).bin,o=function(e,s){e.constructor==String?e=s&&"binary"===s.encoding?i.stringToBytes(e):n.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,d=-1732584194,h=271733878,f=0;f<a.length;f++)a[f]=16711935&(a[f]<<8|a[f]>>>24)|4278255360&(a[f]<<24|a[f]>>>8);a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var p=o._ff,m=o._gg,g=o._hh,v=o._ii,f=0;f<a.length;f+=16){var y=u,_=c,b=d,k=h;u=p(u,c,d,h,a[f+0],7,-680876936),h=p(h,u,c,d,a[f+1],12,-389564586),d=p(d,h,u,c,a[f+2],17,606105819),c=p(c,d,h,u,a[f+3],22,-1044525330),u=p(u,c,d,h,a[f+4],7,-176418897),h=p(h,u,c,d,a[f+5],12,1200080426),d=p(d,h,u,c,a[f+6],17,-1473231341),c=p(c,d,h,u,a[f+7],22,-45705983),u=p(u,c,d,h,a[f+8],7,1770035416),h=p(h,u,c,d,a[f+9],12,-1958414417),d=p(d,h,u,c,a[f+10],17,-42063),c=p(c,d,h,u,a[f+11],22,-1990404162),u=p(u,c,d,h,a[f+12],7,1804603682),h=p(h,u,c,d,a[f+13],12,-40341101),d=p(d,h,u,c,a[f+14],17,-1502002290),c=p(c,d,h,u,a[f+15],22,1236535329),u=m(u,c,d,h,a[f+1],5,-165796510),h=m(h,u,c,d,a[f+6],9,-1069501632),d=m(d,h,u,c,a[f+11],14,643717713),c=m(c,d,h,u,a[f+0],20,-373897302),u=m(u,c,d,h,a[f+5],5,-701558691),h=m(h,u,c,d,a[f+10],9,38016083),d=m(d,h,u,c,a[f+15],14,-660478335),c=m(c,d,h,u,a[f+4],20,-405537848),u=m(u,c,d,h,a[f+9],5,568446438),h=m(h,u,c,d,a[f+14],9,-1019803690),d=m(d,h,u,c,a[f+3],14,-187363961),c=m(c,d,h,u,a[f+8],20,1163531501),u=m(u,c,d,h,a[f+13],5,-1444681467),h=m(h,u,c,d,a[f+2],9,-51403784),d=m(d,h,u,c,a[f+7],14,1735328473),c=m(c,d,h,u,a[f+12],20,-1926607734),u=g(u,c,d,h,a[f+5],4,-378558),h=g(h,u,c,d,a[f+8],11,-2022574463),d=g(d,h,u,c,a[f+11],16,1839030562),c=g(c,d,h,u,a[f+14],23,-35309556),u=g(u,c,d,h,a[f+1],4,-1530992060),h=g(h,u,c,d,a[f+4],11,1272893353),d=g(d,h,u,c,a[f+7],16,-155497632),c=g(c,d,h,u,a[f+10],23,-1094730640),u=g(u,c,d,h,a[f+13],4,681279174),h=g(h,u,c,d,a[f+0],11,-358537222),d=g(d,h,u,c,a[f+3],16,-722521979),c=g(c,d,h,u,a[f+6],23,76029189),u=g(u,c,d,h,a[f+9],4,-640364487),h=g(h,u,c,d,a[f+12],11,-421815835),d=g(d,h,u,c,a[f+15],16,530742520),c=g(c,d,h,u,a[f+2],23,-995338651),u=v(u,c,d,h,a[f+0],6,-198630844),h=v(h,u,c,d,a[f+7],10,1126891415),d=v(d,h,u,c,a[f+14],15,-1416354905),c=v(c,d,h,u,a[f+5],21,-57434055),u=v(u,c,d,h,a[f+12],6,1700485571),h=v(h,u,c,d,a[f+3],10,-1894986606),d=v(d,h,u,c,a[f+10],15,-1051523),c=v(c,d,h,u,a[f+1],21,-2054922799),u=v(u,c,d,h,a[f+8],6,1873313359),h=v(h,u,c,d,a[f+15],10,-30611744),d=v(d,h,u,c,a[f+6],15,-1560198380),c=v(c,d,h,u,a[f+13],21,1309151649),u=v(u,c,d,h,a[f+4],6,-145523070),h=v(h,u,c,d,a[f+11],10,-1120210379),d=v(d,h,u,c,a[f+2],15,718787259),c=v(c,d,h,u,a[f+9],21,-343485551),u=u+y>>>0,c=c+_>>>0,d=d+b>>>0,h=h+k>>>0}return t.endian([u,c,d,h])};o._ff=function(e,t,s,n,r,i,o){var a=e+(t&s|~t&n)+(r>>>0)+o;return(a<<i|a>>>32-i)+t},o._gg=function(e,t,s,n,r,i,o){var a=e+(t&n|s&~n)+(r>>>0)+o;return(a<<i|a>>>32-i)+t},o._hh=function(e,t,s,n,r,i,o){var a=e+(t^s^n)+(r>>>0)+o;return(a<<i|a>>>32-i)+t},o._ii=function(e,t,s,n,r,i,o){var a=e+(s^(t|~n))+(r>>>0)+o;return(a<<i|a>>>32-i)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,s){if("undefined"!=typeof e){var n=t.wordsToBytes(o(e,s));return s&&s.asBytes?n:s&&s.asString?i.bytesToString(n):t.bytesToHex(n)}}}()},1116:function(e,t){e.exports=function(e){return!(null==e||!e.constructor||"function"!=typeof e.constructor.isBuffer||!e.constructor.isBuffer(e))}},1122:function(e,t,s){"use strict";e.exports=s(502)},1219:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1224:function(e,t){function s(e,t,s){var n;return n=t?new r(e,t):new r(e)}var n=function(){return this}(),r=n.WebSocket||n.MozWebSocket;e.exports=r?s:null,r&&(s.prototype=r.prototype)}});
=<Qd      VV<4FV   i:https://cdn-production.codecademy.com/assets/webpack/platform.bundle-5fd054a0438e5961c1f14cb52b54e047.js necko:classified 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8F+O2DZM7ZTG6GukivU8OT5gAAAAAAAAUHMIIFAzCCA+ugAwIBAgIRAKG4uTt4o1Qk/TkGbf/6SS8wDQYJKoZIhvcNAQELBQAwXzELMAkGA1UEBhMCRlIxDjAMBgNVBAgTBVBhcmlzMQ4wDAYDVQQHEwVQYXJpczEOMAwGA1UEChMFR2FuZGkxIDAeBgNVBAMTF0dhbmRpIFN0YW5kYXJkIFNTTCBDQSAyMB4XDTE1MTIwMjAwMDAwMFoXDTE3MDExMDIzNTk1OVowZDEhMB8GA1UECxMYRG9tYWluIENvbnRyb2wgVmFsaWRhdGVkMSQwIgYDVQQLExtHYW5kaSBTdGFuZGFyZCBXaWxkY2FyZCBTU0wxGTAXBgNVBAMMECouY29kZWNhZGVteS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDMKavOf5CnQxDSNE8DdtOoKb7QD71Ej/uqN8Jj3hkVRRpEBEHIQEbJLCnZ2h9sJmYpDssOBz0Nu7J2FF57Ibv0pj6Na/881Is3+wqqVOWgRkBzdvScbD8fKs7xjGdDOk65AuZvkBLzTUQ0QHWShmYZkyPEMHH1LEaeWrgSpCpLuIAwu++vk88ExKMdLJTl6KfAkBux+6x39LCE5P08HKRmmZg5O1efz2mceIvm0nyAT4QAEG6aelQ7QnzaJEB2HsZ8D0VQqLEcW+21K0Milg0xJM7r/ufZBkNMDl5q3mCM0MfTzZ6I/GcpD4/+dhpciurEO2DIRT07obJMOTtb1o3fAgMBAAGjggGzMIIBrzAfBgNVHSMEGDAWgBSzkKfYya9OzWE8n3ytXX9B/Wkw6jAdBgNVHQ4EFgQUJiokzYzM5MqHUFQGFBzUMhFf15AwDgYDVR0PAQH/BAQDAgWgMAwGA1UdEwEB/wQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMEsGA1UdIAREMEIwNgYLKwYBBAGyMQECAhowJzAlBggrBgEFBQcCARYZaHR0cHM6Ly9jcHMudXNlcnRydXN0LmNvbTAIBgZngQwBAgEwQQYDVR0fBDowODA2oDSgMoYwaHR0cDovL2NybC51c2VydHJ1c3QuY29tL0dhbmRpU3RhbmRhcmRTU0xDQTIuY3JsMHMGCCsGAQUFBwEBBGcwZTA8BggrBgEFBQcwAoYwaHR0cDovL2NydC51c2VydHJ1c3QuY29tL0dhbmRpU3RhbmRhcmRTU0xDQTIuY3J0MCUGCCsGAQUFBzABhhlodHRwOi8vb2NzcC51c2VydHJ1c3QuY29tMCsGA1UdEQQkMCKCECouY29kZWNhZGVteS5jb22CDmNvZGVjYWRlbXkuY29tMA0GCSqGSIb3DQEBCwUAA4IBAQCO+rHhGcvmsNYRAm3bBEzF+gA2GsJvnoROejvLHswFEBpYc6wVL2lwsyJyjFH5SvnmB02cMde4H199dXA5+zRiqqbYJ+aptzxLylSyn6Gs9XRaTx1cJ3BMP2JlUGvfL81kPShFjx4EaMFXR/HFx7XvrZ0zhT2/+YHaBbHrA0HCmhaUA9a3Of26QUABLxtIT+tzLXHyMD22JdgiCHPZuo5fbv96Rwdc1KVXP4KF0iSdjVJHaPH8L7u3hl9Rd8gParHxY/6uDH+WhfZ4NKO5GeMXYYGMk+JBt0CeUwYAule06aFsZpy9yUyxcdgreYxuFVXW7nPE1ST8lhjJpsa4FQQtwC8AAwAAAAABAQAA request-method GET request-Accept-Encoding gzip, deflate, br response-head HTTP/1.1 200 OK
Content-Type: application/x-javascript
Content-Length: 481098
Accept-Ranges: bytes
Date: Sat, 05 Mar 2016 13:45:25 GMT
Etag: "56d9e18c-7574a"
Last-Modified: Fri, 04 Mar 2016 19:27:08 GMT
Server: nginx
Vary: Accept-Encoding
Age: 65577
X-Cache: Hit from cloudfront
Via: 1.1 1d16403705fd4f8204c72a3a35f60982.cloudfront.net (CloudFront)
X-Amz-Cf-Id: fqmubWDn7-CVea-0pSfW-6lVJuKDOfyIAzaDLKArhXsk6vv_ISrbAg==
 uncompressed-len 0  WJ